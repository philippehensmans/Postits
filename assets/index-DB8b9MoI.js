(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();var wf={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function KE(){if(my)return Ul;my=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var y in u)y!=="key"&&(f[y]=u[y])}else f=u;return u=f.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:f}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var gy;function ZE(){return gy||(gy=1,wf.exports=KE()),wf.exports}var Kt=ZE(),Df={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function JE(){if(py)return pt;py=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),z=Symbol.iterator;function Q(I){return I===null||typeof I!="object"?null:(I=z&&I[z]||I["@@iterator"],typeof I=="function"?I:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Z={};function dt(I,F,tt){this.props=I,this.context=F,this.refs=Z,this.updater=tt||$}dt.prototype.isReactComponent={},dt.prototype.setState=function(I,F){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,F,"setState")},dt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function _t(){}_t.prototype=dt.prototype;function ht(I,F,tt){this.props=I,this.context=F,this.refs=Z,this.updater=tt||$}var qt=ht.prototype=new _t;qt.constructor=ht,et(qt,dt.prototype),qt.isPureReactComponent=!0;var Zt=Array.isArray;function Vt(){}var S={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(I,F,tt){var it=tt.ref;return{$$typeof:r,type:I,key:F,ref:it!==void 0?it:null,props:tt}}function M(I,F){return R(I.type,F,I.props)}function V(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function x(I){var F={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(tt){return F[tt]})}var C=/\/+/g;function ne(I,F){return typeof I=="object"&&I!==null&&I.key!=null?x(""+I.key):F.toString(36)}function Re(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Vt,Vt):(I.status="pending",I.then(function(F){I.status==="pending"&&(I.status="fulfilled",I.value=F)},function(F){I.status==="pending"&&(I.status="rejected",I.reason=F)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,F,tt,it,mt){var Tt=typeof I;(Tt==="undefined"||Tt==="boolean")&&(I=null);var It=!1;if(I===null)It=!0;else switch(Tt){case"bigint":case"string":case"number":It=!0;break;case"object":switch(I.$$typeof){case r:case e:It=!0;break;case b:return It=I._init,H(It(I._payload),F,tt,it,mt)}}if(It)return mt=mt(I),It=it===""?"."+ne(I,0):it,Zt(mt)?(tt="",It!=null&&(tt=It.replace(C,"$&/")+"/"),H(mt,F,tt,"",function(La){return La})):mt!=null&&(V(mt)&&(mt=M(mt,tt+(mt.key==null||I&&I.key===mt.key?"":(""+mt.key).replace(C,"$&/")+"/")+It)),F.push(mt)),1;It=0;var Ce=it===""?".":it+":";if(Zt(I))for(var ie=0;ie<I.length;ie++)it=I[ie],Tt=Ce+ne(it,ie),It+=H(it,F,tt,Tt,mt);else if(ie=Q(I),typeof ie=="function")for(I=ie.call(I),ie=0;!(it=I.next()).done;)it=it.value,Tt=Ce+ne(it,ie++),It+=H(it,F,tt,Tt,mt);else if(Tt==="object"){if(typeof I.then=="function")return H(Re(I),F,tt,it,mt);throw F=String(I),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return It}function W(I,F,tt){if(I==null)return I;var it=[],mt=0;return H(I,it,"","",function(Tt){return F.call(tt,Tt,mt++)}),it}function ut(I){if(I._status===-1){var F=I._result;F=F(),F.then(function(tt){(I._status===0||I._status===-1)&&(I._status=1,I._result=tt)},function(tt){(I._status===0||I._status===-1)&&(I._status=2,I._result=tt)}),I._status===-1&&(I._status=0,I._result=F)}if(I._status===1)return I._result.default;throw I._result}var xt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},jt={map:W,forEach:function(I,F,tt){W(I,function(){F.apply(this,arguments)},tt)},count:function(I){var F=0;return W(I,function(){F++}),F},toArray:function(I){return W(I,function(F){return F})||[]},only:function(I){if(!V(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return pt.Activity=D,pt.Children=jt,pt.Component=dt,pt.Fragment=i,pt.Profiler=u,pt.PureComponent=ht,pt.StrictMode=s,pt.Suspense=v,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,pt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return S.H.useMemoCache(I)}},pt.cache=function(I){return function(){return I.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(I,F,tt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var it=et({},I.props),mt=I.key;if(F!=null)for(Tt in F.key!==void 0&&(mt=""+F.key),F)!A.call(F,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&F.ref===void 0||(it[Tt]=F[Tt]);var Tt=arguments.length-2;if(Tt===1)it.children=tt;else if(1<Tt){for(var It=Array(Tt),Ce=0;Ce<Tt;Ce++)It[Ce]=arguments[Ce+2];it.children=It}return R(I.type,mt,it)},pt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:f,_context:I},I},pt.createElement=function(I,F,tt){var it,mt={},Tt=null;if(F!=null)for(it in F.key!==void 0&&(Tt=""+F.key),F)A.call(F,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=F[it]);var It=arguments.length-2;if(It===1)mt.children=tt;else if(1<It){for(var Ce=Array(It),ie=0;ie<It;ie++)Ce[ie]=arguments[ie+2];mt.children=Ce}if(I&&I.defaultProps)for(it in It=I.defaultProps,It)mt[it]===void 0&&(mt[it]=It[it]);return R(I,Tt,mt)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(I){return{$$typeof:y,render:I}},pt.isValidElement=V,pt.lazy=function(I){return{$$typeof:b,_payload:{_status:-1,_result:I},_init:ut}},pt.memo=function(I,F){return{$$typeof:_,type:I,compare:F===void 0?null:F}},pt.startTransition=function(I){var F=S.T,tt={};S.T=tt;try{var it=I(),mt=S.S;mt!==null&&mt(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Vt,xt)}catch(Tt){xt(Tt)}finally{F!==null&&tt.types!==null&&(F.types=tt.types),S.T=F}},pt.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},pt.use=function(I){return S.H.use(I)},pt.useActionState=function(I,F,tt){return S.H.useActionState(I,F,tt)},pt.useCallback=function(I,F){return S.H.useCallback(I,F)},pt.useContext=function(I){return S.H.useContext(I)},pt.useDebugValue=function(){},pt.useDeferredValue=function(I,F){return S.H.useDeferredValue(I,F)},pt.useEffect=function(I,F){return S.H.useEffect(I,F)},pt.useEffectEvent=function(I){return S.H.useEffectEvent(I)},pt.useId=function(){return S.H.useId()},pt.useImperativeHandle=function(I,F,tt){return S.H.useImperativeHandle(I,F,tt)},pt.useInsertionEffect=function(I,F){return S.H.useInsertionEffect(I,F)},pt.useLayoutEffect=function(I,F){return S.H.useLayoutEffect(I,F)},pt.useMemo=function(I,F){return S.H.useMemo(I,F)},pt.useOptimistic=function(I,F){return S.H.useOptimistic(I,F)},pt.useReducer=function(I,F,tt){return S.H.useReducer(I,F,tt)},pt.useRef=function(I){return S.H.useRef(I)},pt.useState=function(I){return S.H.useState(I)},pt.useSyncExternalStore=function(I,F,tt){return S.H.useSyncExternalStore(I,F,tt)},pt.useTransition=function(){return S.H.useTransition()},pt.version="19.2.0",pt}var yy;function hd(){return yy||(yy=1,Df.exports=JE()),Df.exports}var yn=hd(),Vf={exports:{}},Ll={},Nf={exports:{}},If={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function $E(){return _y||(_y=1,(function(r){function e(H,W){var ut=H.length;H.push(W);t:for(;0<ut;){var xt=ut-1>>>1,jt=H[xt];if(0<u(jt,W))H[xt]=W,H[ut]=jt,ut=xt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var W=H[0],ut=H.pop();if(ut!==W){H[0]=ut;t:for(var xt=0,jt=H.length,I=jt>>>1;xt<I;){var F=2*(xt+1)-1,tt=H[F],it=F+1,mt=H[it];if(0>u(tt,ut))it<jt&&0>u(mt,tt)?(H[xt]=mt,H[it]=ut,xt=it):(H[xt]=tt,H[F]=ut,xt=F);else if(it<jt&&0>u(mt,ut))H[xt]=mt,H[it]=ut,xt=it;else break t}}return W}function u(H,W){var ut=H.sortIndex-W.sortIndex;return ut!==0?ut:H.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],b=1,D=null,z=3,Q=!1,$=!1,et=!1,Z=!1,dt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function qt(H){for(var W=i(_);W!==null;){if(W.callback===null)s(_);else if(W.startTime<=H)s(_),W.sortIndex=W.expirationTime,e(v,W);else break;W=i(_)}}function Zt(H){if(et=!1,qt(H),!$)if(i(v)!==null)$=!0,Vt||(Vt=!0,x());else{var W=i(_);W!==null&&Re(Zt,W.startTime-H)}}var Vt=!1,S=-1,A=5,R=-1;function M(){return Z?!0:!(r.unstable_now()-R<A)}function V(){if(Z=!1,Vt){var H=r.unstable_now();R=H;var W=!0;try{t:{$=!1,et&&(et=!1,_t(S),S=-1),Q=!0;var ut=z;try{e:{for(qt(H),D=i(v);D!==null&&!(D.expirationTime>H&&M());){var xt=D.callback;if(typeof xt=="function"){D.callback=null,z=D.priorityLevel;var jt=xt(D.expirationTime<=H);if(H=r.unstable_now(),typeof jt=="function"){D.callback=jt,qt(H),W=!0;break e}D===i(v)&&s(v),qt(H)}else s(v);D=i(v)}if(D!==null)W=!0;else{var I=i(_);I!==null&&Re(Zt,I.startTime-H),W=!1}}break t}finally{D=null,z=ut,Q=!1}W=void 0}}finally{W?x():Vt=!1}}}var x;if(typeof ht=="function")x=function(){ht(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ne=C.port2;C.port1.onmessage=V,x=function(){ne.postMessage(null)}}else x=function(){dt(V,0)};function Re(H,W){S=dt(function(){H(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return z},r.unstable_next=function(H){switch(z){case 1:case 2:case 3:var W=3;break;default:W=z}var ut=z;z=W;try{return H()}finally{z=ut}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=z;z=H;try{return W()}finally{z=ut}},r.unstable_scheduleCallback=function(H,W,ut){var xt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?xt+ut:xt):ut=xt,H){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ut+jt,H={id:b++,callback:W,priorityLevel:H,startTime:ut,expirationTime:jt,sortIndex:-1},ut>xt?(H.sortIndex=ut,e(_,H),i(v)===null&&H===i(_)&&(et?(_t(S),S=-1):et=!0,Re(Zt,ut-xt))):(H.sortIndex=jt,e(v,H),$||Q||($=!0,Vt||(Vt=!0,x()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var W=z;return function(){var ut=z;z=W;try{return H.apply(this,arguments)}finally{z=ut}}}})(If)),If}var vy;function WE(){return vy||(vy=1,Nf.exports=$E()),Nf.exports}var Mf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function tT(){if(Ey)return Qe;Ey=1;var r=hd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(v,_,b){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:v,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,b)},Qe.flushSync=function(v){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=b,s.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,D=y(b,_.crossOrigin),z=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:z,fetchPriority:Q}):b==="script"&&s.d.X(v,{crossOrigin:D,integrity:z,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,D=y(b,_.crossOrigin);s.d.L(v,b,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Qe.requestFormReset=function(v){s.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var Ty;function eT(){if(Ty)return Mf.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mf.exports=tT(),Mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function nT(){if(Ay)return Ll;Ay=1;var r=WE(),e=hd(),i=eT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return v(c),t;if(h===l)return v(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=h;break}if(E===l){g=!0,l=c,a=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===a){g=!0,a=h,l=c;break}if(E===l){g=!0,l=h,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var D=Object.assign,z=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case dt:return"Profiler";case Z:return"StrictMode";case Zt:return"Suspense";case Vt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ht:return t.displayName||"Context";case _t:return(t._context.displayName||"Context")+".Consumer";case qt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return n=t.displayName||null,n!==null?n:ne(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return ne(t(n))}catch{}}return null}var Re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},xt=[],jt=-1;function I(t){return{current:t}}function F(t){0>jt||(t.current=xt[jt],xt[jt]=null,jt--)}function tt(t,n){jt++,xt[jt]=t.current,t.current=n}var it=I(null),mt=I(null),Tt=I(null),It=I(null);function Ce(t,n){switch(tt(Tt,n),tt(mt,t),tt(it,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Lp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Lp(n),t=Bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(it),tt(it,t)}function ie(){F(it),F(mt),F(Tt)}function La(t){t.memoizedState!==null&&tt(It,t);var n=it.current,a=Bp(n,t.type);n!==a&&(tt(mt,t),tt(it,a))}function As(t){mt.current===t&&(F(it),F(mt)),It.current===t&&(F(It),Ml._currentValue=ut)}var Ss,bs;function Yn(t){if(Ss===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ss=n&&n[1]||"",bs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+bs}var Mr=!1;function Ba(t,n){if(!t||Mr)return"";Mr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var q=j}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(j){q=j}t.call(Y.prototype)}}else{try{throw Error()}catch(j){q=j}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&q&&typeof j.stack=="string")return[j.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var w=g.split(`
`),B=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===B.length)for(l=w.length-1,c=B.length-1;1<=l&&0<=c&&w[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==B[c]){var k=`
`+w[l].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=l&&0<=c);break}}}finally{Mr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function Or(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Ba(t.type,!1);case 11:return Ba(t.type.render,!1);case 1:return Ba(t.type,!0);case 31:return Yn("Activity");default:return""}}function xr(t){try{var n="",a=null;do n+=Or(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,we=r.unstable_scheduleCallback,Gi=r.unstable_cancelCallback,Dc=r.unstable_shouldYield,uu=r.unstable_requestPaint,Ke=r.unstable_now,qa=r.unstable_getCurrentPriorityLevel,zr=r.unstable_ImmediatePriority,Ur=r.unstable_UserBlockingPriority,Qi=r.unstable_NormalPriority,Vc=r.unstable_LowPriority,ou=r.unstable_IdlePriority,cu=r.log,hu=r.unstable_setDisableYieldValue,On=null,Ue=null;function vn(t){if(typeof cu=="function"&&hu(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(On,t)}catch{}}var oe=Math.clz32?Math.clz32:du,fu=Math.log,Rs=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(fu(t)/Rs|0)|0}var Fn=256,Pa=262144,ge=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Xn(l):(g&=E,g!==0?c=Xn(g):a||(a=E&~t,a!==0&&(c=Xn(a))))):(E=l&~h,E!==0?c=Xn(E):g!==0?c=Xn(g):a||(a=l&~t,a!==0&&(c=Xn(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function xn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Nc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),t}function Zn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ja(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ic(t,n,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var k=31-oe(a),Y=1<<k;E[k]=0,w[k]=-1;var q=B[k];if(q!==null)for(B[k]=null,k=0;k<q.length;k++){var j=q[k];j!==null&&(j.lane&=-536870913)}a&=~Y}l!==0&&ka(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function ka(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-oe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Lr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-oe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Br(t,n){var a=n&-n;return a=(a&42)!==0?1:Ha(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ha(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gu(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:ly(t.type))}function zn(t,n){var a=W.p;try{return W.p=t,n()}finally{W.p=a}}var Un=Math.random().toString(36).slice(2),pe="__reactFiber$"+Un,Me="__reactProps$"+Un,Jn="__reactContainer$"+Un,Cs="__reactEvents$"+Un,Mc="__reactListeners$"+Un,pu="__reactHandles$"+Un,yu="__reactResources$"+Un,$n="__reactMarker$"+Un;function ws(t){delete t[pe],delete t[Me],delete t[Cs],delete t[Mc],delete t[pu]}function Wn(t){var n=t[pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Jn]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Qp(t);t!==null;){if(a=t[pe])return a;t=Qp(t)}return n}t=a,a=t.parentNode}return null}function En(t){if(t=t[pe]||t[Jn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ti(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(t){t[$n]=!0}var qr=new Set,Pr={};function ei(t,n){ni(t,n),ni(t+"Capture",n)}function ni(t,n){for(Pr[t]=n,t=0;t<n.length;t++)qr.add(n[t])}var jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kr={},Hr={};function _u(t){return me.call(Hr,t)?!0:me.call(kr,t)?!1:jr.test(t)?Hr[t]=!0:(kr[t]=!0,!1)}function Ds(t,n,a){if(_u(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function on(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _e(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function kt(t){if(!t._valueTracker){var n=Yi(t)?"checked":"value";t._valueTracker=Gr(t,n,""+t[n])}}function Ga(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Yi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qa=/[\n"\\]/g;function $e(t){return t.replace(Qa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vs(t,n,a,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Qr(t,g,Oe(n)):a!=null?Qr(t,g,Oe(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function vu(t,n,a,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){kt(t);return}a=a!=null?""+Oe(a):"",n=n!=null?""+Oe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),kt(t)}function Qr(t,n,a){n==="number"&&ii(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Oe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Eu(t,n,a){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Oe(a):""}function Xi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Oe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),kt(t)}function We(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Tu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Fr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Yr(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Yr(t,h,n[h])}function Ns(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(t){return Ki.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var Xr=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,ai=null;function Ya(t){var n=En(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Vs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$e(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(s(90));Vs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ga(l)}break t;case"textarea":Eu(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Fi(t,!!a.multiple,n,!1)}}}var Ms=!1;function Ji(t,n,a){if(Ms)return t(n,a);Ms=!0;try{var l=t(n);return l}finally{if(Ms=!1,(Zi!==null||ai!==null)&&(po(),Zi&&(n=Zi,t=ai,ai=Zi=null,Ya(n),t)))for(n=0;n<t.length;n++)Ya(t[n])}}function Bn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(An)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{Fa=!1}var si=null,Kr=null,Xa=null;function Zr(){if(Xa)return Xa;var t,n=Kr,a=n.length,l,c="value"in si?si.value:si.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return Xa=c.slice(t,1<l?1-l:void 0)}function Ka(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ai(){return!0}function qn(){return!1}function Le(t){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ai:qn,this.isPropagationStopped=qn,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),n}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=Le(Si),$i=D({},Si,{view:0,detail:0}),Jr=Le($i),Wi,Os,li,xs=D({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Wi=t.screenX-li.screenX,Os=t.screenY-li.screenY):Os=Wi=0,li=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:Os}}),$r=Le(xs),Za=D({},xs,{dataTransfer:0}),Su=Le(Za),bu=D({},$i,{relatedTarget:0}),Ja=Le(bu),Wr=D({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=Le(Wr),zs=D({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=Le(zs),wu=D({},Si,{data:0}),ui=Le(wu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function ta(){return Iu}var Ze=D({},$i,{key:function(t){if(t.key){var n=Du[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ka(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?Ka(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ka(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=Le(Ze),Ou=D({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bi=Le(Ou),o=D({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),m=Le(o),p=D({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Le(p),U=D({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=Le(U),J=D({},Si,{newState:0,oldState:0}),vt=Le(J),ce=[9,13,27,32],Lt=An&&"CompositionEvent"in window,ae=null;An&&"documentMode"in document&&(ae=document.documentMode);var Sn=An&&"TextEvent"in window&&!ae,oi=An&&(!Lt||ae&&8<ae&&11>=ae),Pn=" ",jn=!1;function $a(t,n){switch(t){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Us(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ls=!1;function v0(t,n){switch(t){case"compositionend":return Us(n);case"keypress":return n.which!==32?null:(jn=!0,Pn);case"textInput":return t=n.data,t===Pn&&jn?null:t;default:return null}}function E0(t,n){if(Ls)return t==="compositionend"||!Lt&&$a(t,n)?(t=Zr(),Xa=Kr=si=null,Ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oi&&n.locale!=="ko"?null:n.data;default:return null}}var T0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!T0[t.type]:n==="textarea"}function Kd(t,n,a,l){Zi?ai?ai.push(l):ai=[l]:Zi=l,n=So(n,"onChange"),0<n.length&&(a=new ri("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var tl=null,el=null;function A0(t){Ip(t,0)}function xu(t){var n=un(t);if(Ga(n))return t}function Zd(t,n){if(t==="change")return n}var Jd=!1;if(An){var Oc;if(An){var xc="oninput"in document;if(!xc){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),xc=typeof $d.oninput=="function"}Oc=xc}else Oc=!1;Jd=Oc&&(!document.documentMode||9<document.documentMode)}function Wd(){tl&&(tl.detachEvent("onpropertychange",tm),el=tl=null)}function tm(t){if(t.propertyName==="value"&&xu(el)){var n=[];Kd(n,el,t,Tn(t)),Ji(A0,n)}}function S0(t,n,a){t==="focusin"?(Wd(),tl=n,el=a,tl.attachEvent("onpropertychange",tm)):t==="focusout"&&Wd()}function b0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(el)}function R0(t,n){if(t==="click")return xu(n)}function C0(t,n){if(t==="input"||t==="change")return xu(n)}function w0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:w0;function nl(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!me.call(n,c)||!cn(t[c],n[c]))return!1}return!0}function em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nm(t,n){var a=em(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=em(a)}}function im(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?im(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function am(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ii(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ii(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var D0=An&&"documentMode"in document&&11>=document.documentMode,Bs=null,Uc=null,il=null,Lc=!1;function sm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lc||Bs==null||Bs!==ii(l)||(l=Bs,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=So(Uc,"onSelect"),0<l.length&&(n=new ri("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Bs)))}function Wa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var qs={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Bc={},rm={};An&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function ts(t){if(Bc[t])return Bc[t];if(!qs[t])return t;var n=qs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in rm)return Bc[t]=n[a];return t}var lm=ts("animationend"),um=ts("animationiteration"),om=ts("animationstart"),V0=ts("transitionrun"),N0=ts("transitionstart"),I0=ts("transitioncancel"),cm=ts("transitionend"),hm=new Map,qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qc.push("scrollEnd");function kn(t,n){hm.set(t,n),ei(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],Ps=0,Pc=0;function Uu(){for(var t=Ps,n=Pc=Ps=0;n<t;){var a=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var h=bn[n];if(bn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&fm(a,c,h)}}function Lu(t,n,a,l){bn[Ps++]=t,bn[Ps++]=n,bn[Ps++]=a,bn[Ps++]=l,Pc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jc(t,n,a,l){return Lu(t,n,a,l),Bu(t)}function es(t,n){return Lu(t,null,null,n),Bu(t)}function fm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-oe(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Bu(t){if(50<Rl)throw Rl=0,Zh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var js={};function M0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,n,a,l){return new M0(t,n,a,l)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,n){var a=t.alternate;return a===null?(a=hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qu(t,n,a,l,c,h){var g=0;if(l=t,typeof t=="function")kc(t)&&(g=1);else if(typeof t=="string")g=LE(t,a,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=hn(31,a,n,c),t.elementType=R,t.lanes=h,t;case et:return ns(a.children,c,h,n);case Z:g=8,c|=24;break;case dt:return t=hn(12,a,n,c|2),t.elementType=dt,t.lanes=h,t;case Zt:return t=hn(13,a,n,c),t.elementType=Zt,t.lanes=h,t;case Vt:return t=hn(19,a,n,c),t.elementType=Vt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ht:g=10;break t;case _t:g=9;break t;case qt:g=11;break t;case S:g=14;break t;case A:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=hn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function ns(t,n,a,l){return t=hn(7,t,l,n),t.lanes=a,t}function Hc(t,n,a){return t=hn(6,t,null,n),t.lanes=a,t}function mm(t){var n=hn(18,null,null,0);return n.stateNode=t,n}function Gc(t,n,a){return n=hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var gm=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var a=gm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:xr(n)},gm.set(t,n),n)}return{value:t,source:n,stack:xr(n)}}var ks=[],Hs=0,Pu=null,al=0,Cn=[],wn=0,ea=null,ci=1,hi="";function Ci(t,n){ks[Hs++]=al,ks[Hs++]=Pu,Pu=t,al=n}function pm(t,n,a){Cn[wn++]=ci,Cn[wn++]=hi,Cn[wn++]=ea,ea=t;var l=ci;t=hi;var c=32-oe(l)-1;l&=~(1<<c),a+=1;var h=32-oe(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ci=1<<32-oe(n)+c|a<<c|l,hi=h+t}else ci=1<<h|a<<c|l,hi=t}function Qc(t){t.return!==null&&(Ci(t,1),pm(t,1,0))}function Yc(t){for(;t===Pu;)Pu=ks[--Hs],ks[Hs]=null,al=ks[--Hs],ks[Hs]=null;for(;t===ea;)ea=Cn[--wn],Cn[wn]=null,hi=Cn[--wn],Cn[wn]=null,ci=Cn[--wn],Cn[wn]=null}function ym(t,n){Cn[wn++]=ci,Cn[wn++]=hi,Cn[wn++]=ea,ci=n.id,hi=n.overflow,ea=t}var Be=null,$t=null,Nt=!1,na=null,Dn=!1,Fc=Error(s(519));function ia(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(Rn(n,t)),Fc}function _m(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[pe]=t,n[Me]=l,a){case"dialog":bt("cancel",n),bt("close",n);break;case"iframe":case"object":case"embed":bt("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)bt(wl[a],n);break;case"source":bt("error",n);break;case"img":case"image":case"link":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"input":bt("invalid",n),vu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":bt("invalid",n);break;case"textarea":bt("invalid",n),Xi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||zp(n.textContent,a)?(l.popover!=null&&(bt("beforetoggle",n),bt("toggle",n)),l.onScroll!=null&&bt("scroll",n),l.onScrollEnd!=null&&bt("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||ia(t,!0)}function vm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Be=Be.return}}function Gs(t){if(t!==Be)return!1;if(!Nt)return vm(t),Nt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ff(t.type,t.memoizedProps)),a=!a),a&&$t&&ia(t),vm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));$t=Gp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));$t=Gp(t)}else n===27?(n=$t,ya(t.type)?(t=yf,yf=null,$t=t):$t=n):$t=Be?Nn(t.stateNode.nextSibling):null;return!0}function is(){$t=Be=null,Nt=!1}function Xc(){var t=na;return t!==null&&(an===null?an=t:an.push.apply(an,t),na=null),t}function sl(t){na===null?na=[t]:na.push(t)}var Kc=I(null),as=null,wi=null;function aa(t,n,a){tt(Kc,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=Kc.current,F(Kc)}function Zc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Jc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Zc(h.return,a,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),Zc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Qs(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;cn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===It.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}c=c.return}t!==null&&Jc(n,t,a,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){as=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Em(as,t)}function ku(t,n){return as===null&&ss(t),Em(t,n)}function Em(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(s(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var O0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},x0=r.unstable_scheduleCallback,z0=r.unstable_NormalPriority,ve={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $c(){return{controller:new O0,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&x0(z0,function(){t.controller.abort()})}var ll=null,Wc=0,Ys=0,Fs=null;function U0(t,n){if(ll===null){var a=ll=[];Wc=0,Ys=nf(),Fs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wc++,n.then(Tm,Tm),n}function Tm(){if(--Wc===0&&ll!==null){Fs!==null&&(Fs.status="fulfilled");var t=ll;ll=null,Ys=0,Fs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function L0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Am=H.S;H.S=function(t,n){sp=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&U0(t,n),Am!==null&&Am(t,n)};var rs=I(null);function th(){var t=rs.current;return t!==null?t:Jt.pooledCache}function Hu(t,n){n===null?tt(rs,rs.current):tt(rs,n.pool)}function Sm(){var t=th();return t===null?null:{parent:ve._currentValue,pool:t}}var Xs=Error(s(460)),eh=Error(s(474)),Gu=Error(s(542)),Qu={then:function(){}};function bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ln,Ln),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wm(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wm(t),t}throw us=n,Xs}}function ls(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(us=a,Xs):a}}var us=null;function Cm(){if(us===null)throw Error(s(459));var t=us;return us=null,t}function wm(t){if(t===Xs||t===Gu)throw Error(s(483))}var Ks=null,ul=0;function Yu(t){var n=ul;return ul+=1,Ks===null&&(Ks=[]),Rm(Ks,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===z?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Dm(t){function n(O,N){if(t){var L=O.deletions;L===null?(O.deletions=[N],O.flags|=16):L.push(N)}}function a(O,N){if(!t)return null;for(;N!==null;)n(O,N),N=N.sibling;return null}function l(O){for(var N=new Map;O!==null;)O.key!==null?N.set(O.key,O):N.set(O.index,O),O=O.sibling;return N}function c(O,N){return O=Ri(O,N),O.index=0,O.sibling=null,O}function h(O,N,L){return O.index=L,t?(L=O.alternate,L!==null?(L=L.index,L<N?(O.flags|=67108866,N):L):(O.flags|=67108866,N)):(O.flags|=1048576,N)}function g(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function E(O,N,L,G){return N===null||N.tag!==6?(N=Hc(L,O.mode,G),N.return=O,N):(N=c(N,L),N.return=O,N)}function w(O,N,L,G){var lt=L.type;return lt===et?k(O,N,L.props.children,G,L.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===A&&ls(lt)===N.type)?(N=c(N,L.props),ol(N,L),N.return=O,N):(N=qu(L.type,L.key,L.props,null,O.mode,G),ol(N,L),N.return=O,N)}function B(O,N,L,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Gc(L,O.mode,G),N.return=O,N):(N=c(N,L.children||[]),N.return=O,N)}function k(O,N,L,G,lt){return N===null||N.tag!==7?(N=ns(L,O.mode,G,lt),N.return=O,N):(N=c(N,L),N.return=O,N)}function Y(O,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Hc(""+N,O.mode,L),N.return=O,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Q:return L=qu(N.type,N.key,N.props,null,O.mode,L),ol(L,N),L.return=O,L;case $:return N=Gc(N,O.mode,L),N.return=O,N;case A:return N=ls(N),Y(O,N,L)}if(Re(N)||x(N))return N=ns(N,O.mode,L,null),N.return=O,N;if(typeof N.then=="function")return Y(O,Yu(N),L);if(N.$$typeof===ht)return Y(O,ku(O,N),L);Fu(O,N)}return null}function q(O,N,L,G){var lt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(O,N,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===lt?w(O,N,L,G):null;case $:return L.key===lt?B(O,N,L,G):null;case A:return L=ls(L),q(O,N,L,G)}if(Re(L)||x(L))return lt!==null?null:k(O,N,L,G,null);if(typeof L.then=="function")return q(O,N,Yu(L),G);if(L.$$typeof===ht)return q(O,N,ku(O,L),G);Fu(O,L)}return null}function j(O,N,L,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return O=O.get(L)||null,E(N,O,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return O=O.get(G.key===null?L:G.key)||null,w(N,O,G,lt);case $:return O=O.get(G.key===null?L:G.key)||null,B(N,O,G,lt);case A:return G=ls(G),j(O,N,L,G,lt)}if(Re(G)||x(G))return O=O.get(L)||null,k(N,O,G,lt,null);if(typeof G.then=="function")return j(O,N,L,Yu(G),lt);if(G.$$typeof===ht)return j(O,N,L,ku(N,G),lt);Fu(N,G)}return null}function at(O,N,L,G){for(var lt=null,zt=null,st=N,At=N=0,Ct=null;st!==null&&At<L.length;At++){st.index>At?(Ct=st,st=null):Ct=st.sibling;var Ut=q(O,st,L[At],G);if(Ut===null){st===null&&(st=Ct);break}t&&st&&Ut.alternate===null&&n(O,st),N=h(Ut,N,At),zt===null?lt=Ut:zt.sibling=Ut,zt=Ut,st=Ct}if(At===L.length)return a(O,st),Nt&&Ci(O,At),lt;if(st===null){for(;At<L.length;At++)st=Y(O,L[At],G),st!==null&&(N=h(st,N,At),zt===null?lt=st:zt.sibling=st,zt=st);return Nt&&Ci(O,At),lt}for(st=l(st);At<L.length;At++)Ct=j(st,O,At,L[At],G),Ct!==null&&(t&&Ct.alternate!==null&&st.delete(Ct.key===null?At:Ct.key),N=h(Ct,N,At),zt===null?lt=Ct:zt.sibling=Ct,zt=Ct);return t&&st.forEach(function(Aa){return n(O,Aa)}),Nt&&Ci(O,At),lt}function ct(O,N,L,G){if(L==null)throw Error(s(151));for(var lt=null,zt=null,st=N,At=N=0,Ct=null,Ut=L.next();st!==null&&!Ut.done;At++,Ut=L.next()){st.index>At?(Ct=st,st=null):Ct=st.sibling;var Aa=q(O,st,Ut.value,G);if(Aa===null){st===null&&(st=Ct);break}t&&st&&Aa.alternate===null&&n(O,st),N=h(Aa,N,At),zt===null?lt=Aa:zt.sibling=Aa,zt=Aa,st=Ct}if(Ut.done)return a(O,st),Nt&&Ci(O,At),lt;if(st===null){for(;!Ut.done;At++,Ut=L.next())Ut=Y(O,Ut.value,G),Ut!==null&&(N=h(Ut,N,At),zt===null?lt=Ut:zt.sibling=Ut,zt=Ut);return Nt&&Ci(O,At),lt}for(st=l(st);!Ut.done;At++,Ut=L.next())Ut=j(st,O,At,Ut.value,G),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?At:Ut.key),N=h(Ut,N,At),zt===null?lt=Ut:zt.sibling=Ut,zt=Ut);return t&&st.forEach(function(XE){return n(O,XE)}),Nt&&Ci(O,At),lt}function Xt(O,N,L,G){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:t:{for(var lt=L.key;N!==null;){if(N.key===lt){if(lt=L.type,lt===et){if(N.tag===7){a(O,N.sibling),G=c(N,L.props.children),G.return=O,O=G;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===A&&ls(lt)===N.type){a(O,N.sibling),G=c(N,L.props),ol(G,L),G.return=O,O=G;break t}a(O,N);break}else n(O,N);N=N.sibling}L.type===et?(G=ns(L.props.children,O.mode,G,L.key),G.return=O,O=G):(G=qu(L.type,L.key,L.props,null,O.mode,G),ol(G,L),G.return=O,O=G)}return g(O);case $:t:{for(lt=L.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(O,N.sibling),G=c(N,L.children||[]),G.return=O,O=G;break t}else{a(O,N);break}else n(O,N);N=N.sibling}G=Gc(L,O.mode,G),G.return=O,O=G}return g(O);case A:return L=ls(L),Xt(O,N,L,G)}if(Re(L))return at(O,N,L,G);if(x(L)){if(lt=x(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),ct(O,N,L,G)}if(typeof L.then=="function")return Xt(O,N,Yu(L),G);if(L.$$typeof===ht)return Xt(O,N,ku(O,L),G);Fu(O,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(O,N.sibling),G=c(N,L),G.return=O,O=G):(a(O,N),G=Hc(L,O.mode,G),G.return=O,O=G),g(O)):a(O,N)}return function(O,N,L,G){try{ul=0;var lt=Xt(O,N,L,G);return Ks=null,lt}catch(st){if(st===Xs||st===Gu)throw st;var zt=hn(29,st,null,O.mode);return zt.lanes=G,zt.return=O,zt}finally{}}}var os=Dm(!0),Vm=Dm(!1),sa=!1;function nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ih(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function la(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bu(t),fm(t,null,a),n}return Lu(t,l,n,a),Bu(t)}function cl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Lr(t,a)}}function ah(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var sh=!1;function hl(){if(sh){var t=Fs;if(t!==null)throw t}}function fl(t,n,a,l){sh=!1;var c=t.updateQueue;sa=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,g===null?h=B:g.next=B,g=w;var k=t.alternate;k!==null&&(k=k.updateQueue,E=k.lastBaseUpdate,E!==g&&(E===null?k.firstBaseUpdate=B:E.next=B,k.lastBaseUpdate=w))}if(h!==null){var Y=c.baseState;g=0,k=B=w=null,E=h;do{var q=E.lane&-536870913,j=q!==E.lane;if(j?(Rt&q)===q:(l&q)===q){q!==0&&q===Ys&&(sh=!0),k!==null&&(k=k.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,ct=E;q=n;var Xt=a;switch(ct.tag){case 1:if(at=ct.payload,typeof at=="function"){Y=at.call(Xt,Y,q);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ct.payload,q=typeof at=="function"?at.call(Xt,Y,q):at,q==null)break t;Y=D({},Y,q);break t;case 2:sa=!0}}q=E.callback,q!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[q]:j.push(q))}else j={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},k===null?(B=k=j,w=Y):k=k.next=j,g|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);k===null&&(w=Y),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=k,h===null&&(c.shared.lanes=0),fa|=g,t.lanes=g,t.memoizedState=Y}}function Nm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Im(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Nm(a[t],n)}var Zs=I(null),Xu=I(0);function Mm(t,n){t=Li,tt(Xu,t),tt(Zs,n),Li=t|n.baseLanes}function rh(){tt(Xu,Li),tt(Zs,Zs.current)}function lh(){Li=Xu.current,F(Zs),F(Xu)}var fn=I(null),Vn=null;function ua(t){var n=t.alternate;tt(he,he.current&1),tt(fn,t),Vn===null&&(n===null||Zs.current!==null||n.memoizedState!==null)&&(Vn=t)}function uh(t){tt(he,he.current),tt(fn,t),Vn===null&&(Vn=t)}function Om(t){t.tag===22?(tt(he,he.current),tt(fn,t),Vn===null&&(Vn=t)):oa()}function oa(){tt(he,he.current),tt(fn,fn.current)}function dn(t){F(fn),Vn===t&&(Vn=null),F(he)}var he=I(0);function Ku(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gf(a)||pf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vi=0,Et=null,Yt=null,Ee=null,Zu=!1,Js=!1,cs=!1,Ju=0,dl=0,$s=null,B0=0;function le(){throw Error(s(321))}function oh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!cn(t[a],n[a]))return!1;return!0}function ch(t,n,a,l,c,h){return Vi=h,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?pg:Rh,cs=!1,h=a(l,c),cs=!1,Js&&(h=zm(n,a,l,c)),xm(t),h}function xm(t){H.H=pl;var n=Yt!==null&&Yt.next!==null;if(Vi=0,Ee=Yt=Et=null,Zu=!1,dl=0,$s=null,n)throw Error(s(300));t===null||Te||(t=t.dependencies,t!==null&&ju(t)&&(Te=!0))}function zm(t,n,a,l){Et=t;var c=0;do{if(Js&&($s=null),dl=0,Js=!1,25<=c)throw Error(s(301));if(c+=1,Ee=Yt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=yg,h=n(a,l)}while(Js);return h}function q0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?ml(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Et.flags|=1024),n}function hh(){var t=Ju!==0;return Ju=0,t}function fh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function dh(t){if(Zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zu=!1}Vi=0,Ee=Yt=Et=null,Js=!1,dl=Ju=0,$s=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Et.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function fe(){if(Yt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=Ee===null?Et.memoizedState:Ee.next;if(n!==null)Ee=n,Yt=t;else{if(t===null)throw Et.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ee===null?Et.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var n=dl;return dl+=1,$s===null&&($s=[]),t=Rm($s,t,n),n=Et,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?pg:Rh),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===ht)return qe(t)}throw Error(s(438,String(t)))}function mh(t){var n=null,a=Et.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Et.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$u(),Et.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Ni(t,n){return typeof n=="function"?n(t):n}function to(t){var n=fe();return gh(n,Yt,t)}function gh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,w=null,B=n,k=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(Rt&Y)===Y:(Vi&Y)===Y){var q=B.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Ys&&(k=!0);else if((Vi&q)===q){B=B.next,q===Ys&&(k=!0);continue}else Y={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=Y,g=h):w=w.next=Y,Et.lanes|=q,fa|=q;Y=B.action,cs&&a(h,Y),h=B.hasEagerState?B.eagerState:a(h,Y)}else q={lane:Y,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=q,g=h):w=w.next=q,Et.lanes|=Y,fa|=Y;B=B.next}while(B!==null&&B!==n);if(w===null?g=h:w.next=E,!cn(h,t.memoizedState)&&(Te=!0,k&&(a=Fs,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=w,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ph(t){var n=fe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);cn(h,n.memoizedState)||(Te=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Um(t,n,a){var l=Et,c=fe(),h=Nt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!cn((Yt||c).memoizedState,a);if(g&&(c.memoizedState=a,Te=!0),c=c.queue,vh(qm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,Ws(9,{destroy:void 0},Bm.bind(null,l,c,a,n),null),Jt===null)throw Error(s(349));h||(Vi&127)!==0||Lm(l,n,a)}return a}function Lm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Et.updateQueue,n===null?(n=$u(),Et.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Bm(t,n,a,l){n.value=a,n.getSnapshot=l,Pm(n)&&jm(t)}function qm(t,n,a){return a(function(){Pm(n)&&jm(t)})}function Pm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!cn(t,a)}catch{return!0}}function jm(t){var n=es(t,2);n!==null&&sn(n,t,2)}function yh(t){var n=Je();if(typeof t=="function"){var a=t;if(t=a(),cs){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n}function km(t,n,a,l){return t.baseState=a,gh(t,Yt,typeof l=="function"?l:Ni)}function P0(t,n,a,l,c){if(io(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};H.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Hm(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Hm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=H.T,g={};H.T=g;try{var E=a(c,l),w=H.S;w!==null&&w(g,E),Gm(t,n,E)}catch(B){_h(t,n,B)}finally{h!==null&&g.types!==null&&(h.types=g.types),H.T=h}}else try{h=a(c,l),Gm(t,n,h)}catch(B){_h(t,n,B)}}function Gm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qm(t,n,l)},function(l){return _h(t,n,l)}):Qm(t,n,a)}function Qm(t,n,a){n.status="fulfilled",n.value=a,Ym(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Hm(t,a)))}function _h(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ym(n),n=n.next;while(n!==l)}t.action=null}function Ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Fm(t,n){return n}function Xm(t,n){if(Nt){var a=Jt.formState;if(a!==null){t:{var l=Et;if(Nt){if($t){e:{for(var c=$t,h=Dn;c.nodeType!==8;){if(!h){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){$t=Nn(c.nextSibling),l=c.data==="F!";break t}}ia(l)}l=!1}l&&(n=a[0])}}return a=Je(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:n},a.queue=l,a=dg.bind(null,Et,l),l.dispatch=a,l=yh(!1),h=bh.bind(null,Et,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=P0.bind(null,Et,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Km(t){var n=fe();return Zm(n,Yt,t)}function Zm(t,n,a){if(n=gh(t,n,Fm)[0],t=to(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ml(n)}catch(g){throw g===Xs?Gu:g}else l=n;n=fe();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(Et.flags|=2048,Ws(9,{destroy:void 0},j0.bind(null,c,a),null)),[l,h,t]}function j0(t,n){t.action=n}function Jm(t){var n=fe(),a=Yt;if(a!==null)return Zm(n,a,t);fe(),n=n.memoizedState,a=fe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ws(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Et.updateQueue,n===null&&(n=$u(),Et.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function $m(){return fe().memoizedState}function eo(t,n,a,l){var c=Je();Et.flags|=t,c.memoizedState=Ws(1|n,{destroy:void 0},a,l===void 0?null:l)}function no(t,n,a,l){var c=fe();l=l===void 0?null:l;var h=c.memoizedState.inst;Yt!==null&&l!==null&&oh(l,Yt.memoizedState.deps)?c.memoizedState=Ws(n,h,a,l):(Et.flags|=t,c.memoizedState=Ws(1|n,h,a,l))}function Wm(t,n){eo(8390656,8,t,n)}function vh(t,n){no(2048,8,t,n)}function k0(t){Et.flags|=4;var n=Et.updateQueue;if(n===null)n=$u(),Et.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function tg(t){var n=fe().memoizedState;return k0({ref:n,nextImpl:t}),function(){if((Bt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function eg(t,n){return no(4,2,t,n)}function ng(t,n){return no(4,4,t,n)}function ig(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ag(t,n,a){a=a!=null?a.concat([t]):null,no(4,4,ig.bind(null,n,t),a)}function Eh(){}function sg(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&oh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function rg(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&oh(n,l[1]))return l[0];if(l=t(),cs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function Th(t,n,a){return a===void 0||(Vi&1073741824)!==0&&(Rt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=lp(),Et.lanes|=t,fa|=t,a)}function lg(t,n,a,l){return cn(a,n)?a:Zs.current!==null?(t=Th(t,a,l),cn(t,n)||(Te=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(Rt&261930)===0?(Te=!0,t.memoizedState=a):(t=lp(),Et.lanes|=t,fa|=t,n)}function ug(t,n,a,l,c){var h=W.p;W.p=h!==0&&8>h?h:8;var g=H.T,E={};H.T=E,bh(t,!1,n,a);try{var w=c(),B=H.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var k=L0(w,l);gl(t,n,k,pn(t))}else gl(t,n,l,pn(t))}catch(Y){gl(t,n,{then:function(){},status:"rejected",reason:Y},pn())}finally{W.p=h,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function H0(){}function Ah(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=og(t).queue;ug(t,c,n,ut,a===null?H0:function(){return cg(t),a(l)})}function og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function cg(t){var n=og(t);n.next===null&&(n=t.alternate.memoizedState),gl(t,n.next.queue,{},pn())}function Sh(){return qe(Ml)}function hg(){return fe().memoizedState}function fg(){return fe().memoizedState}function G0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=pn();t=ra(a);var l=la(n,t,a);l!==null&&(sn(l,n,a),cl(l,n,a)),n={cache:$c()},t.payload=n;return}n=n.return}}function Q0(t,n,a){var l=pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},io(t)?mg(n,a):(a=jc(t,n,a,l),a!==null&&(sn(a,t,l),gg(a,n,l)))}function dg(t,n,a){var l=pn();gl(t,n,a,l)}function gl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(io(t))mg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,a);if(c.hasEagerState=!0,c.eagerState=E,cn(E,g))return Lu(t,n,c,0),Jt===null&&Uu(),!1}catch{}finally{}if(a=jc(t,n,c,l),a!==null)return sn(a,t,l),gg(a,n,l),!0}return!1}function bh(t,n,a,l){if(l={lane:2,revertLane:nf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},io(t)){if(n)throw Error(s(479))}else n=jc(t,a,l,2),n!==null&&sn(n,t,2)}function io(t){var n=t.alternate;return t===Et||n!==null&&n===Et}function mg(t,n){Js=Zu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function gg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Lr(t,a)}}var pl={readContext:qe,use:Wu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};pl.useEffectEvent=le;var pg={readContext:qe,use:Wu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Wm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,eo(4194308,4,ig.bind(null,n,t),a)},useLayoutEffect:function(t,n){return eo(4194308,4,t,n)},useInsertionEffect:function(t,n){eo(4,2,t,n)},useMemo:function(t,n){var a=Je();n=n===void 0?null:n;var l=t();if(cs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Je();if(a!==void 0){var c=a(n);if(cs){vn(!0);try{a(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Q0.bind(null,Et,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=yh(t);var n=t.queue,a=dg.bind(null,Et,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Eh,useDeferredValue:function(t,n){var a=Je();return Th(a,t,n)},useTransition:function(){var t=yh(!1);return t=ug.bind(null,Et,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Et,c=Je();if(Nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Rt&127)!==0||Lm(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,Wm(qm.bind(null,l,h,t),[t]),l.flags|=2048,Ws(9,{destroy:void 0},Bm.bind(null,l,h,a,n),null),a},useId:function(){var t=Je(),n=Jt.identifierPrefix;if(Nt){var a=hi,l=ci;a=(l&~(1<<32-oe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ju++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=B0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Sh,useFormState:Xm,useActionState:Xm,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=bh.bind(null,Et,!0,a),a.dispatch=n,[t,n]},useMemoCache:mh,useCacheRefresh:function(){return Je().memoizedState=G0.bind(null,Et)},useEffectEvent:function(t){var n=Je(),a={impl:t};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Rh={readContext:qe,use:Wu,useCallback:sg,useContext:qe,useEffect:vh,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:rg,useReducer:to,useRef:$m,useState:function(){return to(Ni)},useDebugValue:Eh,useDeferredValue:function(t,n){var a=fe();return lg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=to(Ni)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:Um,useId:hg,useHostTransitionStatus:Sh,useFormState:Km,useActionState:Km,useOptimistic:function(t,n){var a=fe();return km(a,Yt,t,n)},useMemoCache:mh,useCacheRefresh:fg};Rh.useEffectEvent=tg;var yg={readContext:qe,use:Wu,useCallback:sg,useContext:qe,useEffect:vh,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:rg,useReducer:ph,useRef:$m,useState:function(){return ph(Ni)},useDebugValue:Eh,useDeferredValue:function(t,n){var a=fe();return Yt===null?Th(a,t,n):lg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=ph(Ni)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:Um,useId:hg,useHostTransitionStatus:Sh,useFormState:Jm,useActionState:Jm,useOptimistic:function(t,n){var a=fe();return Yt!==null?km(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:mh,useCacheRefresh:fg};yg.useEffectEvent=tg;function Ch(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:D({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=pn(),c=ra(l);c.payload=n,a!=null&&(c.callback=a),n=la(t,c,l),n!==null&&(sn(n,t,l),cl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=pn(),c=ra(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=la(t,c,l),n!==null&&(sn(n,t,l),cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=pn(),l=ra(a);l.tag=2,n!=null&&(l.callback=n),n=la(t,l,a),n!==null&&(sn(n,t,a),cl(n,t,a))}};function _g(t,n,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!nl(a,l)||!nl(c,h):!0}function vg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&wh.enqueueReplaceState(n,n.state,null)}function hs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=D({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Eg(t){zu(t)}function Tg(t){console.error(t)}function Ag(t){zu(t)}function ao(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Sg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Dh(t,n,a){return a=ra(a),a.tag=3,a.payload={element:null},a.callback=function(){ao(t,n)},a}function bg(t){return t=ra(t),t.tag=3,t}function Rg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Sg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Sg(n,a,l),typeof c!="function"&&(da===null?da=new Set([this]):da.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Y0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Qs(n,a,c,!0),a=fn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?yo():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Qu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Wh(t,l,c)),!1;case 22:return a.flags|=65536,l===Qu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Wh(t,l,c)),!1}throw Error(s(435,a.tag))}return Wh(t,l,c),yo(),!1}if(Nt)return n=fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Fc&&(t=Error(s(422),{cause:l}),sl(Rn(t,a)))):(l!==Fc&&(n=Error(s(423),{cause:l}),sl(Rn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Rn(l,a),c=Dh(t.stateNode,l,c),ah(t,c),ue!==4&&(ue=2)),!1;var h=Error(s(520),{cause:l});if(h=Rn(h,a),bl===null?bl=[h]:bl.push(h),ue!==4&&(ue=2),n===null)return!0;l=Rn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Dh(a.stateNode,l,t),ah(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(da===null||!da.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=bg(c),Rg(c,t,a,l),ah(a,c),!1}a=a.return}while(a!==null);return!1}var Vh=Error(s(461)),Te=!1;function Pe(t,n,a,l){n.child=t===null?Vm(n,null,a,l):os(n,t.child,a,l)}function Cg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ss(n),l=ch(t,n,a,g,h,c),E=hh(),t!==null&&!Te?(fh(t,n,c),Ii(t,n,c)):(Nt&&E&&Qc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function wg(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!kc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Dg(t,n,h,l,c)):(t=qu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Lh(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(g,l)&&t.ref===n.ref)return Ii(t,n,c)}return n.flags|=1,t=Ri(h,l),t.ref=n.ref,t.return=n,n.child=t}function Dg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(nl(h,l)&&t.ref===n.ref)if(Te=!1,n.pendingProps=l=h,Lh(t,c))(t.flags&131072)!==0&&(Te=!0);else return n.lanes=t.lanes,Ii(t,n,c)}return Nh(t,n,a,l,c)}function Vg(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Ng(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(n,h!==null?h.cachePool:null),h!==null?Mm(n,h):rh(),Om(n);else return l=n.lanes=536870912,Ng(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Hu(n,h.cachePool),Mm(n,h),oa(),n.memoizedState=null):(t!==null&&Hu(n,null),rh(),oa());return Pe(t,n,c,a),n.child}function yl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ng(t,n,a,l,c){var h=th();return h=h===null?null:{parent:ve._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&Hu(n,null),rh(),Om(n),t!==null&&Qs(t,n,l,!0),n.childLanes=c,null}function so(t,n){return n=lo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ig(t,n,a){return os(n,t.child,null,a),t=so(n,n.pendingProps),t.flags|=2,dn(n),n.memoizedState=null,t}function F0(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Nt){if(l.mode==="hidden")return t=so(n,l),n.lanes=536870912,yl(null,t);if(uh(n),(t=$t)?(t=Hp(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ea!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},a=mm(t),a.return=n,n.child=a,Be=n,$t=null)):t=null,t===null)throw ia(n);return n.lanes=536870912,null}return so(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(uh(n),c)if(n.flags&256)n.flags&=-257,n=Ig(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Te||Qs(t,n,a,!1),c=(a&t.childLanes)!==0,Te||c){if(l=Jt,l!==null&&(g=Br(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,es(t,g),sn(l,t,g),Vh;yo(),n=Ig(t,n,a)}else t=h.treeContext,$t=Nn(g.nextSibling),Be=n,Nt=!0,na=null,Dn=!1,t!==null&&ym(n,t),n=so(n,l),n.flags|=4096;return n}return t=Ri(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ro(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Nh(t,n,a,l,c){return ss(n),a=ch(t,n,a,l,void 0,c),l=hh(),t!==null&&!Te?(fh(t,n,c),Ii(t,n,c)):(Nt&&l&&Qc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function Mg(t,n,a,l,c,h){return ss(n),n.updateQueue=null,a=zm(n,l,a,c),xm(t),l=hh(),t!==null&&!Te?(fh(t,n,h),Ii(t,n,h)):(Nt&&l&&Qc(n),n.flags|=1,Pe(t,n,a,h),n.child)}function Og(t,n,a,l,c){if(ss(n),n.stateNode===null){var h=js,g=a.contextType;typeof g=="object"&&g!==null&&(h=qe(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=wh,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},nh(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?qe(g):js,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Ch(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&wh.enqueueReplaceState(h,h.state,null),fl(n,l,h,c),hl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,w=hs(a,E);h.props=w;var B=h.context,k=a.contextType;g=js,typeof k=="object"&&k!==null&&(g=qe(k));var Y=a.getDerivedStateFromProps;k=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,k||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==g)&&vg(n,h,l,g),sa=!1;var q=n.memoizedState;h.state=q,fl(n,l,h,c),hl(),B=n.memoizedState,E||q!==B||sa?(typeof Y=="function"&&(Ch(n,a,Y,l),B=n.memoizedState),(w=sa||_g(n,a,w,l,q,B,g))?(k||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=g,l=w):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,ih(t,n),g=n.memoizedProps,k=hs(a,g),h.props=k,Y=n.pendingProps,q=h.context,B=a.contextType,w=js,typeof B=="object"&&B!==null&&(w=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==Y||q!==w)&&vg(n,h,l,w),sa=!1,q=n.memoizedState,h.state=q,fl(n,l,h,c),hl();var j=n.memoizedState;g!==Y||q!==j||sa||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(Ch(n,a,E,l),j=n.memoizedState),(k=sa||_g(n,a,k,l,q,j,w)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,j,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,j,w)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),h.props=l,h.state=j,h.context=w,l=k):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,ro(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=os(n,t.child,null,c),n.child=os(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Ii(t,n,c),t}function xg(t,n,a,l){return is(),n.flags|=256,Pe(t,n,a,l),n.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mh(t){return{baseLanes:t,cachePool:Sm()}}function Oh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=gn),t}function zg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Nt){if(c?ua(n):oa(),(t=$t)?(t=Hp(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ea!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},a=mm(t),a.return=n,n.child=a,Be=n,$t=null)):t=null,t===null)throw ia(n);return pf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(oa(),c=n.mode,E=lo({mode:"hidden",children:E},c),l=ns(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Mh(a),l.childLanes=Oh(t,g,a),n.memoizedState=Ih,yl(null,l)):(ua(n),xh(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(h)n.flags&256?(ua(n),n.flags&=-257,n=zh(t,n,a)):n.memoizedState!==null?(oa(),n.child=t.child,n.flags|=128,n=null):(oa(),E=l.fallback,c=n.mode,l=lo({mode:"visible",children:l.children},c),E=ns(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,os(n,t.child,null,a),l=n.child,l.memoizedState=Mh(a),l.childLanes=Oh(t,g,a),n.memoizedState=Ih,n=yl(null,l));else if(ua(n),pf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,sl({value:l,source:null,stack:null}),n=zh(t,n,a)}else if(Te||Qs(t,n,a,!1),g=(a&t.childLanes)!==0,Te||g){if(g=Jt,g!==null&&(l=Br(g,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,es(t,l),sn(g,t,l),Vh;gf(E)||yo(),n=zh(t,n,a)}else gf(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,$t=Nn(E.nextSibling),Be=n,Nt=!0,na=null,Dn=!1,t!==null&&ym(n,t),n=xh(n,l.children),n.flags|=4096);return n}return c?(oa(),E=l.fallback,c=n.mode,w=t.child,B=w.sibling,l=Ri(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?E=Ri(B,E):(E=ns(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,yl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Mh(a):(c=E.cachePool,c!==null?(w=ve._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Sm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Oh(t,g,a),n.memoizedState=Ih,yl(t.child,l)):(ua(n),a=t.child,t=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function xh(t,n){return n=lo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lo(t,n){return t=hn(22,t,null,n),t.lanes=0,t}function zh(t,n,a){return os(n,t.child,null,a),t=xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ug(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Zc(t.return,n,a)}function Uh(t,n,a,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function Lg(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(he,g),Pe(t,n,l,a),l=Nt?al:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ug(t,a,n);else if(t.tag===19)Ug(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Ku(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Uh(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ku(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Uh(n,!0,a,null,h,l);break;case"together":Uh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ii(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),fa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Qs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ri(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ri(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Lh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function X0(t,n,a){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),aa(n,ve,t.memoizedState.cache),is();break;case 27:case 5:La(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:aa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ua(n),n.flags|=128,null):(a&n.child.childLanes)!==0?zg(t,n,a):(ua(n),t=Ii(t,n,a),t!==null?t.sibling:null);ua(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Qs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Lg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(he,he.current),l)break;return null;case 22:return n.lanes=0,Vg(t,n,a,n.pendingProps);case 24:aa(n,ve,t.memoizedState.cache)}return Ii(t,n,a)}function Bg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Te=!0;else{if(!Lh(t,a)&&(n.flags&128)===0)return Te=!1,X0(t,n,a);Te=(t.flags&131072)!==0}else Te=!1,Nt&&(n.flags&1048576)!==0&&pm(n,al,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ls(n.elementType),n.type=t,typeof t=="function")kc(t)?(l=hs(t,l),n.tag=1,n=Og(null,n,t,l,a)):(n.tag=0,n=Nh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===qt){n.tag=11,n=Cg(null,n,t,l,a);break t}else if(c===S){n.tag=14,n=wg(null,n,t,l,a);break t}}throw n=ne(t)||t,Error(s(306,n,""))}}return n;case 0:return Nh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=hs(l,n.pendingProps),Og(t,n,l,c,a);case 3:t:{if(Ce(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,ih(t,n),fl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,aa(n,ve,l),l!==h.cache&&Jc(n,[ve],a,!0),hl(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=xg(t,n,l,a);break t}else if(l!==c){c=Rn(Error(s(424)),n),sl(c),n=xg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($t=Nn(t.firstChild),Be=n,Nt=!0,na=null,Dn=!0,a=Vm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(is(),l===c){n=Ii(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return ro(t,n),t===null?(a=Kp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Nt||(a=n.type,t=n.pendingProps,l=bo(Tt.current).createElement(a),l[pe]=n,l[Me]=t,je(l,a,t),ye(l),n.stateNode=l):n.memoizedState=Kp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return La(n),t===null&&Nt&&(l=n.stateNode=Yp(n.type,n.pendingProps,Tt.current),Be=n,Dn=!0,c=$t,ya(n.type)?(yf=c,$t=Nn(l.firstChild)):$t=c),Pe(t,n,n.pendingProps.children,a),ro(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Nt&&((c=l=$t)&&(l=bE(l,n.type,n.pendingProps,Dn),l!==null?(n.stateNode=l,Be=n,$t=Nn(l.firstChild),Dn=!1,c=!0):c=!1),c||ia(n)),La(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,ff(c,h)?l=null:g!==null&&ff(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=ch(t,n,q0,null,null,a),Ml._currentValue=c),ro(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Nt&&((t=a=$t)&&(a=RE(a,n.pendingProps,Dn),a!==null?(n.stateNode=a,Be=n,$t=null,t=!0):t=!1),t||ia(n)),null;case 13:return zg(t,n,a);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=os(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Cg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,aa(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ss(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return wg(t,n,n.type,n.pendingProps,a);case 15:return Dg(t,n,n.type,n.pendingProps,a);case 19:return Lg(t,n,a);case 31:return F0(t,n,a);case 22:return Vg(t,n,a,n.pendingProps);case 24:return ss(n),l=qe(ve),t===null?(c=th(),c===null&&(c=Jt,h=$c(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},nh(n),aa(n,ve,c)):((t.lanes&a)!==0&&(ih(t,n),fl(n,null,null,a),hl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),aa(n,ve,l)):(l=h.cache,aa(n,ve,l),l!==c.cache&&Jc(n,[ve],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Mi(t){t.flags|=4}function Bh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(hp())t.flags|=8192;else throw us=Qu,eh}else t.flags&=-16777217}function qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ty(n))if(hp())t.flags|=8192;else throw us=Qu,eh}function uo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mu():536870912,t.lanes|=n,ir|=n)}function _l(t,n){if(!Nt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function K0(t,n,a){var l=n.pendingProps;switch(Yc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(ve),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Gs(n)?Mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xc())),Wt(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Mi(n),h!==null?(Wt(n),qg(n,h)):(Wt(n),Bh(n,c,null,l,a))):h?h!==t.memoizedState?(Mi(n),Wt(n),qg(n,h)):(Wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Mi(n),Wt(n),Bh(n,c,t,l,a)),null;case 27:if(As(n),a=Tt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}t=it.current,Gs(n)?_m(n):(t=Yp(c,l,a),n.stateNode=t,Mi(n))}return Wt(n),null;case 5:if(As(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}if(h=it.current,Gs(n))_m(n);else{var g=bo(Tt.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[pe]=n,h[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(je(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Mi(n)}}return Wt(n),Bh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,Gs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||zp(t.nodeValue,a)),t||ia(n,!0)}else t=bo(t).createTextNode(l),t[pe]=n,n.stateNode=t}return Wt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Gs(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[pe]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),t=!1}else a=Xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(dn(n),n):(dn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Gs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=Xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(dn(n),n):(dn(n),null)}return dn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),uo(n,n.updateQueue),Wt(n),null);case 4:return ie(),t===null&&lf(n.stateNode.containerInfo),Wt(n),null;case 10:return Di(n.type),Wt(n),null;case 19:if(F(he),l=n.memoizedState,l===null)return Wt(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)_l(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Ku(t),h!==null){for(n.flags|=128,_l(l,!1),t=h.updateQueue,n.updateQueue=t,uo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)dm(a,t),a=a.sibling;return tt(he,he.current&1|2),Nt&&Ci(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ke()>mo&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304)}else{if(!c)if(t=Ku(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,uo(n,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Nt)return Wt(n),null}else 2*Ke()-l.renderingStartTime>mo&&a!==536870912&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,a=he.current,tt(he,c?a&1|2:a&1),Nt&&Ci(n,l.treeForkCount),t):(Wt(n),null);case 22:case 23:return dn(n),lh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),a=n.updateQueue,a!==null&&uo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&F(rs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(ve),Wt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Z0(t,n){switch(Yc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(ve),ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return As(n),null;case 31:if(n.memoizedState!==null){if(dn(n),n.alternate===null)throw Error(s(340));is()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(dn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));is()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(he),null;case 4:return ie(),null;case 10:return Di(n.type),null;case 22:case 23:return dn(n),lh(),t!==null&&F(rs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(ve),null;case 25:return null;default:return null}}function Pg(t,n){switch(Yc(n),n.tag){case 3:Di(ve),ie();break;case 26:case 27:case 5:As(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&dn(n);break;case 13:dn(n);break;case 19:F(he);break;case 10:Di(n.type);break;case 22:case 23:dn(n),lh(),t!==null&&F(rs);break;case 24:Di(ve)}}function vl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Gt(n,n.return,E)}}function ca(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=a,B=E;try{B()}catch(k){Gt(c,w,k)}}}l=l.next}while(l!==h)}}catch(k){Gt(n,n.return,k)}}function jg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Im(n,a)}catch(l){Gt(t,t.return,l)}}}function kg(t,n,a){a.props=hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Gt(t,n,l)}}function El(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Gt(t,n,c)}}function fi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Gt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Gt(t,n,c)}else a.current=null}function Hg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Gt(t,t.return,c)}}function qh(t,n,a){try{var l=t.stateNode;_E(l,t.type,a,n),l[Me]=n}catch(c){Gt(t,t.return,c)}}function Gg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ya(t.type)||t.tag===4}function Ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ya(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&ya(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(jh(t,n,a),t=t.sibling;t!==null;)jh(t,n,a),t=t.sibling}function oo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ya(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oo(t,n,a),t=t.sibling;t!==null;)oo(t,n,a),t=t.sibling}function Qg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);je(n,l,a),n[pe]=t,n[Me]=a}catch(h){Gt(t,t.return,h)}}var Oi=!1,Ae=!1,kh=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,xe=null;function J0(t,n){if(t=t.containerInfo,cf=Io,t=am(t),zc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,B=0,k=0,Y=t,q=null;e:for(;;){for(var j;Y!==a||c!==0&&Y.nodeType!==3||(E=g+c),Y!==h||l!==0&&Y.nodeType!==3||(w=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(j=Y.firstChild)!==null;)q=Y,Y=j;for(;;){if(Y===t)break e;if(q===a&&++B===c&&(E=g),q===h&&++k===l&&(w=g),(j=Y.nextSibling)!==null)break;Y=q,q=Y.parentNode}Y=j}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(hf={focusedElem:t,selectionRange:a},Io=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var at=hs(a.type,c);t=l.getSnapshotBeforeUpdate(at,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Gt(a,a.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)mf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}}function Fg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zi(t,a),l&4&&vl(5,a);break;case 1:if(zi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Gt(a,a.return,g)}else{var c=hs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(a,a.return,g)}}l&64&&jg(a),l&512&&El(a,a.return);break;case 3:if(zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Im(t,n)}catch(g){Gt(a,a.return,g)}}break;case 27:n===null&&l&4&&Qg(a);case 26:case 5:zi(t,a),n===null&&l&4&&Hg(a),l&512&&El(a,a.return);break;case 12:zi(t,a);break;case 31:zi(t,a),l&4&&Zg(t,a);break;case 13:zi(t,a),l&4&&Jg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=rE.bind(null,a),CE(t,a))));break;case 22:if(l=a.memoizedState!==null||Oi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=Oi;var h=Ae;Oi=l,(Ae=n)&&!h?Ui(t,a,(a.subtreeFlags&8772)!==0):zi(t,a),Oi=c,Ae=h}break;case 30:break;default:zi(t,a)}}function Xg(t){var n=t.alternate;n!==null&&(t.alternate=null,Xg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ws(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,tn=!1;function xi(t,n,a){for(a=a.child;a!==null;)Kg(t,n,a),a=a.sibling}function Kg(t,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Ae||fi(a,n),xi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||fi(a,n);var l=se,c=tn;ya(a.type)&&(se=a.stateNode,tn=!1),xi(t,n,a),Vl(a.stateNode),se=l,tn=c;break;case 5:Ae||fi(a,n);case 6:if(l=se,c=tn,se=null,xi(t,n,a),se=l,tn=c,se!==null)if(tn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(h){Gt(a,n,h)}else try{se.removeChild(a.stateNode)}catch(h){Gt(a,n,h)}break;case 18:se!==null&&(tn?(t=se,jp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),hr(t)):jp(se,a.stateNode));break;case 4:l=se,c=tn,se=a.stateNode.containerInfo,tn=!0,xi(t,n,a),se=l,tn=c;break;case 0:case 11:case 14:case 15:ca(2,a,n),Ae||ca(4,a,n),xi(t,n,a);break;case 1:Ae||(fi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&kg(a,n,l)),xi(t,n,a);break;case 21:xi(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,xi(t,n,a),Ae=l;break;default:xi(t,n,a)}}function Zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hr(t)}catch(a){Gt(n,n.return,a)}}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hr(t)}catch(a){Gt(n,n.return,a)}}function $0(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Yg),n;default:throw Error(s(435,t.tag))}}function co(t,n){var a=$0(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=lE.bind(null,t,l);l.then(c,c)}})}function en(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ya(E.type)){se=E.stateNode,tn=!1;break t}break;case 5:se=E.stateNode,tn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(se===null)throw Error(s(160));Kg(h,g,c),se=null,tn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$g(n,t),n=n.sibling}var Hn=null;function $g(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:en(n,t),nn(t),l&4&&(ca(3,t,t.return),vl(3,t),ca(5,t,t.return));break;case 1:en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[$n]||h[pe]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),je(h,l,a),h[pe]=t,ye(h),l=h;break t;case"link":var g=$p("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),je(h,l,a),c.head.appendChild(h);break;case"meta":if(g=$p("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}h=c.createElement(l),je(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[pe]=t,ye(h),l=h}t.stateNode=l}else Wp(c,t.type,t.stateNode);else t.stateNode=Jp(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Wp(c,t.type,t.stateNode):Jp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qh(t,t.memoizedProps,a.memoizedProps)}break;case 27:en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),a!==null&&l&4&&qh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),t.flags&32){c=t.stateNode;try{We(c,"")}catch(at){Gt(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,qh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(kh=!0);break;case 6:if(en(n,t),nn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(at){Gt(t,t.return,at)}}break;case 3:if(wo=null,c=Hn,Hn=Ro(n.containerInfo),en(n,t),Hn=c,nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hr(n.containerInfo)}catch(at){Gt(t,t.return,at)}kh&&(kh=!1,Wg(t));break;case 4:l=Hn,Hn=Ro(t.stateNode.containerInfo),en(n,t),nn(t),Hn=l;break;case 12:en(n,t),nn(t);break;case 31:en(n,t),nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,co(t,l)));break;case 13:en(n,t),nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fo=Ke()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,co(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=Oi,k=Ae;if(Oi=B||c,Ae=k||w,en(n,t),Ae=k,Oi=B,nn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||Oi||Ae||fs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(h=w.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var Y=w.memoizedProps.style,q=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(at){Gt(w,w.return,at)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(at){Gt(w,w.return,at)}}}else if(n.tag===18){if(a===null){w=n;try{var j=w.stateNode;c?kp(j,!0):kp(w.stateNode,!1)}catch(at){Gt(w,w.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,co(t,a))));break;case 19:en(n,t),nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,co(t,l)));break;case 30:break;case 21:break;default:en(n,t),nn(t)}}function nn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Gg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=Ph(t);oo(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(We(g,""),a.flags&=-33);var E=Ph(t);oo(t,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,B=Ph(t);jh(t,B,w);break;default:throw Error(s(161))}}catch(k){Gt(t,t.return,k)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fg(t,n.alternate,n),n=n.sibling}function fs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ca(4,n,n.return),fs(n);break;case 1:fi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&kg(n,n.return,a),fs(n);break;case 27:Vl(n.stateNode);case 26:case 5:fi(n,n.return),fs(n);break;case 22:n.memoizedState===null&&fs(n);break;case 30:fs(n);break;default:fs(n)}t=t.sibling}}function Ui(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:Ui(c,h,a),vl(4,h);break;case 1:if(Ui(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Gt(l,l.return,B)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Nm(w[c],E)}catch(B){Gt(l,l.return,B)}}a&&g&64&&jg(h),El(h,h.return);break;case 27:Qg(h);case 26:case 5:Ui(c,h,a),a&&l===null&&g&4&&Hg(h),El(h,h.return);break;case 12:Ui(c,h,a);break;case 31:Ui(c,h,a),a&&g&4&&Zg(c,h);break;case 13:Ui(c,h,a),a&&g&4&&Jg(c,h);break;case 22:h.memoizedState===null&&Ui(c,h,a),El(h,h.return);break;case 30:break;default:Ui(c,h,a)}n=n.sibling}}function Hh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Gh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tp(t,n,a,l),n=n.sibling}function tp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),c&2048&&vl(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){Gn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Gt(n,n.return,w)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?Gn(t,n,a,l):Tl(t,n):h._visibility&2?Gn(t,n,a,l):(h._visibility|=2,tr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Hh(g,n);break;case 24:Gn(t,n,a,l),c&2048&&Gh(n.alternate,n);break;default:Gn(t,n,a,l)}}function tr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=a,w=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:tr(h,g,E,w,c),vl(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&2?tr(h,g,E,w,c):Tl(h,g):(k._visibility|=2,tr(h,g,E,w,c)),c&&B&2048&&Hh(g.alternate,g);break;case 24:tr(h,g,E,w,c),c&&B&2048&&Gh(g.alternate,g);break;default:tr(h,g,E,w,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(a,l),c&2048&&Hh(l.alternate,l);break;case 24:Tl(a,l),c&2048&&Gh(l.alternate,l);break;default:Tl(a,l)}n=n.sibling}}var Al=8192;function er(t,n,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)ep(t,n,a),t=t.sibling}function ep(t,n,a){switch(t.tag){case 26:er(t,n,a),t.flags&Al&&t.memoizedState!==null&&BE(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:er(t,n,a);break;case 3:case 4:var l=Hn;Hn=Ro(t.stateNode.containerInfo),er(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,er(t,n,a),Al=l):er(t,n,a));break;default:er(t,n,a)}}function np(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,ap(l,t)}np(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ip(t),t=t.sibling}function ip(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&ca(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ho(t)):Sl(t);break;default:Sl(t)}}function ho(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,ap(l,t)}np(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ca(8,n,n.return),ho(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ho(n));break;default:ho(n)}t=t.sibling}}function ap(t,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:ca(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=t;xe!==null;){l=xe;var c=l.sibling,h=l.return;if(Xg(l),l===a){xe=null;break t}if(c!==null){c.return=h,xe=c;break t}xe=h}}}var W0={getCacheForType:function(t){var n=qe(ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(ve).controller.signal}},tE=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,St=null,Rt=0,Ht=0,mn=null,ha=!1,nr=!1,Qh=!1,Li=0,ue=0,fa=0,ds=0,Yh=0,gn=0,ir=0,bl=null,an=null,Fh=!1,fo=0,sp=0,mo=1/0,go=null,da=null,De=0,ma=null,ar=null,Bi=0,Xh=0,Kh=null,rp=null,Rl=0,Zh=null;function pn(){return(Bt&2)!==0&&Rt!==0?Rt&-Rt:H.T!==null?nf():gu()}function lp(){if(gn===0)if((Rt&536870912)===0||Nt){var t=Pa;Pa<<=1,(Pa&3932160)===0&&(Pa=262144),gn=t}else gn=536870912;return t=fn.current,t!==null&&(t.flags|=32),gn}function sn(t,n,a){(t===Jt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(sr(t,0),ga(t,Rt,gn,!1)),ja(t,a),((Bt&2)===0||t!==Jt)&&(t===Jt&&((Bt&2)===0&&(ds|=a),ue===4&&ga(t,Rt,gn,!1)),di(t))}function up(t,n,a){if((Bt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||xn(t,n),c=l?iE(t,n):$h(t,n,!0),h=l;do{if(c===0){nr&&!l&&ga(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!eE(a)){c=$h(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=bl;var w=E.current.memoizedState.isDehydrated;if(w&&(sr(E,g).flags|=256),g=$h(E,g,!1),g!==2){if(Qh&&!w){E.errorRecoveryDisabledLanes|=h,ds|=h,c=4;break t}h=an,an=c,h!==null&&(an===null?an=h:an.push.apply(an,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){sr(t,0),ga(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ga(l,n,gn,!ha);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=fo+300-Ke(),10<c)){if(ga(l,n,gn,!ha),Kn(l,0,!0)!==0)break t;Bi=n,l.timeoutHandle=qp(op.bind(null,l,a,an,go,Fh,n,gn,ds,ir,ha,h,"Throttled",-0,0),c);break t}op(l,a,an,go,Fh,n,gn,ds,ir,ha,h,null,-0,0)}}break}while(!0);di(t)}function op(t,n,a,l,c,h,g,E,w,B,k,Y,q,j){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},ep(n,h,Y);var at=(h&62914560)===h?fo-Ke():(h&4194048)===h?sp-Ke():0;if(at=qE(Y,at),at!==null){Bi=h,t.cancelPendingCommit=at(yp.bind(null,t,n,h,a,l,c,g,E,w,k,Y,null,q,j)),ga(t,h,g,!B);return}}yp(t,n,h,a,l,c,g,E,w)}function eE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!cn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ga(t,n,a,l){n&=~Yh,n&=~ds,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-oe(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&ka(t,a,n)}function po(){return(Bt&6)===0?(Cl(0),!1):!0}function Jh(){if(St!==null){if(Ht===0)var t=St.return;else t=St,wi=as=null,dh(t),Ks=null,ul=0,t=St;for(;t!==null;)Pg(t.alternate,t),t=t.return;St=null}}function sr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,TE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Bi=0,Jh(),Jt=t,St=a=Ri(t.current,null),Rt=n,Ht=0,mn=null,ha=!1,nr=xn(t,n),Qh=!1,ir=gn=Yh=ds=fa=ue=0,an=bl=null,Fh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-oe(l),h=1<<c;n|=t[c],l&=~h}return Li=n,Uu(),a}function cp(t,n){Et=null,H.H=pl,n===Xs||n===Gu?(n=Cm(),Ht=3):n===eh?(n=Cm(),Ht=4):Ht=n===Vh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,St===null&&(ue=1,ao(t,Rn(n,t.current)))}function hp(){var t=fn.current;return t===null?!0:(Rt&4194048)===Rt?Vn===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?t===Vn:!1}function fp(){var t=H.H;return H.H=pl,t===null?pl:t}function dp(){var t=H.A;return H.A=W0,t}function yo(){ue=4,ha||(Rt&4194048)!==Rt&&fn.current!==null||(nr=!0),(fa&134217727)===0&&(ds&134217727)===0||Jt===null||ga(Jt,Rt,gn,!1)}function $h(t,n,a){var l=Bt;Bt|=2;var c=fp(),h=dp();(Jt!==t||Rt!==n)&&(go=null,sr(t,n)),n=!1;var g=ue;t:do try{if(Ht!==0&&St!==null){var E=St,w=mn;switch(Ht){case 8:Jh(),g=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(n=!0);var B=Ht;if(Ht=0,mn=null,rr(t,E,w,B),a&&nr){g=0;break t}break;default:B=Ht,Ht=0,mn=null,rr(t,E,w,B)}}nE(),g=ue;break}catch(k){cp(t,k)}while(!0);return n&&t.shellSuspendCounter++,wi=as=null,Bt=l,H.H=c,H.A=h,St===null&&(Jt=null,Rt=0,Uu()),g}function nE(){for(;St!==null;)mp(St)}function iE(t,n){var a=Bt;Bt|=2;var l=fp(),c=dp();Jt!==t||Rt!==n?(go=null,mo=Ke()+500,sr(t,n)):nr=xn(t,n);t:do try{if(Ht!==0&&St!==null){n=St;var h=mn;e:switch(Ht){case 1:Ht=0,mn=null,rr(t,n,h,1);break;case 2:case 9:if(bm(h)){Ht=0,mn=null,gp(n);break}n=function(){Ht!==2&&Ht!==9||Jt!==t||(Ht=7),di(t)},h.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:bm(h)?(Ht=0,mn=null,gp(n)):(Ht=0,mn=null,rr(t,n,h,7));break;case 5:var g=null;switch(St.tag){case 26:g=St.memoizedState;case 5:case 27:var E=St;if(g?ty(g):E.stateNode.complete){Ht=0,mn=null;var w=E.sibling;if(w!==null)St=w;else{var B=E.return;B!==null?(St=B,_o(B)):St=null}break e}}Ht=0,mn=null,rr(t,n,h,5);break;case 6:Ht=0,mn=null,rr(t,n,h,6);break;case 8:Jh(),ue=6;break t;default:throw Error(s(462))}}aE();break}catch(k){cp(t,k)}while(!0);return wi=as=null,H.H=l,H.A=c,Bt=a,St!==null?0:(Jt=null,Rt=0,Uu(),ue)}function aE(){for(;St!==null&&!Dc();)mp(St)}function mp(t){var n=Bg(t.alternate,t,Li);t.memoizedProps=t.pendingProps,n===null?_o(t):St=n}function gp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Mg(a,n,n.pendingProps,n.type,void 0,Rt);break;case 11:n=Mg(a,n,n.pendingProps,n.type.render,n.ref,Rt);break;case 5:dh(n);default:Pg(a,n),n=St=dm(n,Li),n=Bg(a,n,Li)}t.memoizedProps=t.pendingProps,n===null?_o(t):St=n}function rr(t,n,a,l){wi=as=null,dh(n),Ks=null,ul=0;var c=n.return;try{if(Y0(t,c,n,a,Rt)){ue=1,ao(t,Rn(a,t.current)),St=null;return}}catch(h){if(c!==null)throw St=c,h;ue=1,ao(t,Rn(a,t.current)),St=null;return}n.flags&32768?(Nt||l===1?t=!0:nr||(Rt&536870912)!==0?t=!1:(ha=t=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),pp(n,t)):_o(n)}function _o(t){var n=t;do{if((n.flags&32768)!==0){pp(n,ha);return}t=n.return;var a=K0(n.alternate,n,Li);if(a!==null){St=a;return}if(n=n.sibling,n!==null){St=n;return}St=n=t}while(n!==null);ue===0&&(ue=5)}function pp(t,n){do{var a=Z0(t.alternate,t);if(a!==null){a.flags&=32767,St=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){St=t;return}St=t=a}while(t!==null);ue=6,St=null}function yp(t,n,a,l,c,h,g,E,w){t.cancelPendingCommit=null;do vo();while(De!==0);if((Bt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Pc,Ic(t,a,h,g,E,w),t===Jt&&(St=Jt=null,Rt=0),ar=n,ma=t,Bi=a,Xh=h,Kh=c,rp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uE(Qi,function(){return Ap(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=W.p,W.p=2,g=Bt,Bt|=4;try{J0(t,n,a)}finally{Bt=g,W.p=c,H.T=l}}De=1,_p(),vp(),Ep()}}function _p(){if(De===1){De=0;var t=ma,n=ar,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=W.p;W.p=2;var c=Bt;Bt|=4;try{$g(n,t);var h=hf,g=am(t.containerInfo),E=h.focusedElem,w=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&im(E.ownerDocument.documentElement,E)){if(w!==null&&zc(E)){var B=w.start,k=w.end;if(k===void 0&&(k=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(k,E.value.length);else{var Y=E.ownerDocument||document,q=Y&&Y.defaultView||window;if(q.getSelection){var j=q.getSelection(),at=E.textContent.length,ct=Math.min(w.start,at),Xt=w.end===void 0?ct:Math.min(w.end,at);!j.extend&&ct>Xt&&(g=Xt,Xt=ct,ct=g);var O=nm(E,ct),N=nm(E,Xt);if(O&&N&&(j.rangeCount!==1||j.anchorNode!==O.node||j.anchorOffset!==O.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(O.node,O.offset),j.removeAllRanges(),ct>Xt?(j.addRange(L),j.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),j.addRange(L))}}}}for(Y=[],j=E;j=j.parentNode;)j.nodeType===1&&Y.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var G=Y[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Io=!!cf,hf=cf=null}finally{Bt=c,W.p=l,H.T=a}}t.current=n,De=2}}function vp(){if(De===2){De=0;var t=ma,n=ar,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=W.p;W.p=2;var c=Bt;Bt|=4;try{Fg(t,n.alternate,n)}finally{Bt=c,W.p=l,H.T=a}}De=3}}function Ep(){if(De===4||De===3){De=0,uu();var t=ma,n=ar,a=Bi,l=rp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,ar=ma=null,Tp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(da=null),Ti(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=W.p,W.p=2,H.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=c}}(Bi&3)!==0&&vo(),di(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Zh?Rl++:(Rl=0,Zh=t):Rl=0,Cl(0)}}function Tp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function vo(){return _p(),vp(),Ep(),Ap()}function Ap(){if(De!==5)return!1;var t=ma,n=Xh;Xh=0;var a=Ti(Bi),l=H.T,c=W.p;try{W.p=32>a?32:a,H.T=null,a=Kh,Kh=null;var h=ma,g=Bi;if(De=0,ar=ma=null,Bi=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,ip(h.current),tp(h,h.current,g,a),Bt=E,Cl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(On,h)}catch{}return!0}finally{W.p=c,H.T=l,Tp(t,n)}}function Sp(t,n,a){n=Rn(a,n),n=Dh(t.stateNode,n,2),t=la(t,n,2),t!==null&&(ja(t,2),di(t))}function Gt(t,n,a){if(t.tag===3)Sp(t,t,a);else for(;n!==null;){if(n.tag===3){Sp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(da===null||!da.has(l))){t=Rn(a,t),a=bg(2),l=la(n,a,2),l!==null&&(Rg(a,l,n,t),ja(l,2),di(l));break}}n=n.return}}function Wh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new tE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Qh=!0,c.add(a),t=sE.bind(null,t,n,a),n.then(t,t))}function sE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Rt&a)===a&&(ue===4||ue===3&&(Rt&62914560)===Rt&&300>Ke()-fo?(Bt&2)===0&&sr(t,0):Yh|=a,ir===Rt&&(ir=0)),di(t)}function bp(t,n){n===0&&(n=mu()),t=es(t,n),t!==null&&(ja(t,n),di(t))}function rE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),bp(t,a)}function lE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),bp(t,a)}function uE(t,n){return we(t,n)}var Eo=null,lr=null,tf=!1,To=!1,ef=!1,pa=0;function di(t){t!==lr&&t.next===null&&(lr===null?Eo=lr=t:lr=lr.next=t),To=!0,tf||(tf=!0,cE())}function Cl(t,n){if(!ef&&To){ef=!0;do for(var a=!1,l=Eo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-oe(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Dp(l,h))}else h=Rt,h=Kn(l,l===Jt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||xn(l,h)||(a=!0,Dp(l,h));l=l.next}while(a);ef=!1}}function oE(){Rp()}function Rp(){To=tf=!1;var t=0;pa!==0&&EE()&&(t=pa);for(var n=Ke(),a=null,l=Eo;l!==null;){var c=l.next,h=Cp(l,n);h===0?(l.next=null,a===null?Eo=c:a.next=c,c===null&&(lr=a)):(a=l,(t!==0||(h&3)!==0)&&(To=!0)),l=c}De!==0&&De!==5||Cl(t),pa!==0&&(pa=0)}function Cp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-oe(h),E=1<<g,w=c[g];w===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Nc(E,n)):w<=n&&(t.expiredLanes|=E),h&=~E}if(n=Jt,a=Rt,a=Kn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Gi(l),Ti(a)){case 2:case 8:a=Ur;break;case 32:a=Qi;break;case 268435456:a=ou;break;default:a=Qi}return l=wp.bind(null,t),a=we(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Gi(l),t.callbackPriority=2,t.callbackNode=null,2}function wp(t,n){if(De!==0&&De!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vo()&&t.callbackNode!==a)return null;var l=Rt;return l=Kn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(up(t,l,n),Cp(t,Ke()),t.callbackNode!=null&&t.callbackNode===a?wp.bind(null,t):null)}function Dp(t,n){if(vo())return null;up(t,n,!0)}function cE(){AE(function(){(Bt&6)!==0?we(zr,oE):Rp()})}function nf(){if(pa===0){var t=Ys;t===0&&(t=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),pa=t}return pa}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Is(""+t)}function Np(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function hE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=Vp((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?Vp(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new ri("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pa!==0){var w=g?Np(c,g):new FormData(c);Ah(a,{pending:!0,data:w,method:c.method,action:h},null,w)}}else typeof h=="function"&&(E.preventDefault(),w=g?Np(c,g):new FormData(c),Ah(a,{pending:!0,data:w,method:c.method,action:h},h,w))},currentTarget:c}]})}}for(var af=0;af<qc.length;af++){var sf=qc[af],fE=sf.toLowerCase(),dE=sf[0].toUpperCase()+sf.slice(1);kn(fE,"on"+dE)}kn(lm,"onAnimationEnd"),kn(um,"onAnimationIteration"),kn(om,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(V0,"onTransitionRun"),kn(N0,"onTransitionStart"),kn(I0,"onTransitionCancel"),kn(cm,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Ip(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(k){zu(k)}c.currentTarget=null,h=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,B=E.currentTarget,E=E.listener,w!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(k){zu(k)}c.currentTarget=null,h=w}}}}function bt(t,n){var a=n[Cs];a===void 0&&(a=n[Cs]=new Set);var l=t+"__bubble";a.has(l)||(Mp(n,t,2,!1),a.add(l))}function rf(t,n,a){var l=0;n&&(l|=4),Mp(a,t,l,n)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[Ao]){t[Ao]=!0,qr.forEach(function(a){a!=="selectionchange"&&(mE.has(a)||rf(a,!1,t),rf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ao]||(n[Ao]=!0,rf("selectionchange",!1,n))}}function Mp(t,n,a,l){switch(ly(n)){case 2:var c=kE;break;case 8:c=HE;break;default:c=Af}a=c.bind(null,n,a,t),c=void 0,!Fa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function uf(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Wn(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=h=g;continue t}E=E.parentNode}}l=l.return}Ji(function(){var B=h,k=Tn(a),Y=[];t:{var q=hm.get(t);if(q!==void 0){var j=ri,at=t;switch(t){case"keypress":if(Ka(a)===0)break t;case"keydown":case"keyup":j=Mu;break;case"focusin":at="focus",j=Ja;break;case"focusout":at="blur",j=Ja;break;case"beforeblur":case"afterblur":j=Ja;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=$r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case lm:case um:case om:j=Ru;break;case cm:j=T;break;case"scroll":case"scrollend":j=Jr;break;case"wheel":j=P;break;case"copy":case"cut":case"paste":j=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=bi;break;case"toggle":case"beforetoggle":j=vt}var ct=(n&4)!==0,Xt=!ct&&(t==="scroll"||t==="scrollend"),O=ct?q!==null?q+"Capture":null:q;ct=[];for(var N=B,L;N!==null;){var G=N;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||O===null||(G=Bn(N,O),G!=null&&ct.push(Dl(N,G,L))),Xt)break;N=N.return}0<ct.length&&(q=new j(q,at,null,a,k),Y.push({event:q,listeners:ct}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",q&&a!==Xr&&(at=a.relatedTarget||a.fromElement)&&(Wn(at)||at[Jn]))break t;if((j||q)&&(q=k.window===k?k:(q=k.ownerDocument)?q.defaultView||q.parentWindow:window,j?(at=a.relatedTarget||a.toElement,j=B,at=at?Wn(at):null,at!==null&&(Xt=f(at),ct=at.tag,at!==Xt||ct!==5&&ct!==27&&ct!==6)&&(at=null)):(j=null,at=B),j!==at)){if(ct=$r,G="onMouseLeave",O="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ct=bi,G="onPointerLeave",O="onPointerEnter",N="pointer"),Xt=j==null?q:un(j),L=at==null?q:un(at),q=new ct(G,N+"leave",j,a,k),q.target=Xt,q.relatedTarget=L,G=null,Wn(k)===B&&(ct=new ct(O,N+"enter",at,a,k),ct.target=L,ct.relatedTarget=Xt,G=ct),Xt=G,j&&at)e:{for(ct=gE,O=j,N=at,L=0,G=O;G;G=ct(G))L++;G=0;for(var lt=N;lt;lt=ct(lt))G++;for(;0<L-G;)O=ct(O),L--;for(;0<G-L;)N=ct(N),G--;for(;L--;){if(O===N||N!==null&&O===N.alternate){ct=O;break e}O=ct(O),N=ct(N)}ct=null}else ct=null;j!==null&&Op(Y,q,j,ct,!1),at!==null&&Xt!==null&&Op(Y,Xt,at,ct,!0)}}t:{if(q=B?un(B):window,j=q.nodeName&&q.nodeName.toLowerCase(),j==="select"||j==="input"&&q.type==="file")var zt=Zd;else if(Xd(q))if(Jd)zt=C0;else{zt=b0;var st=S0}else j=q.nodeName,!j||j.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ns(B.elementType)&&(zt=Zd):zt=R0;if(zt&&(zt=zt(t,B))){Kd(Y,zt,a,k);break t}st&&st(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Qr(q,"number",q.value)}switch(st=B?un(B):window,t){case"focusin":(Xd(st)||st.contentEditable==="true")&&(Bs=st,Uc=B,il=null);break;case"focusout":il=Uc=Bs=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,sm(Y,a,k);break;case"selectionchange":if(D0)break;case"keydown":case"keyup":sm(Y,a,k)}var At;if(Lt)t:{switch(t){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Ls?$a(t,a)&&(Ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(oi&&a.locale!=="ko"&&(Ls||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Ls&&(At=Zr()):(si=k,Kr="value"in si?si.value:si.textContent,Ls=!0)),st=So(B,Ct),0<st.length&&(Ct=new ui(Ct,t,null,a,k),Y.push({event:Ct,listeners:st}),At?Ct.data=At:(At=Us(a),At!==null&&(Ct.data=At)))),(At=Sn?v0(t,a):E0(t,a))&&(Ct=So(B,"onBeforeInput"),0<Ct.length&&(st=new ui("onBeforeInput","beforeinput",null,a,k),Y.push({event:st,listeners:Ct}),st.data=At)),hE(Y,t,B,a,k)}Ip(Y,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function So(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Bn(t,a),c!=null&&l.unshift(Dl(t,c,h)),c=Bn(t,n),c!=null&&l.push(Dl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function gE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Op(t,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var E=a,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=Bn(a,h),B!=null&&g.unshift(Dl(a,B,w))):c||(B=Bn(a,h),B!=null&&g.push(Dl(a,B,w)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var pE=/\r\n?/g,yE=/\u0000|\uFFFD/g;function xp(t){return(typeof t=="string"?t:""+t).replace(pE,`
`).replace(yE,"")}function zp(t,n){return n=xp(n),xp(t)===n}function Ft(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||We(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&We(t,""+l);break;case"className":on(t,"class",l);break;case"tabIndex":on(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":on(t,a,l);break;case"style":Fr(t,l,h);break;case"data":if(n!=="object"){on(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Is(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Is(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&bt("scroll",t);break;case"onScrollEnd":l!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Is(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":bt("beforetoggle",t),bt("toggle",t),Ds(t,"popover",l);break;case"xlinkActuate":_e(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_e(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_e(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_e(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_e(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_e(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_e(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_e(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_e(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ds(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,Ds(t,a,l))}}function of(t,n,a,l,c,h){switch(a){case"style":Fr(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?We(t,l):(typeof l=="number"||typeof l=="bigint")&&We(t,""+l);break;case"onScroll":l!=null&&bt("scroll",t);break;case"onScrollEnd":l!=null&&bt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[Me]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ds(t,a,l)}}}function je(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(t,n,h,g,a,null)}}c&&Ft(t,n,"srcSet",a.srcSet,a,null),l&&Ft(t,n,"src",a.src,a,null);return;case"input":bt("invalid",t);var E=h=g=c=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var k=a[l];if(k!=null)switch(l){case"name":c=k;break;case"type":g=k;break;case"checked":w=k;break;case"defaultChecked":B=k;break;case"value":h=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Ft(t,n,l,k,a,null)}}vu(t,h,E,w,B,g,c,!1);return;case"select":bt("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Ft(t,n,c,E,a,null)}n=h,a=g,t.multiple=!!l,n!=null?Fi(t,!!l,n,!1):a!=null&&Fi(t,!!l,a,!0);return;case"textarea":bt("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ft(t,n,g,E,a,null)}Xi(t,l,c,h);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,w,l,a,null)}return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)bt(wl[l],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(t,n,B,l,a,null)}return;default:if(Ns(n)){for(k in a)a.hasOwnProperty(k)&&(l=a[k],l!==void 0&&of(t,n,k,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Ft(t,n,E,l,a,null))}function _E(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,w=null,B=null,k=null;for(j in a){var Y=a[j];if(a.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=Y;default:l.hasOwnProperty(j)||Ft(t,n,j,null,l,Y)}}for(var q in l){var j=l[q];if(Y=a[q],l.hasOwnProperty(q)&&(j!=null||Y!=null))switch(q){case"type":h=j;break;case"name":c=j;break;case"checked":B=j;break;case"defaultChecked":k=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==Y&&Ft(t,n,q,j,l,Y)}}Vs(t,g,E,w,B,k,h,c);return;case"select":j=g=E=q=null;for(h in a)if(w=a[h],a.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":j=w;default:l.hasOwnProperty(h)||Ft(t,n,h,null,l,w)}for(c in l)if(h=l[c],w=a[c],l.hasOwnProperty(c)&&(h!=null||w!=null))switch(c){case"value":q=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==w&&Ft(t,n,c,h,l,w)}n=E,a=g,l=j,q!=null?Fi(t,!!a,q,!1):!!l!=!!a&&(n!=null?Fi(t,!!a,n,!0):Fi(t,!!a,a?[]:"",!1));return;case"textarea":j=q=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":q=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Ft(t,n,g,c,l,h)}Eu(t,q,j);return;case"option":for(var at in a)if(q=a[at],a.hasOwnProperty(at)&&q!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Ft(t,n,at,null,l,q)}for(w in l)if(q=l[w],j=a[w],l.hasOwnProperty(w)&&q!==j&&(q!=null||j!=null))switch(w){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ft(t,n,w,q,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)q=a[ct],a.hasOwnProperty(ct)&&q!=null&&!l.hasOwnProperty(ct)&&Ft(t,n,ct,null,l,q);for(B in l)if(q=l[B],j=a[B],l.hasOwnProperty(B)&&q!==j&&(q!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Ft(t,n,B,q,l,j)}return;default:if(Ns(n)){for(var Xt in a)q=a[Xt],a.hasOwnProperty(Xt)&&q!==void 0&&!l.hasOwnProperty(Xt)&&of(t,n,Xt,void 0,l,q);for(k in l)q=l[k],j=a[k],!l.hasOwnProperty(k)||q===j||q===void 0&&j===void 0||of(t,n,k,q,l,j);return}}for(var O in a)q=a[O],a.hasOwnProperty(O)&&q!=null&&!l.hasOwnProperty(O)&&Ft(t,n,O,null,l,q);for(Y in l)q=l[Y],j=a[Y],!l.hasOwnProperty(Y)||q===j||q==null&&j==null||Ft(t,n,Y,q,l,j)}function Up(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&Up(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var w=a[l],B=w.startTime;if(B>E)break;var k=w.transferSize,Y=w.initiatorType;k&&Up(Y)&&(w=w.responseEnd,g+=k*(w<E?1:(E-B)/(w-B)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cf=null,hf=null;function bo(t){return t.nodeType===9?t:t.ownerDocument}function Lp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ff(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var df=null;function EE(){var t=window.event;return t&&t.type==="popstate"?t===df?!1:(df=t,!0):(df=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,TE=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,AE=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(SE)}:qp;function SE(t){setTimeout(function(){throw t})}function ya(t){return t==="head"}function jp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),hr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var h=a.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[$n]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&Vl(t.ownerDocument.body);a=c}while(a);hr(n)}function kp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function mf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mf(a),ws(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function bE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$n])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function RE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Nn(t.nextSibling),t===null))return null;return t}function Hp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Nn(t.nextSibling),t===null))return null;return t}function gf(t){return t.data==="$?"||t.data==="$~"}function pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function CE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var yf=null;function Gp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Nn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Qp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Yp(t,n,a){switch(n=bo(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ws(t)}var In=new Map,Fp=new Set;function Ro(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=W.d;W.d={f:wE,r:DE,D:VE,C:NE,L:IE,m:ME,X:xE,S:OE,M:zE};function wE(){var t=qi.f(),n=po();return t||n}function DE(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?cg(n):qi.r(t)}var ur=typeof document>"u"?null:document;function Xp(t,n,a){var l=ur;if(l&&typeof n=="string"&&n){var c=$e(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Fp.has(c)||(Fp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),je(n,"link",t),ye(n),l.head.appendChild(n)))}}function VE(t){qi.D(t),Xp("dns-prefetch",t,null)}function NE(t,n){qi.C(t,n),Xp("preconnect",t,n)}function IE(t,n,a){qi.L(t,n,a);var l=ur;if(l&&t&&n){var c='link[rel="preload"][as="'+$e(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+$e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+$e(a.imageSizes)+'"]')):c+='[href="'+$e(t)+'"]';var h=c;switch(n){case"style":h=or(t);break;case"script":h=cr(t)}In.has(h)||(t=D({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Nl(h))||n==="script"&&l.querySelector(Il(h))||(n=l.createElement("link"),je(n,"link",t),ye(n),l.head.appendChild(n)))}}function ME(t,n){qi.m(t,n);var a=ur;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+$e(l)+'"][href="'+$e(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=cr(t)}if(!In.has(h)&&(t=D({rel:"modulepreload",href:t},n),In.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(h)))return}l=a.createElement("link"),je(l,"link",t),ye(l),a.head.appendChild(l)}}}function OE(t,n,a){qi.S(t,n,a);var l=ur;if(l&&t){var c=ti(l).hoistableStyles,h=or(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Nl(h)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(h))&&_f(t,a);var w=g=l.createElement("link");ye(w),je(w,"link",t),w._p=new Promise(function(B,k){w.onload=B,w.onerror=k}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Co(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function xE(t,n){qi.X(t,n);var a=ur;if(a&&t){var l=ti(a).hoistableScripts,c=cr(t),h=l.get(c);h||(h=a.querySelector(Il(c)),h||(t=D({src:t,async:!0},n),(n=In.get(c))&&vf(t,n),h=a.createElement("script"),ye(h),je(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function zE(t,n){qi.M(t,n);var a=ur;if(a&&t){var l=ti(a).hoistableScripts,c=cr(t),h=l.get(c);h||(h=a.querySelector(Il(c)),h||(t=D({src:t,async:!0,type:"module"},n),(n=In.get(c))&&vf(t,n),h=a.createElement("script"),ye(h),je(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Kp(t,n,a,l){var c=(c=Tt.current)?Ro(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=or(a.href),a=ti(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=or(a.href);var h=ti(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Nl(t)))&&!h._p&&(g.instance=h,g.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),h||UE(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cr(a),a=ti(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function or(t){return'href="'+$e(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function Zp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function UE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",a),ye(n),t.head.appendChild(n))}function cr(t){return'[src="'+$e(t)+'"]'}function Il(t){return"script[async]"+t}function Jp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+$e(a.href)+'"]');if(l)return n.instance=l,ye(l),l;var c=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ye(l),je(l,"style",c),Co(l,a.precedence,t),n.instance=l;case"stylesheet":c=or(a.href);var h=t.querySelector(Nl(c));if(h)return n.state.loading|=4,n.instance=h,ye(h),h;l=Zp(a),(c=In.get(c))&&_f(l,c),h=(t.ownerDocument||t).createElement("link"),ye(h);var g=h;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),je(h,"link",l),n.state.loading|=4,Co(h,a.precedence,t),n.instance=h;case"script":return h=cr(a.src),(c=t.querySelector(Il(h)))?(n.instance=c,ye(c),c):(l=a,(c=In.get(h))&&(l=D({},a),vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ye(c),je(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Co(l,a.precedence,t));return n.instance}function Co(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wo=null;function $p(t,n,a){if(wo===null){var l=new Map,c=wo=new Map;c.set(a,l)}else c=wo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[$n]||h[pe]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function Wp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function LE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function BE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=or(l.href),h=n.querySelector(Nl(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Do.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,ye(h);return}h=n.ownerDocument||n,l=Zp(l),(c=In.get(c))&&_f(l,c),h=h.createElement("link"),ye(h);var g=h;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),je(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Do.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ef=0;function qE(t,n){return t.stylesheets&&t.count===0&&No(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&No(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&Ef===0&&(Ef=62500*vE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&No(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Ef?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Do(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)No(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vo=null;function No(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vo=new Map,n.forEach(PE,t),Vo=null,Do.call(t))}function PE(t,n){if(!(n.state.loading&4)){var a=Vo.get(t);if(a)var l=a.get(null);else{a=new Map,Vo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=Do.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ml={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function jE(t,n,a,l,c,h,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function ey(t,n,a,l,c,h,g,E,w,B,k,Y){return t=new jE(t,n,a,g,w,B,k,Y,E),n=1,h===!0&&(n|=24),h=hn(3,null,null,n),t.current=h,h.stateNode=t,n=$c(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},nh(h),t}function ny(t){return t?(t=js,t):js}function iy(t,n,a,l,c,h){c=ny(c),l.context===null?l.context=c:l.pendingContext=c,l=ra(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=la(t,l,n),a!==null&&(sn(a,t,n),cl(a,t,n))}function ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Tf(t,n){ay(t,n),(t=t.alternate)&&ay(t,n)}function sy(t){if(t.tag===13||t.tag===31){var n=es(t,67108864);n!==null&&sn(n,t,67108864),Tf(t,67108864)}}function ry(t){if(t.tag===13||t.tag===31){var n=pn();n=Ha(n);var a=es(t,n);a!==null&&sn(a,t,n),Tf(t,n)}}var Io=!0;function kE(t,n,a,l){var c=H.T;H.T=null;var h=W.p;try{W.p=2,Af(t,n,a,l)}finally{W.p=h,H.T=c}}function HE(t,n,a,l){var c=H.T;H.T=null;var h=W.p;try{W.p=8,Af(t,n,a,l)}finally{W.p=h,H.T=c}}function Af(t,n,a,l){if(Io){var c=Sf(l);if(c===null)uf(t,n,l,Mo,a),uy(t,l);else if(QE(c,t,n,a,l))l.stopPropagation();else if(uy(t,l),n&4&&-1<GE.indexOf(t)){for(;c!==null;){var h=En(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Xn(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-oe(g);E.entanglements[1]|=w,g&=~w}di(h),(Bt&6)===0&&(mo=Ke()+500,Cl(0))}}break;case 31:case 13:E=es(h,2),E!==null&&sn(E,h,2),po(),Tf(h,2)}if(h=Sf(l),h===null&&uf(t,n,l,Mo,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else uf(t,n,l,null,a)}}function Sf(t){return t=Tn(t),bf(t)}var Mo=null;function bf(t){if(Mo=null,t=Wn(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mo=t,null}function ly(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case zr:return 2;case Ur:return 8;case Qi:case Vc:return 32;case ou:return 268435456;default:return 32}default:return 32}}var Rf=!1,_a=null,va=null,Ea=null,Ol=new Map,xl=new Map,Ta=[],GE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(t,n){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function zl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&sy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function QE(t,n,a,l,c){switch(n){case"focusin":return _a=zl(_a,t,n,a,l,c),!0;case"dragenter":return va=zl(va,t,n,a,l,c),!0;case"mouseover":return Ea=zl(Ea,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Ol.set(h,zl(Ol.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,xl.set(h,zl(xl.get(h)||null,t,n,a,l,c)),!0}return!1}function oy(t){var n=Wn(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){ry(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,zn(t.priority,function(){ry(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Sf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xr=l,a.target.dispatchEvent(l),Xr=null}else return n=En(a),n!==null&&sy(n),t.blockedOn=a,!1;n.shift()}return!0}function cy(t,n,a){Oo(t)&&a.delete(n)}function YE(){Rf=!1,_a!==null&&Oo(_a)&&(_a=null),va!==null&&Oo(va)&&(va=null),Ea!==null&&Oo(Ea)&&(Ea=null),Ol.forEach(cy),xl.forEach(cy)}function xo(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,YE)))}var zo=null;function hy(t){zo!==t&&(zo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zo===t&&(zo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bf(l||a)===null)continue;break}var h=En(a);h!==null&&(t.splice(n,3),n-=3,Ah(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function hr(t){function n(w){return xo(w,t)}_a!==null&&xo(_a,t),va!==null&&xo(va,t),Ea!==null&&xo(Ea,t),Ol.forEach(n),xl.forEach(n);for(var a=0;a<Ta.length;a++){var l=Ta[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ta.length&&(a=Ta[0],a.blockedOn===null);)oy(a),a.blockedOn===null&&Ta.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[Me]||null;if(typeof h=="function")g||hy(a);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Me]||null)E=g.formAction;else if(bf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),hy(a)}}}function fy(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Cf(t){this._internalRoot=t}Uo.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=pn();iy(a,l,t,n,null,null)},Uo.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;iy(t.current,2,null,t,null,null),po(),n[Jn]=null}};function Uo(t){this._internalRoot=t}Uo.prototype.unstable_scheduleHydration=function(t){if(t){var n=gu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ta.length&&n!==0&&n<Ta[a].priority;a++);Ta.splice(a,0,t),a===0&&oy(t)}};var dy=e.version;if(dy!=="19.2.0")throw Error(s(527,dy,"19.2.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var FE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{On=Lo.inject(FE),Ue=Lo}catch{}}return Ll.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=Eg,h=Tg,g=Ag;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ey(t,1,!1,null,null,a,l,null,c,h,g,fy),t[Jn]=n.current,lf(t),new Cf(n)},Ll.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",h=Eg,g=Tg,E=Ag,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=ey(t,1,!0,n,a??null,l,c,w,h,g,E,fy),n.context=ny(null),a=n.current,l=pn(),l=Ha(l),c=ra(l),c.callback=null,la(a,c,l),a=l,n.current.lanes=a,ja(n,a),di(n),t[Jn]=n.current,lf(t),new Uo(n)},Ll.version="19.2.0",Ll}var Sy;function iT(){if(Sy)return Vf.exports;Sy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vf.exports=nT(),Vf.exports}var aT=iT();/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),by=r=>{const e=rT(r);return e.charAt(0).toUpperCase()+e.slice(1)},z_=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),lT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=yn.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:u="",children:f,iconNode:d,...y},v)=>yn.createElement("svg",{ref:v,...uT,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:z_("lucide",u),...!f&&!lT(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,b])=>yn.createElement(_,b)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=(r,e)=>{const i=yn.forwardRef(({className:s,...u},f)=>yn.createElement(oT,{ref:f,iconNode:e,className:z_(`lucide-${sT(by(r))}`,`lucide-${r}`,s),...u}));return i.displayName=by(r),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hT=fd("plus",cT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dT=fd("users",fT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gT=fd("x",mT),pT=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},yT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const f=r[i++];e[s++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=r[i++],d=r[i++],y=r[i++],v=((u&7)<<18|(f&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(f&63)<<6|d&63)}}return e.join("")},L_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const f=r[u],d=u+1<r.length,y=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,b=f>>2,D=(f&3)<<4|y>>4;let z=(y&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(z=64)),s.push(i[b],i[D],i[z],i[Q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(U_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const f=i[r.charAt(u++)],y=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const D=u<r.length?i[r.charAt(u)]:64;if(++u,f==null||y==null||_==null||D==null)throw new _T;const z=f<<2|y>>4;if(s.push(z),_!==64){const Q=y<<4&240|_>>2;if(s.push(Q),D!==64){const $=_<<6&192|D;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _T extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vT=function(r){const e=U_(r);return L_.encodeByteArray(e,!0)},Ko=function(r){return vT(r).replace(/\./g,"")},ET=function(r){try{return L_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=()=>TT().__FIREBASE_DEFAULTS__,ST=()=>{if(typeof process>"u"||typeof Ry>"u")return;const r=Ry.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ET(r[1]);return e&&JSON.parse(e)},dd=()=>{try{return pT()||AT()||ST()||bT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},RT=r=>dd()?.emulatorHosts?.[r],CT=r=>{const e=RT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},B_=()=>dd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ko(JSON.stringify(i)),Ko(JSON.stringify(d)),""].join(".")}const Hl={};function NT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function IT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Cy=!1;function MT(r,e){if(typeof window>"u"||typeof document>"u"||!md(window.location.host)||Hl[r]===e||Hl[r]||Cy)return;Hl[r]=e;function i(z){return`__firebase__banner__${z}`}const s="__firebase__banner",f=NT().prod.length>0;function d(){const z=document.getElementById(s);z&&z.remove()}function y(z){z.style.display="flex",z.style.background="#7faaf0",z.style.position="fixed",z.style.bottom="5px",z.style.left="5px",z.style.padding=".5em",z.style.borderRadius="5px",z.style.alignItems="center"}function v(z,Q){z.setAttribute("width","24"),z.setAttribute("id",Q),z.setAttribute("height","24"),z.setAttribute("viewBox","0 0 24 24"),z.setAttribute("fill","none"),z.style.marginLeft="-6px"}function _(){const z=document.createElement("span");return z.style.cursor="pointer",z.style.marginLeft="16px",z.style.fontSize="24px",z.innerHTML=" &times;",z.onclick=()=>{Cy=!0,d()},z}function b(z,Q){z.setAttribute("id",Q),z.innerText="Learn more",z.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",z.setAttribute("target","__blank"),z.style.paddingLeft="5px",z.style.textDecoration="underline"}function D(){const z=IT(s),Q=i("text"),$=document.getElementById(Q)||document.createElement("span"),et=i("learnmore"),Z=document.getElementById(et)||document.createElement("a"),dt=i("preprendIcon"),_t=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(z.created){const ht=z.element;y(ht),b(Z,et);const qt=_();v(_t,dt),ht.append(_t,$,Z,qt),document.body.appendChild(ht)}f?($.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xT(){const r=dd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zT(){return!xT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UT(){try{return typeof indexedDB=="object"}catch{return!1}}function LT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="FirebaseError";class wr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=BT,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q_.prototype.create)}}class q_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,f=this.errors[e],d=f?qT(f,s):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new wr(u,y,s)}}function qT(r,e){return r.replace(PT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const PT=/\{\$([^}]+)}/g;function Zo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const f=r[u],d=e[u];if(wy(f)&&wy(d)){if(!Zo(f,d))return!1}else if(f!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function wy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(r){return r&&r._delegate?r._delegate:r}class Xl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new wT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HT(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:u});s.resolve(f)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);s===y&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const f=this.instances.get(s);return f&&e(f,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kT(r){return r===ms?void 0:r}function HT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new jT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const QT={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},YT=Ot.INFO,FT={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},XT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=FT[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P_{constructor(e){this.name=e,this._logLevel=YT,this._logHandler=XT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const KT=(r,e)=>e.some(i=>r instanceof i);let Dy,Vy;function ZT(){return Dy||(Dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JT(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j_=new WeakMap,Hf=new WeakMap,k_=new WeakMap,Of=new WeakMap,gd=new WeakMap;function $T(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(ba(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&j_.set(i,r)}).catch(()=>{}),gd.set(e,r),e}function WT(r){if(Hf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});Hf.set(r,e)}let Gf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Hf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||k_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ba(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function t1(r){Gf=r(Gf)}function e1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(xf(this),e,...i);return k_.set(s,e.sort?e.sort():[e]),ba(s)}:JT().includes(r)?function(...e){return r.apply(xf(this),e),ba(j_.get(this))}:function(...e){return ba(r.apply(xf(this),e))}}function n1(r){return typeof r=="function"?e1(r):(r instanceof IDBTransaction&&WT(r),KT(r,ZT())?new Proxy(r,Gf):r)}function ba(r){if(r instanceof IDBRequest)return $T(r);if(Of.has(r))return Of.get(r);const e=n1(r);return e!==r&&(Of.set(r,e),gd.set(e,r)),e}const xf=r=>gd.get(r);function i1(r,e,{blocked:i,upgrade:s,blocking:u,terminated:f}={}){const d=indexedDB.open(r,e),y=ba(d);return s&&d.addEventListener("upgradeneeded",v=>{s(ba(d.result),v.oldVersion,v.newVersion,ba(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const a1=["get","getKey","getAll","getAllKeys","count"],s1=["put","add","delete","clear"],zf=new Map;function Ny(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=s1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||a1.includes(i)))return;const f=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return zf.set(e,f),f}t1(r=>({...r,get:(e,i,s)=>Ny(e,i)||r.get(e,i,s),has:(e,i)=>!!Ny(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(l1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function l1(r){return r.getComponent()?.type==="VERSION"}const Qf="@firebase/app",Iy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new P_("@firebase/app"),u1="@firebase/app-compat",o1="@firebase/analytics-compat",c1="@firebase/analytics",h1="@firebase/app-check-compat",f1="@firebase/app-check",d1="@firebase/auth",m1="@firebase/auth-compat",g1="@firebase/database",p1="@firebase/data-connect",y1="@firebase/database-compat",_1="@firebase/functions",v1="@firebase/functions-compat",E1="@firebase/installations",T1="@firebase/installations-compat",A1="@firebase/messaging",S1="@firebase/messaging-compat",b1="@firebase/performance",R1="@firebase/performance-compat",C1="@firebase/remote-config",w1="@firebase/remote-config-compat",D1="@firebase/storage",V1="@firebase/storage-compat",N1="@firebase/firestore",I1="@firebase/ai",M1="@firebase/firestore-compat",O1="firebase",x1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]",z1={[Qf]:"fire-core",[u1]:"fire-core-compat",[c1]:"fire-analytics",[o1]:"fire-analytics-compat",[f1]:"fire-app-check",[h1]:"fire-app-check-compat",[d1]:"fire-auth",[m1]:"fire-auth-compat",[g1]:"fire-rtdb",[p1]:"fire-data-connect",[y1]:"fire-rtdb-compat",[_1]:"fire-fn",[v1]:"fire-fn-compat",[E1]:"fire-iid",[T1]:"fire-iid-compat",[A1]:"fire-fcm",[S1]:"fire-fcm-compat",[b1]:"fire-perf",[R1]:"fire-perf-compat",[C1]:"fire-rc",[w1]:"fire-rc-compat",[D1]:"fire-gcs",[V1]:"fire-gcs-compat",[N1]:"fire-fst",[M1]:"fire-fst-compat",[I1]:"fire-vertex","fire-js":"fire-js",[O1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Map,U1=new Map,Ff=new Map;function My(r,e){try{r.container.addComponent(e)}catch(i){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function $o(r){const e=r.name;if(Ff.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,r);for(const i of Jo.values())My(i,r);for(const i of U1.values())My(i,r);return!0}function L1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function B1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new q_("app","Firebase",q1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=x1;function H_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Yf,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw Ra.create("bad-app-name",{appName:String(u)});if(i||(i=B_()),!i)throw Ra.create("no-options");const f=Jo.get(u);if(f){if(Zo(i,f.options)&&Zo(s,f.config))return f;throw Ra.create("duplicate-app",{appName:u})}const d=new GT(u);for(const v of Ff.values())d.addComponent(v);const y=new P1(i,s,d);return Jo.set(u,y),y}function k1(r=Yf){const e=Jo.get(r);if(!e&&r===Yf&&B_())return H_();if(!e)throw Ra.create("no-app",{appName:r});return e}function yr(r,e,i){let s=z1[r]??r;i&&(s+=`-${i}`);const u=s.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(d.join(" "));return}$o(new Xl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",G1=1,Kl="firebase-heartbeat-store";let Uf=null;function G_(){return Uf||(Uf=i1(H1,G1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ra.create("idb-open",{originalErrorMessage:r.message})})),Uf}async function Q1(r){try{const i=(await G_()).transaction(Kl),s=await i.objectStore(Kl).get(Q_(r));return await i.done,s}catch(e){if(e instanceof wr)ji.warn(e.message);else{const i=Ra.create("idb-get",{originalErrorMessage:e?.message});ji.warn(i.message)}}}async function Oy(r,e){try{const s=(await G_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,Q_(r)),await s.done}catch(i){if(i instanceof wr)ji.warn(i.message);else{const s=Ra.create("idb-set",{originalErrorMessage:i?.message});ji.warn(s.message)}}}function Q_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=1024,F1=30;class X1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Z1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>F1){const u=J1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xy(),{heartbeatsToSend:i,unsentEntries:s}=K1(this._heartbeatsCache.heartbeats),u=Ko(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return ji.warn(e),""}}}function xy(){return new Date().toISOString().substring(0,10)}function K1(r,e=Y1){const i=[];let s=r.slice();for(const u of r){const f=i.find(d=>d.agent===u.agent);if(f){if(f.dates.push(u.date),zy(i)>e){f.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),zy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Z1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UT()?LT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Q1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zy(r){return Ko(JSON.stringify({version:2,heartbeats:r})).length}function J1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(r){$o(new Xl("platform-logger",e=>new r1(e),"PRIVATE")),$o(new Xl("heartbeat",e=>new X1(e),"PRIVATE")),yr(Qf,Iy,r),yr(Qf,Iy,"esm2020"),yr("fire-js","")}$1("");var W1="firebase",tA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(W1,tA,"app");var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ca,Y_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function R(){}R.prototype=A.prototype,S.F=A.prototype,S.prototype=new R,S.prototype.constructor=S,S.D=function(M,V,x){for(var C=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)C[ne-2]=arguments[ne];return A.prototype[V].apply(M,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(S,A,R){R||(R=0);const M=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)M[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;V<16;++V)M[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=S.g[0],R=S.g[1],V=S.g[2];let x=S.g[3],C;C=A+(x^R&(V^x))+M[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=x+(V^A&(R^V))+M[1]+3905402710&4294967295,x=A+(C<<12&4294967295|C>>>20),C=V+(R^x&(A^R))+M[2]+606105819&4294967295,V=x+(C<<17&4294967295|C>>>15),C=R+(A^V&(x^A))+M[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(x^R&(V^x))+M[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=x+(V^A&(R^V))+M[5]+1200080426&4294967295,x=A+(C<<12&4294967295|C>>>20),C=V+(R^x&(A^R))+M[6]+2821735955&4294967295,V=x+(C<<17&4294967295|C>>>15),C=R+(A^V&(x^A))+M[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(x^R&(V^x))+M[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=x+(V^A&(R^V))+M[9]+2336552879&4294967295,x=A+(C<<12&4294967295|C>>>20),C=V+(R^x&(A^R))+M[10]+4294925233&4294967295,V=x+(C<<17&4294967295|C>>>15),C=R+(A^V&(x^A))+M[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(x^R&(V^x))+M[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=x+(V^A&(R^V))+M[13]+4254626195&4294967295,x=A+(C<<12&4294967295|C>>>20),C=V+(R^x&(A^R))+M[14]+2792965006&4294967295,V=x+(C<<17&4294967295|C>>>15),C=R+(A^V&(x^A))+M[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(V^x&(R^V))+M[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=x+(R^V&(A^R))+M[6]+3225465664&4294967295,x=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(x^A))+M[11]+643717713&4294967295,V=x+(C<<14&4294967295|C>>>18),C=R+(x^A&(V^x))+M[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^x&(R^V))+M[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=x+(R^V&(A^R))+M[10]+38016083&4294967295,x=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(x^A))+M[15]+3634488961&4294967295,V=x+(C<<14&4294967295|C>>>18),C=R+(x^A&(V^x))+M[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^x&(R^V))+M[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=x+(R^V&(A^R))+M[14]+3275163606&4294967295,x=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(x^A))+M[3]+4107603335&4294967295,V=x+(C<<14&4294967295|C>>>18),C=R+(x^A&(V^x))+M[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^x&(R^V))+M[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=x+(R^V&(A^R))+M[2]+4243563512&4294967295,x=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(x^A))+M[7]+1735328473&4294967295,V=x+(C<<14&4294967295|C>>>18),C=R+(x^A&(V^x))+M[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(R^V^x)+M[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=x+(A^R^V)+M[8]+2272392833&4294967295,x=A+(C<<11&4294967295|C>>>21),C=V+(x^A^R)+M[11]+1839030562&4294967295,V=x+(C<<16&4294967295|C>>>16),C=R+(V^x^A)+M[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^x)+M[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=x+(A^R^V)+M[4]+1272893353&4294967295,x=A+(C<<11&4294967295|C>>>21),C=V+(x^A^R)+M[7]+4139469664&4294967295,V=x+(C<<16&4294967295|C>>>16),C=R+(V^x^A)+M[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^x)+M[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=x+(A^R^V)+M[0]+3936430074&4294967295,x=A+(C<<11&4294967295|C>>>21),C=V+(x^A^R)+M[3]+3572445317&4294967295,V=x+(C<<16&4294967295|C>>>16),C=R+(V^x^A)+M[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^x)+M[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=x+(A^R^V)+M[12]+3873151461&4294967295,x=A+(C<<11&4294967295|C>>>21),C=V+(x^A^R)+M[15]+530742520&4294967295,V=x+(C<<16&4294967295|C>>>16),C=R+(V^x^A)+M[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(V^(R|~x))+M[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=x+(R^(A|~V))+M[7]+1126891415&4294967295,x=A+(C<<10&4294967295|C>>>22),C=V+(A^(x|~R))+M[14]+2878612391&4294967295,V=x+(C<<15&4294967295|C>>>17),C=R+(x^(V|~A))+M[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~x))+M[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=x+(R^(A|~V))+M[3]+2399980690&4294967295,x=A+(C<<10&4294967295|C>>>22),C=V+(A^(x|~R))+M[10]+4293915773&4294967295,V=x+(C<<15&4294967295|C>>>17),C=R+(x^(V|~A))+M[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~x))+M[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=x+(R^(A|~V))+M[15]+4264355552&4294967295,x=A+(C<<10&4294967295|C>>>22),C=V+(A^(x|~R))+M[6]+2734768916&4294967295,V=x+(C<<15&4294967295|C>>>17),C=R+(x^(V|~A))+M[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~x))+M[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=x+(R^(A|~V))+M[11]+3174756917&4294967295,x=A+(C<<10&4294967295|C>>>22),C=V+(A^(x|~R))+M[2]+718787259&4294967295,V=x+(C<<15&4294967295|C>>>17),C=R+(x^(V|~A))+M[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+V&4294967295,S.g[3]=S.g[3]+x&4294967295}s.prototype.v=function(S,A){A===void 0&&(A=S.length);const R=A-this.blockSize,M=this.C;let V=this.h,x=0;for(;x<A;){if(V==0)for(;x<=R;)u(this,S,x),x+=this.blockSize;if(typeof S=="string"){for(;x<A;)if(M[V++]=S.charCodeAt(x++),V==this.blockSize){u(this,M),V=0;break}}else for(;x<A;)if(M[V++]=S[x++],V==this.blockSize){u(this,M),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var R=S.length-8;R<S.length;++R)S[R]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)S[A++]=this.g[R]>>>M&255;return S};function f(S,A){var R=y;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=A(S)}function d(S,A){this.h=A;const R=[];let M=!0;for(let V=S.length-1;V>=0;V--){const x=S[V]|0;M&&x==A||(R[V]=x,M=!1)}this.g=R}var y={};function v(S){return-128<=S&&S<128?f(S,function(A){return new d([A|0],A<0?-1:0)}):new d([S|0],S<0?-1:0)}function _(S){if(isNaN(S)||!isFinite(S))return D;if(S<0)return Z(_(-S));const A=[];let R=1;for(let M=0;S>=R;M++)A[M]=S/R|0,R*=4294967296;return new d(A,0)}function b(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return Z(b(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(A,8));let M=D;for(let x=0;x<S.length;x+=8){var V=Math.min(8,S.length-x);const C=parseInt(S.substring(x,x+V),A);V<8?(V=_(Math.pow(A,V)),M=M.j(V).add(_(C))):(M=M.j(R),M=M.add(_(C)))}return M}var D=v(0),z=v(1),Q=v(16777216);r=d.prototype,r.m=function(){if(et(this))return-Z(this).m();let S=0,A=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);S+=(M>=0?M:4294967296+M)*A,A*=4294967296}return S},r.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if($(this))return"0";if(et(this))return"-"+Z(this).toString(S);const A=_(Math.pow(S,6));var R=this;let M="";for(;;){const V=qt(R,A).g;R=dt(R,V.j(A));let x=((R.g.length>0?R.g[0]:R.h)>>>0).toString(S);if(R=V,$(R))return x+M;for(;x.length<6;)x="0"+x;M=x+M}},r.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function $(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function et(S){return S.h==-1}r.l=function(S){return S=dt(this,S),et(S)?-1:$(S)?0:1};function Z(S){const A=S.g.length,R=[];for(let M=0;M<A;M++)R[M]=~S.g[M];return new d(R,~S.h).add(z)}r.abs=function(){return et(this)?Z(this):this},r.add=function(S){const A=Math.max(this.g.length,S.g.length),R=[];let M=0;for(let V=0;V<=A;V++){let x=M+(this.i(V)&65535)+(S.i(V)&65535),C=(x>>>16)+(this.i(V)>>>16)+(S.i(V)>>>16);M=C>>>16,x&=65535,C&=65535,R[V]=C<<16|x}return new d(R,R[R.length-1]&-2147483648?-1:0)};function dt(S,A){return S.add(Z(A))}r.j=function(S){if($(this)||$(S))return D;if(et(this))return et(S)?Z(this).j(Z(S)):Z(Z(this).j(S));if(et(S))return Z(this.j(Z(S)));if(this.l(Q)<0&&S.l(Q)<0)return _(this.m()*S.m());const A=this.g.length+S.g.length,R=[];for(var M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<S.g.length;V++){const x=this.i(M)>>>16,C=this.i(M)&65535,ne=S.i(V)>>>16,Re=S.i(V)&65535;R[2*M+2*V]+=C*Re,_t(R,2*M+2*V),R[2*M+2*V+1]+=x*Re,_t(R,2*M+2*V+1),R[2*M+2*V+1]+=C*ne,_t(R,2*M+2*V+1),R[2*M+2*V+2]+=x*ne,_t(R,2*M+2*V+2)}for(S=0;S<A;S++)R[S]=R[2*S+1]<<16|R[2*S];for(S=A;S<2*A;S++)R[S]=0;return new d(R,0)};function _t(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function ht(S,A){this.g=S,this.h=A}function qt(S,A){if($(A))throw Error("division by zero");if($(S))return new ht(D,D);if(et(S))return A=qt(Z(S),A),new ht(Z(A.g),Z(A.h));if(et(A))return A=qt(S,Z(A)),new ht(Z(A.g),A.h);if(S.g.length>30){if(et(S)||et(A))throw Error("slowDivide_ only works with positive integers.");for(var R=z,M=A;M.l(S)<=0;)R=Zt(R),M=Zt(M);var V=Vt(R,1),x=Vt(M,1);for(M=Vt(M,2),R=Vt(R,2);!$(M);){var C=x.add(M);C.l(S)<=0&&(V=V.add(R),x=C),M=Vt(M,1),R=Vt(R,1)}return A=dt(S,V.j(A)),new ht(V,A)}for(V=D;S.l(A)>=0;){for(R=Math.max(1,Math.floor(S.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),x=_(R),C=x.j(A);et(C)||C.l(S)>0;)R-=M,x=_(R),C=x.j(A);$(x)&&(x=z),V=V.add(x),S=dt(S,C)}return new ht(V,S)}r.B=function(S){return qt(this,S).h},r.and=function(S){const A=Math.max(this.g.length,S.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)&S.i(M);return new d(R,this.h&S.h)},r.or=function(S){const A=Math.max(this.g.length,S.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)|S.i(M);return new d(R,this.h|S.h)},r.xor=function(S){const A=Math.max(this.g.length,S.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)^S.i(M);return new d(R,this.h^S.h)};function Zt(S){const A=S.g.length+1,R=[];for(let M=0;M<A;M++)R[M]=S.i(M)<<1|S.i(M-1)>>>31;return new d(R,S.h)}function Vt(S,A){const R=A>>5;A%=32;const M=S.g.length-R,V=[];for(let x=0;x<M;x++)V[x]=A>0?S.i(x+R)>>>A|S.i(x+R+1)<<32-A:S.i(x+R);return new d(V,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Y_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Ca=d}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});var Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F_,Bl,X_,Ho,Xf,K_,Z_,J_;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bo=="object"&&Bo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in p))break t;p=p[U]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function b(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function D(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,U,P){for(var J=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)J[vt-2]=arguments[vt];return m.prototype[U].apply(T,J)}}var z=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function Q(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function $(o,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=o.length||0;const P=U.length||0;o.length=p+P;for(let J=0;J<P;J++)o[p+J]=U[J]}else o.push(U)}}class et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(o){d.setTimeout(()=>{throw o},0)}function dt(){var o=S;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,p){const T=ht.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new et(()=>new qt,o=>o.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,Vt=!1,S=new _t,A=()=>{const o=Promise.resolve(void 0);Zt=()=>{o.then(R)}};function R(){for(var o;o=dt();){try{o.h.call(o.g)}catch(p){Z(p)}var m=ht;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}Vt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function C(o){return/^[\s\xa0]*$/.test(o)}function ne(o,m){V.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}D(ne,V),ne.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(o,m,p,T,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function ut(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function xt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function jt(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function I(o){const m={};for(const p in o)m[p]=o[p];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(o,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)o[p]=T[p];for(let P=0;P<F.length;P++)p=F[P],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function it(o){this.src=o,this.g={},this.h=0}it.prototype.add=function(o,m,p,T,U){const P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);const J=Tt(o,m,T,U);return J>-1?(m=o[J],p||(m.fa=!1)):(m=new W(m,this.src,P,!!T,U),m.fa=p,o.push(m)),m};function mt(o,m){const p=m.type;if(p in o.g){var T=o.g[p],U=Array.prototype.indexOf.call(T,m,void 0),P;(P=U>=0)&&Array.prototype.splice.call(T,U,1),P&&(ut(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Tt(o,m,p,T){for(let U=0;U<o.length;++U){const P=o[U];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return U}return-1}var It="closure_lm_"+(Math.random()*1e6|0),Ce={};function ie(o,m,p,T,U){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ie(o,m[P],p,T,U);return null}return p=xr(p),o&&o[Re]?o.J(m,p,y(T)?!!T.capture:!1,U):La(o,m,p,!1,T,U)}function La(o,m,p,T,U,P){if(!m)throw Error("Invalid event type");const J=y(U)?!!U.capture:!!U;let vt=Ba(o);if(vt||(o[It]=vt=new it(o)),p=vt.add(m,p,T,J,P),p.proxy)return p;if(T=As(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)x||(U=J),U===void 0&&(U=!1),o.addEventListener(m.toString(),T,U);else if(o.attachEvent)o.attachEvent(Yn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function As(){function o(p){return m.call(o.src,o.listener,p)}const m=Mr;return o}function Ss(o,m,p,T,U){if(Array.isArray(m))for(var P=0;P<m.length;P++)Ss(o,m[P],p,T,U);else T=y(T)?!!T.capture:!!T,p=xr(p),o&&o[Re]?(o=o.i,P=String(m).toString(),P in o.g&&(m=o.g[P],p=Tt(m,p,T,U),p>-1&&(ut(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[P],o.h--)))):o&&(o=Ba(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Tt(m,p,T,U)),(p=o>-1?m[o]:null)&&bs(p))}function bs(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Re])mt(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Yn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ba(m))?(mt(p,o),p.h==0&&(p.src=null,m[It]=null)):ut(o)}}}function Yn(o){return o in Ce?Ce[o]:Ce[o]="on"+o}function Mr(o,m){if(o.da)o=!0;else{m=new ne(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&bs(o),o=p.call(T,m)}return o}function Ba(o){return o=o[It],o instanceof it?o:null}var Or="__closure_events_fn_"+(Math.random()*1e9>>>0);function xr(o){return typeof o=="function"?o:(o[Or]||(o[Or]=function(m){return o.handleEvent(m)}),o[Or])}function me(){M.call(this),this.i=new it(this),this.M=this,this.G=null}D(me,M),me.prototype[Re]=!0,me.prototype.removeEventListener=function(o,m,p,T){Ss(this,o,m,p,T)};function we(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new V(m,o);else if(m instanceof V)m.target=m.target||o;else{var U=m;m=new V(T,o),tt(m,U)}U=!0;let P,J;if(p)for(J=p.length-1;J>=0;J--)P=m.g=p[J],U=Gi(P,T,!0,m)&&U;if(P=m.g=o,U=Gi(P,T,!0,m)&&U,U=Gi(P,T,!1,m)&&U,p)for(J=0;J<p.length;J++)P=m.g=p[J],U=Gi(P,T,!1,m)&&U}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)ut(p[T]);delete o.g[m],o.h--}}this.G=null},me.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},me.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function Gi(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let P=0;P<m.length;++P){const J=m[P];if(J&&!J.da&&J.capture==p){const vt=J.listener,ce=J.ha||J.src;J.fa&&mt(o.i,J),U=vt.call(ce,T)!==!1&&U}}return U&&!T.defaultPrevented}function Dc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function uu(o){o.g=Dc(()=>{o.g=null,o.i&&(o.i=!1,uu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ke extends M{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:uu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qa(o){M.call(this),this.h=o,this.g={}}D(qa,M);var zr=[];function Ur(o){xt(o.g,function(m,p){this.g.hasOwnProperty(p)&&bs(m)},o),o.g={}}qa.prototype.N=function(){qa.Z.N.call(this),Ur(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qi=d.JSON.stringify,Vc=d.JSON.parse,ou=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function cu(){}function hu(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){V.call(this,"d")}D(Ue,V);function vn(){V.call(this,"c")}D(vn,V);var oe={},fu=null;function Rs(){return fu=fu||new me}oe.Ia="serverreachability";function du(o){V.call(this,oe.Ia,o)}D(du,V);function Fn(o){const m=Rs();we(m,new du(m))}oe.STAT_EVENT="statevent";function Pa(o,m){V.call(this,oe.STAT_EVENT,o),this.stat=m}D(Pa,V);function ge(o){const m=Rs();we(m,new Pa(m,o))}oe.Ja="timingevent";function Xn(o,m){V.call(this,oe.Ja,o),this.size=m}D(Xn,V);function Kn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function Nc(o,m,p,T,U,P){o.info(function(){if(o.g)if(P){var J="",vt=P.split("&");for(let Lt=0;Lt<vt.length;Lt++){var ce=vt[Lt].split("=");if(ce.length>1){const ae=ce[0];ce=ce[1];const Sn=ae.split("_");J=Sn.length>=2&&Sn[1]=="type"?J+(ae+"="+ce+"&"):J+(ae+"=redacted&")}}}else J=null;else J=P;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+J})}function mu(o,m,p,T,U,P,J){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+P+" "+J})}function Zn(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ic(o,p)+(T?" "+T:"")})}function ja(o,m){o.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function Ic(o,m){if(!o.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(o=0;o<P.length;o++)if(Array.isArray(P[o])){var p=P[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return Qi(P)}catch{return m}}var ka={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Br;function Ha(){}D(Ha,cu),Ha.prototype.g=function(){return new XMLHttpRequest},Br=new Ha;function Ti(o){return encodeURIComponent(String(o))}function gu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function zn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new qa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var pe={},Me={};function Jn(o,m,p){o.M=1,o.A=Ga(_e(m)),o.u=p,o.R=!0,Cs(o,null)}function Cs(o,m){o.F=Date.now(),$n(o),o.B=_e(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),Ns(p.i,"t",T),o.C=0,p=o.j.L,o.h=new Un,o.g=Nu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Ke(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var U="readystatechange";Array.isArray(U)||(U&&(zr[0]=U.toString()),U=zr);for(let P=0;P<U.length;P++){const J=ie(p,U[P],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=o.J?I(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Fn(),Nc(o.i,o.v,o.B,o.l,o.S,o.u)}zn.prototype.ba=function(o){o=o.target;const m=this.O;m&&qn(o)==3?m.j():this.Y(o)},zn.prototype.Y=function(o){try{if(o==this.g)t:{const vt=qn(this.g),ce=this.g.ya(),Lt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||vt!=4||ce==7||(ce==8||Lt<=0?Fn(3):Fn(2)),Wn(this);var m=this.g.ca();this.X=m;var p=Mc(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var P=T;break e}}P=null}if(o=P)Zn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,o);else{this.o=!1,this.m=3,ge(12),un(this),En(this);break t}}if(this.R){o=!0;let ae;for(;!this.K&&this.C<p.length;)if(ae=yu(this,p),ae==Me){vt==4&&(this.m=4,ge(14),o=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==pe){this.m=4,ge(15),Zn(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Zn(this.i,this.l,ae,null),ti(this,ae);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||p.length!=0||this.h.h||(this.m=1,ge(16),o=!1),this.o=this.o&&o,!o)Zn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Wr(J),J.P=!0,ge(11))}}else Zn(this.i,this.l,p,null),ti(this,p);vt==4&&un(this),this.o&&!this.K&&(vt==4?Cu(this.j,this):(this.o=!1,$n(this)))}else Si(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),un(this),En(this)}}}catch{}finally{}};function Mc(o){if(!pu(o))return o.g.la();const m=Le(o.g);if(m==="")return"";let p="";const T=m.length,U=qn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return un(o),En(o),"";o.h.i=new d.TextDecoder}for(let P=0;P<T;P++)o.h.h=!0,p+=o.h.i.decode(m[P],{stream:!(U&&P==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function pu(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function yu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Me:(p=Number(m.substring(p,T)),isNaN(p)?pe:(T+=1,T+p>m.length?Me:(m=m.slice(T,T+p),o.C=T+p,m)))}zn.prototype.cancel=function(){this.K=!0,un(this)};function $n(o){o.T=Date.now()+o.H,ws(o,o.H)}function ws(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Kn(_(o.aa,o),m)}function Wn(o){o.D&&(d.clearTimeout(o.D),o.D=null)}zn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(ja(this.i,this.B),this.M!=2&&(Fn(),ge(17)),un(this),this.m=2,En(this)):ws(this,this.T-o)};function En(o){o.j.I==0||o.K||Cu(o.j,o)}function un(o){Wn(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,Ur(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ti(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ni(p.h,o))){if(!o.L&&ni(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)zs(p),Wi(p);else break t;Ja(p),ge(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Kn(_(p.Va,p),6e3));ei(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((o.L||p.g==o)&&zs(p),!C(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let Lt=U[m];const ae=Lt[0];if(!(ae<=p.K))if(p.K=ae,Lt=Lt[1],p.I==2)if(Lt[0]=="c"){p.M=Lt[1],p.ba=Lt[2];const Sn=Lt[3];Sn!=null&&(p.ka=Sn,p.j.info("VER="+p.ka));const oi=Lt[4];oi!=null&&(p.za=oi,p.j.info("SVER="+p.za));const Pn=Lt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const jn=o.g;if(jn){const $a=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($a){var P=T.h;P.g||$a.indexOf("spdy")==-1&&$a.indexOf("quic")==-1&&$a.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(jr(P,P.h),P.h=null))}if(T.G){const Us=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Us&&(T.wa=Us,kt(T.J,T.G,Us))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var J=o;if(T.na=Vu(T,T.L?T.ba:null,T.W),J.L){kr(T.h,J);var vt=J,ce=T.O;ce&&(vt.H=ce),vt.D&&(Wn(vt),$n(vt)),T.g=J}else bu(T);p.i.length>0&&li(p)}else Lt[0]!="stop"&&Lt[0]!="close"||ui(p,7);else p.I==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?ui(p,7):Jr(p):Lt[0]!="noop"&&p.l&&p.l.qa(Lt),p.A=0)}}Fn(4)}catch{}}var ye=class{constructor(o,m){this.g=o,this.map=m}};function qr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ei(o){return o.h?1:o.g?o.g.size:0}function ni(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function jr(o,m){o.g?o.g.add(m):o.h=m}function kr(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}qr.prototype.cancel=function(){if(this.i=Hr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Hr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return Q(o.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let U,P=null;T>=0?(U=o[p].substring(0,T),P=o[p].substring(T+1)):U=o[p],m(U,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function on(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof on?(this.l=o.l,Oe(this,o.j),this.o=o.o,this.g=o.g,Yi(this,o.u),this.h=o.h,Gr(this,Au(o.i)),this.m=o.m):o&&(m=String(o).match(_u))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=ii(m[2]||""),this.g=ii(m[3]||"",!0),Yi(this,m[4]),this.h=ii(m[5]||"",!0),Gr(this,m[6]||"",!0),this.m=ii(m[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}on.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Qa(m,Vs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Qa(m,Vs,!0),"@"),o.push(Ti(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Qa(p,p.charAt(0)=="/"?Qr:vu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Qa(p,Eu)),o.join("")},on.prototype.resolve=function(o){const m=_e(this);let p=!!o.j;p?Oe(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)Yi(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const P=[];for(let J=0;J<U.length;){const vt=U[J++];vt=="."?T&&J==U.length&&P.push(""):vt==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&J==U.length&&P.push("")):(P.push(vt),T=!0)}T=P.join("/")}else T=U}return p?m.h=T:p=o.i.toString()!=="",p?Gr(m,Au(o.i)):p=!!o.m,p&&(m.m=o.m),m};function _e(o){return new on(o)}function Oe(o,m,p){o.j=p?ii(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Yi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Gr(o,m,p){m instanceof Xi?(o.i=m,Is(o.i,o.l)):(p||(m=Qa(m,Fi)),o.i=new Xi(m,o.l))}function kt(o,m,p){o.i.set(m,p)}function Ga(o){return kt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ii(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Qa(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,$e),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function $e(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Vs=/[#\/\?@]/g,vu=/[#\?:]/g,Qr=/[#\?]/g,Fi=/[#\?@]/g,Eu=/#/g;function Xi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function We(o){o.g||(o.g=new Map,o.h=0,o.i&&Ds(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Xi.prototype,r.add=function(o,m){We(this),this.i=null,o=Ki(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Tu(o,m){We(o),m=Ki(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Yr(o,m){return We(o),m=Ki(o,m),o.g.has(m)}r.forEach=function(o,m){We(this),this.g.forEach(function(p,T){p.forEach(function(U){o.call(m,U,T,this)},this)},this)};function Fr(o,m){We(o);let p=[];if(typeof m=="string")Yr(o,m)&&(p=p.concat(o.g.get(Ki(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}r.set=function(o,m){return We(this),this.i=null,o=Ki(this,o),Yr(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=Fr(this,o),o.length>0?String(o[0]):m):m};function Ns(o,m,p){Tu(o,m),p.length>0&&(o.i=null,o.g.set(Ki(o,m),Q(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Ti(p);p=Fr(this,p);for(let P=0;P<p.length;P++){let J=U;p[P]!==""&&(J+="="+Ti(p[P])),o.push(J)}}return this.i=o.join("&")};function Au(o){const m=new Xi;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Ki(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Is(o,m){m&&!o.j&&(We(o),o.i=null,o.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(Tu(this,T),Ns(this,U,p))},o)),o.j=m}function Ln(o,m){const p=new xn;if(d.Image){const T=new Image;T.onload=b(Tn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Tn,p,"TestLoadImage: error",!1,m,T),T.onabort=b(Tn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Tn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Xr(o,m){const p=new xn,T=new AbortController,U=setTimeout(()=>{T.abort(),Tn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(U),P.ok?Tn(p,"TestPingServer: ok",!0,m):Tn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Tn(p,"TestPingServer: error",!1,m)})}function Tn(o,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Zi(){this.g=new ou}function ai(o){this.i=o.Sb||null,this.h=o.ab||!1}D(ai,cu),ai.prototype.g=function(){return new Ya(this.i,this.h)};function Ya(o,m){me.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}D(Ya,me),r=Ya.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Bn(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ms(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ms(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Ji(this):Bn(this),this.readyState==3&&Ms(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,Ji(this))},r.Na=function(o){this.g&&(this.response=o,Ji(this))},r.ga=function(){this.g&&Ji(this)};function Ji(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Bn(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Bn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function An(o){let m="";return xt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Fa(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=An(p),typeof o=="string"?p!=null&&Ti(p):kt(o,m,p))}function Qt(o){me.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}D(Qt,me);var si=/^https?$/i,Kr=["POST","PUT"];r=Qt.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Br.g(),this.g.onreadystatechange=z(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){Xa(this,P);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),U=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Kr,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,J]of p)this.g.setRequestHeader(P,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(P){Xa(this,P)}};function Xa(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,Zr(o),Ai(o)}function Zr(o){o.A||(o.A=!0,we(o,"complete"),we(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,we(this,"complete"),we(this,"abort"),Ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Qt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ka(this):this.Xa())},r.Xa=function(){Ka(this)};function Ka(o){if(o.h&&typeof f<"u"){if(o.v&&qn(o)==4)setTimeout(o.Ca.bind(o),0);else if(we(o,"readystatechange"),qn(o)==4){o.h=!1;try{const P=o.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let J=String(o.D).match(_u)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!si.test(J?J.toLowerCase():"")}p=T}if(p)we(o,"complete"),we(o,"success");else{o.o=6;try{var U=qn(o)>2?o.g.statusText:""}catch{U=""}o.l=U+" ["+o.ca()+"]",Zr(o)}}finally{Ai(o)}}}}function Ai(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||we(o,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(o){return o.g?o.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Vc(m)}};function Le(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Si(o){const m={};o=(o.g&&qn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(C(o[T]))continue;var p=gu(o[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[U]||[];m[U]=P,P.push(p)}jt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function $i(o){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ri("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ri("baseRetryDelayMs",5e3,o),this.Za=ri("retryDelaySeedMs",1e4,o),this.Ta=ri("forwardChannelMaxRetries",2,o),this.va=ri("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new qr(o&&o.concurrentRequestLimit),this.Ba=new Zi,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=$i.prototype,r.ka=8,r.I=1,r.connect=function(o,m,p,T){ge(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Vu(this,null,this.W),li(this)};function Jr(o){if(Os(o),o.I==3){var m=o.V++,p=_e(o.J);if(kt(p,"SID",o.M),kt(p,"RID",m),kt(p,"TYPE","terminate"),Za(o,p),m=new zn(o,o.j,m),m.M=2,m.A=Ga(_e(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),$n(m)}Du(o)}function Wi(o){o.g&&(Wr(o),o.g.cancel(),o.g=null)}function Os(o){Wi(o),o.v&&(d.clearTimeout(o.v),o.v=null),zs(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function li(o){if(!Pr(o.h)&&!o.m){o.m=!0;var m=o.Ea;Zt||A(),Vt||(Zt(),Vt=!0),S.add(m,o),o.D=0}}function xs(o,m){return ei(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Kn(_(o.Ea,o,m),wu(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const U=new zn(this,this.j,o);let P=this.o;if(this.U&&(P?(P=I(P),tt(P,this.U)):P=this.U),this.u!==null||this.R||(U.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Su(this,U,m),p=_e(this.J),kt(p,"RID",o),kt(p,"CVER",22),this.G&&kt(p,"X-HTTP-Session-Id",this.G),Za(this,p),P&&(this.R?m="headers="+Ti(An(P))+"&"+m:this.u&&Fa(p,this.u,P)),jr(this.h,U),this.Ra&&kt(p,"TYPE","init"),this.S?(kt(p,"$req",m),kt(p,"SID","null"),U.U=!0,Jn(U,p,null)):Jn(U,p,m),this.I=2}}else this.I==3&&(o?$r(this,o):this.i.length==0||Pr(this.h)||$r(this))};function $r(o,m){var p;m?p=m.l:p=o.V++;const T=_e(o.J);kt(T,"SID",o.M),kt(T,"RID",p),kt(T,"AID",o.K),Za(o,T),o.u&&o.o&&Fa(T,o.u,o.o),p=new zn(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=Su(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),jr(o.h,p),Jn(p,T,m)}function Za(o,m){o.H&&xt(o.H,function(p,T){kt(m,T,p)}),o.l&&xt({},function(p,T){kt(m,T,p)})}function Su(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var U=o.i;let vt=-1;for(;;){const ce=["count="+p];vt==-1?p>0?(vt=U[0].g,ce.push("ofs="+vt)):vt=0:ce.push("ofs="+vt);let Lt=!0;for(let ae=0;ae<p;ae++){var P=U[ae].g;const Sn=U[ae].map;if(P-=vt,P<0)vt=Math.max(0,U[ae].g-100),Lt=!1;else try{P="req"+P+"_"||"";try{var J=Sn instanceof Map?Sn:Object.entries(Sn);for(const[oi,Pn]of J){let jn=Pn;y(Pn)&&(jn=Qi(Pn)),ce.push(P+oi+"="+encodeURIComponent(jn))}}catch(oi){throw ce.push(P+"type="+encodeURIComponent("_badmap")),oi}}catch{T&&T(Sn)}}if(Lt){J=ce.join("&");break t}}J=void 0}return o=o.i.splice(0,p),m.G=o,J}function bu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;Zt||A(),Vt||(Zt(),Vt=!0),S.add(m,o),o.A=0}}function Ja(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Kn(_(o.Da,o),wu(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Kn(_(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),Wi(this),Ru(this))};function Wr(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Ru(o){o.g=new zn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=_e(o.na);kt(m,"RID","rpc"),kt(m,"SID",o.M),kt(m,"AID",o.K),kt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&kt(m,"TO",o.ia),kt(m,"TYPE","xmlhttp"),Za(o,m),o.u&&o.o&&Fa(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Ga(_e(m)),p.u=null,p.R=!0,Cs(p,o)}r.Va=function(){this.C!=null&&(this.C=null,Wi(this),Ja(this),ge(19))};function zs(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Cu(o,m){var p=null;if(o.g==m){zs(o),Wr(o),o.g=null;var T=2}else if(ni(o.h,m))p=m.G,kr(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=o.D;T=Rs(),we(T,new Xn(T,p)),li(o)}else bu(o);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&xs(o,m)||T==2&&Ja(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),U){case 1:ui(o,5);break;case 4:ui(o,10);break;case 3:ui(o,6);break;default:ui(o,2)}}}function wu(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function ui(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const U=!T;T=new on(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(T,"https"),Ga(T),U?Ln(T.toString(),p):Xr(T.toString(),p)}else ge(2);o.I=0,o.l&&o.l.pa(m),Du(o),Os(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Du(o){if(o.I=0,o.ja=[],o.l){const m=Hr(o.h);(m.length!=0||o.i.length!=0)&&($(o.ja,m),$(o.ja,o.i),o.h.i.length=0,Q(o.i),o.i.length=0),o.l.oa()}}function Vu(o,m,p){var T=p instanceof on?_e(p):new on(p);if(T.g!="")m&&(T.g=m+"."+T.g),Yi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const P=new on(null);T&&Oe(P,T),m&&(P.g=m),U&&Yi(P,U),p&&(P.h=p),T=P}return p=o.G,m=o.wa,p&&m&&kt(T,p,m),kt(T,"VER",o.ka),Za(o,T),T}function Nu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Qt(new ai({ab:p})):new Qt(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}r=Iu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ta(){}ta.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){me.call(this),this.g=new $i(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!C(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new bi(this)}D(Ze,me),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Jr(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Qi(o),o=p);m.i.push(new ye(m.Ya++,o)),m.I==3&&li(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Jr(this.g),delete this.g,Ze.Z.N.call(this)};function Mu(o){Ue.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}D(Mu,Ue);function Ou(){vn.call(this),this.status=1}D(Ou,vn);function bi(o){this.g=o}D(bi,Iu),bi.prototype.ra=function(){we(this.g,"a")},bi.prototype.qa=function(o){we(this.g,new Mu(o))},bi.prototype.pa=function(o){we(this.g,new Ou)},bi.prototype.oa=function(){we(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,J_=function(){return new ta},Z_=function(){return Rs()},K_=oe,Xf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Ho=ka,Lr.COMPLETE="complete",X_=Lr,hu.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",me.prototype.listen=me.prototype.J,Bl=hu,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,F_=Qt}).apply(typeof Bo<"u"?Bo:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore",By="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new P_("@firebase/firestore");function dr(){return _s.logLevel}function nt(r,...e){if(_s.logLevel<=Ot.DEBUG){const i=e.map(pd);_s.debug(`Firestore (${Dr}): ${r}`,...i)}}function ki(r,...e){if(_s.logLevel<=Ot.ERROR){const i=e.map(pd);_s.error(`Firestore (${Dr}): ${r}`,...i)}}function Er(r,...e){if(_s.logLevel<=Ot.WARN){const i=e.map(pd);_s.warn(`Firestore (${Dr}): ${r}`,...i)}}function pd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,$_(r,s,i)}function $_(r,e,i){let s=`FIRESTORE (${Dr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ki(s),new Error(s)}function Pt(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||$_(e,u,s)}function yt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends wr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Fe.UNAUTHENTICATED)))}shutdown(){}}class nA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class iA{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Pt(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let f=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ps,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ps)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Pt(typeof s.accessToken=="string",31837,{l:s}),new W_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class aA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new aA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Fe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,B1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Pt(this.o===void 0,3512);const s=f=>{f.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const u=f=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>u(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?u(f):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Pt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new qy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=lA(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+=e.charAt(u[f]%62))}return s}}function wt(r,e){return r<e?-1:r>e?1:0}function Kf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const u=r.charAt(s),f=e.charAt(s);if(u!==f)return Lf(u)===Lf(f)?wt(u,f):Lf(u)?1:-1}return wt(r.length,e.length)}const uA=55296,oA=57343;function Lf(r){const e=r.charCodeAt(0);return e>=uA&&e<=oA}function Tr(r,e,i){return r.length===e.length&&r.every(((s,u)=>i(s,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="__name__";class mi{constructor(e,i,s){i===void 0?i=0:i>e.length&&ft(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&ft(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const f=mi.compareSegments(e.get(u),i.get(u));if(f!==0)return f}return wt(e.length,i.length)}static compareSegments(e,i){const s=mi.isNumericId(e),u=mi.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?mi.extractNumericId(e).compare(mi.extractNumericId(i)):Kf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class te extends mi{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const cA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends mi{construct(e,i,s){return new He(e,i,s)}static isValidIdentifier(e){return cA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Py}static keyField(){return new He([Py])}static fromServerFormat(e){const i=[];let s="",u=0;const f=()=>{if(s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(s+=y,u++):(f(),u++)}if(f(),d)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(te.fromString(e))}static fromName(e){return new ot(te.fromString(e).popFirst(5))}static empty(){return new ot(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(r,e,i){if(!i)throw new rt(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function hA(r,e,i,s){if(e===!0&&s===!0)throw new rt(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function jy(r){if(!ot.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ky(r){if(ot.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ev(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _d(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ft(12329,{type:typeof r})}function wa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_d(r);throw new rt(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,e){const i={typeString:r};return e&&(i.value=e),i}function iu(r,e){if(!ev(r))throw new rt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,f="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${s}' field to equal '${f.value}'`;break}}if(i)throw new rt(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-62135596800,Gy=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Gy);return new ee(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Hy)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gy}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:be("string",ee._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new ee(0,0))}static max(){return new gt(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function fA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=gt.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new Va(u,ot.empty(),e)}function dA(r){return new Va(r.readTime,r.key,Zl)}class Va{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Va(gt.min(),ot.empty(),Zl)}static max(){return new Va(gt.max(),ot.empty(),Zl)}}function mA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(r.documentKey,e.documentKey),i!==0?i:wt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vr(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==gA)throw r;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,s)=>{i(e)}))}static reject(e){return new X(((i,s)=>{s(e)}))}static waitFor(e){return new X(((i,s)=>{let u=0,f=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++f,d&&f===u&&i()}),(v=>s(v)))})),d=!0,f===u&&i()}))}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next((u=>u?X.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,f)=>{s.push(i.call(this,u,f))})),this.waitFor(s)}static mapArray(e,i){return new X(((s,u)=>{const f=e.length,d=new Array(f);let y=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next((b=>{d[_]=b,++y,y===f&&s(d)}),(b=>u(b)))}}))}static doWhile(e,i){return new X(((s,u)=>{const f=()=>{e()===!0?i().next((()=>{f()}),u):s()};f()}))}}function yA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Nr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=-1;function hc(r){return r==null}function Wo(r){return r===0&&1/r==-1/0}function _A(r){return typeof r=="number"&&Number.isInteger(r)&&!Wo(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="";function vA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Qy(e)),e=EA(r.get(i),e);return Qy(e)}function EA(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const f=r.charAt(u);switch(f){case"\0":i+="";break;case nv:i+="";break;default:i+=f}}return i}function Qy(r){return r+nv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function za(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function iv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qo(this.root,e,this.comparator,!1)}getReverseIterator(){return new qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qo(this.root,e,this.comparator,!0)}}class qo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,u,f){this.key=e,this.value=i,this.color=s??ke.RED,this.left=u??ke.EMPTY,this.right=f??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,f){return new ke(e??this.key,i??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const f=s(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,i,s),null):f===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ke.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ft(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(e,i,s,u,f){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(e){return new Fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class Fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new _n([])}unionWith(e){let i=new Ie(He.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Tr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new av("Invalid base64 string: "+f):f}})(e);return new Ge(i)}static fromUint8Array(e){const i=(function(u){let f="";for(let d=0;d<u.length;++d)f+=String.fromCharCode(u[d]);return f})(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const TA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(r){if(Pt(!!r,39018),typeof r=="string"){let e=0;const i=TA.exec(r);if(Pt(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ia(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="server_timestamp",rv="__type__",lv="__previous_value__",uv="__local_write_time__";function Ed(r){return(r?.mapValue?.fields||{})[rv]?.stringValue===sv}function fc(r){const e=r.mapValue.fields[lv];return Ed(e)?fc(e):e}function Jl(r){const e=Na(r.mapValue.fields[uv].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,i,s,u,f,d,y,v,_,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=b}}const tc="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="__type__",SA="__max__",Po={mapValue:{}},cv="__vector__",ec="value";function Ma(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ed(r)?4:RA(r)?9007199254740991:bA(r)?10:11:ft(28295,{value:r})}function vi(r,e){if(r===e)return!0;const i=Ma(r);if(i!==Ma(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const d=Na(u.timestampValue),y=Na(f.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,f){return Ia(u.bytesValue).isEqual(Ia(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,f){return de(u.geoPointValue.latitude)===de(f.geoPointValue.latitude)&&de(u.geoPointValue.longitude)===de(f.geoPointValue.longitude)})(r,e);case 2:return(function(u,f){if("integerValue"in u&&"integerValue"in f)return de(u.integerValue)===de(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const d=de(u.doubleValue),y=de(f.doubleValue);return d===y?Wo(d)===Wo(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Tr(r.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return(function(u,f){const d=u.mapValue.fields||{},y=f.mapValue.fields||{};if(Yy(d)!==Yy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!vi(d[v],y[v])))return!1;return!0})(r,e);default:return ft(52216,{left:r})}}function Wl(r,e){return(r.values||[]).find((i=>vi(i,e)))!==void 0}function Ar(r,e){if(r===e)return 0;const i=Ma(r),s=Ma(e);if(i!==s)return wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const y=de(f.integerValue||f.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return Xy(r.timestampValue,e.timestampValue);case 4:return Xy(Jl(r),Jl(e));case 5:return Kf(r.stringValue,e.stringValue);case 6:return(function(f,d){const y=Ia(f),v=Ia(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const y=f.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const b=wt(y[_],v[_]);if(b!==0)return b}return wt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const y=wt(de(f.latitude),de(d.latitude));return y!==0?y:wt(de(f.longitude),de(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Ky(r.arrayValue,e.arrayValue);case 10:return(function(f,d){const y=f.fields||{},v=d.fields||{},_=y[ec]?.arrayValue,b=v[ec]?.arrayValue,D=wt(_?.values?.length||0,b?.values?.length||0);return D!==0?D:Ky(_,b)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Po.mapValue&&d===Po.mapValue)return 0;if(f===Po.mapValue)return 1;if(d===Po.mapValue)return-1;const y=f.fields||{},v=Object.keys(y),_=d.fields||{},b=Object.keys(_);v.sort(),b.sort();for(let D=0;D<v.length&&D<b.length;++D){const z=Kf(v[D],b[D]);if(z!==0)return z;const Q=Ar(y[v[D]],_[b[D]]);if(Q!==0)return Q}return wt(v.length,b.length)})(r.mapValue,e.mapValue);default:throw ft(23264,{he:i})}}function Xy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return wt(r,e);const i=Na(r),s=Na(e),u=wt(i.seconds,s.seconds);return u!==0?u:wt(i.nanos,s.nanos)}function Ky(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=Ar(i[u],s[u]);if(f)return f}return wt(i.length,s.length)}function Sr(r){return Zf(r)}function Zf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Na(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ia(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ot.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=Zf(f);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const d of s)f?f=!1:u+=",",u+=`${d}:${Zf(i.fields[d])}`;return u+"}"})(r.mapValue):ft(61005,{value:r})}function Go(r){switch(Ma(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fc(r);return e?16+Go(e):16;case 5:return 2*r.stringValue.length;case 6:return Ia(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,f)=>u+Go(f)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return za(s.fields,((f,d)=>{u+=f.length+Go(d)})),u})(r.mapValue);default:throw ft(13486,{value:r})}}function Jf(r){return!!r&&"integerValue"in r}function Td(r){return!!r&&"arrayValue"in r}function Zy(r){return!!r&&"nullValue"in r}function Jy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qo(r){return!!r&&"mapValue"in r}function bA(r){return(r?.mapValue?.fields||{})[ov]?.stringValue===cv}function Gl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return za(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Gl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(r.arrayValue.values[i]);return e}return{...r}}function RA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===SA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Qo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=He.emptyPath(),s={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=y.popLast()}d?s[y.lastSegment()]=Gl(d):u.push(y.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(e){const i=this.field(e.popLast());Qo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Qo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){za(i,((u,f)=>e[u]=f));for(const u of s)delete e[u]}clone(){return new ln(Gl(this.value))}}function hv(r){const e=[];return za(r.fields,((i,s)=>{const u=new He([i]);if(Qo(s)){const f=hv(s.mapValue).fields;if(f.length===0)e.push(u);else for(const d of f)e.push(u.child(d))}else e.push(u)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,u,f,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Xe(e,0,gt.min(),gt.min(),gt.min(),ln.empty(),0)}static newFoundDocument(e,i,s,u){return new Xe(e,1,i,gt.min(),s,u,0)}static newNoDocument(e,i){return new Xe(e,2,i,gt.min(),gt.min(),ln.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,gt.min(),gt.min(),ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.position=e,this.inclusive=i}}function $y(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const f=e[u],d=r.position[u];if(f.field.isKeyField()?s=ot.comparator(ot.fromName(d.referenceValue),i.key):s=Ar(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!vi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function CA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{}class Ve extends fv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new DA(e,i,s):i==="array-contains"?new IA(e,s):i==="in"?new MA(e,s):i==="not-in"?new OA(e,s):i==="array-contains-any"?new xA(e,s):new Ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new VA(e,s):new NA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ar(i,this.value)):i!==null&&Ma(this.value)===Ma(i)&&this.matchesComparison(Ar(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends fv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ei(e,i)}matches(e){return dv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dv(r){return r.op==="and"}function mv(r){return wA(r)&&dv(r)}function wA(r){for(const e of r.filters)if(e instanceof Ei)return!1;return!0}function $f(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+Sr(r.value);if(mv(r))return r.filters.map((e=>$f(e))).join(",");{const e=r.filters.map((i=>$f(i))).join(",");return`${r.op}(${e})`}}function gv(r,e){return r instanceof Ve?(function(s,u){return u instanceof Ve&&s.op===u.op&&s.field.isEqual(u.field)&&vi(s.value,u.value)})(r,e):r instanceof Ei?(function(s,u){return u instanceof Ei&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((f,d,y)=>f&&gv(d,u.filters[y])),!0):!1})(r,e):void ft(19439)}function pv(r){return r instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Sr(i.value)}`})(r):r instanceof Ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(pv).join(" ,")+"}"})(r):"Filter"}class DA extends Ve{constructor(e,i,s){super(e,i,s),this.key=ot.fromName(s.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class VA extends Ve{constructor(e,i){super(e,"in",i),this.keys=yv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class NA extends Ve{constructor(e,i){super(e,"not-in",i),this.keys=yv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function yv(r,e){return(e.arrayValue?.values||[]).map((i=>ot.fromName(i.referenceValue)))}class IA extends Ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Td(i)&&Wl(i.arrayValue,this.value)}}class MA extends Ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class OA extends Ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class xA extends Ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Td(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Wl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,i=null,s=[],u=[],f=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=d,this.endAt=y,this.Te=null}}function t_(r,e=null,i=[],s=[],u=null,f=null,d=null){return new zA(r,e,i,s,u,f,d)}function Ad(r){const e=yt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>$f(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),hc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Sr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Sr(s))).join(",")),e.Te=i}return e.Te}function Sd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!CA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!gv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Wy(r.startAt,e.startAt)&&Wy(r.endAt,e.endAt)}function Wf(r){return ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i=null,s=[],u=[],f=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UA(r,e,i,s,u,f,d,y){return new dc(r,e,i,s,u,f,d,y)}function bd(r){return new dc(r)}function e_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function LA(r){return r.collectionGroup!==null}function Ql(r){const e=yt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ie(He.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new ic(f,s))})),i.has(He.keyField().canonicalString())||e.Ie.push(new ic(He.keyField(),s))}return e.Ie}function gi(r){const e=yt(r);return e.Ee||(e.Ee=BA(e,Ql(r))),e.Ee}function BA(r,e){if(r.limitType==="F")return t_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const f=u.dir==="desc"?"asc":"desc";return new ic(u.field,f)}));const i=r.endAt?new nc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new nc(r.startAt.position,r.startAt.inclusive):null;return t_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function td(r,e,i){return new dc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function mc(r,e){return Sd(gi(r),gi(e))&&r.limitType===e.limitType}function _v(r){return`${Ad(gi(r))}|lt:${r.limitType}`}function mr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>pv(u))).join(", ")}]`),hc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Sr(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Sr(u))).join(",")),`Target(${s})`})(gi(r))}; limitType=${r.limitType})`}function gc(r,e){return e.isFoundDocument()&&(function(s,u){const f=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ot.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(r,e)&&(function(s,u){for(const f of Ql(s))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(d,y,v){const _=$y(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,Ql(s),u)||s.endAt&&!(function(d,y,v){const _=$y(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,Ql(s),u))})(r,e)}function qA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vv(r){return(e,i)=>{let s=!1;for(const u of Ql(r)){const f=PA(u,e,i);if(f!==0)return f;s=s||u.field.isKeyField()}return 0}}function PA(r,e,i){const s=r.field.isKeyField()?ot.comparator(e.key,i.key):(function(f,d,y){const v=d.data.field(f),_=y.data.field(f);return v!==null&&_!==null?Ar(v,_):ft(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ft(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,f]of s)if(this.equalsFn(u,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,((i,s)=>{for(const[u,f]of s)e(u,f)}))}isEmpty(){return iv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new re(ot.comparator);function Hi(){return jA}const Ev=new re(ot.comparator);function ql(...r){let e=Ev;for(const i of r)e=e.insert(i.key,i);return e}function Tv(r){let e=Ev;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function gs(){return Yl()}function Av(){return Yl()}function Yl(){return new Es((r=>r.toString()),((r,e)=>r.isEqual(e)))}const kA=new re(ot.comparator),HA=new Ie(ot.comparator);function Dt(...r){let e=HA;for(const i of r)e=e.add(i);return e}const GA=new Ie(wt);function QA(){return GA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wo(e)?"-0":e}}function Sv(r){return{integerValue:""+r}}function YA(r,e){return _A(e)?Sv(e):Rd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this._=void 0}}function FA(r,e,i){return r instanceof tu?(function(u,f){const d={fields:{[rv]:{stringValue:sv},[uv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&Ed(f)&&(f=fc(f)),f&&(d.fields[lv]=f),{mapValue:d}})(i,e):r instanceof eu?Rv(r,e):r instanceof nu?Cv(r,e):(function(u,f){const d=bv(u,f),y=n_(d)+n_(u.Ae);return Jf(d)&&Jf(u.Ae)?Sv(y):Rd(u.serializer,y)})(r,e)}function XA(r,e,i){return r instanceof eu?Rv(r,e):r instanceof nu?Cv(r,e):i}function bv(r,e){return r instanceof ac?(function(s){return Jf(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class tu extends pc{}class eu extends pc{constructor(e){super(),this.elements=e}}function Rv(r,e){const i=wv(e);for(const s of r.elements)i.some((u=>vi(u,s)))||i.push(s);return{arrayValue:{values:i}}}class nu extends pc{constructor(e){super(),this.elements=e}}function Cv(r,e){let i=wv(e);for(const s of r.elements)i=i.filter((u=>!vi(u,s)));return{arrayValue:{values:i}}}class ac extends pc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function n_(r){return de(r.integerValue||r.doubleValue)}function wv(r){return Td(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i){this.field=e,this.transform=i}}function ZA(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof eu&&u instanceof eu||s instanceof nu&&u instanceof nu?Tr(s.elements,u.elements,vi):s instanceof ac&&u instanceof ac?vi(s.Ae,u.Ae):s instanceof tu&&u instanceof tu})(r.transform,e.transform)}class JA{constructor(e,i){this.version=e,this.transformResults=i}}class Qn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class yc{}function Dv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Cd(r.key,Qn.none()):new au(r.key,r.data,Qn.none());{const i=r.data,s=ln.empty();let u=new Ie(He.comparator);for(let f of e.fields)if(!u.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),u=u.add(f)}return new Ua(r.key,s,new _n(u.toArray()),Qn.none())}}function $A(r,e,i){r instanceof au?(function(u,f,d){const y=u.value.clone(),v=a_(u.fieldTransforms,f,d.transformResults);y.setAll(v),f.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Ua?(function(u,f,d){if(!Yo(u.precondition,f))return void f.convertToUnknownDocument(d.version);const y=a_(u.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(Vv(u)),v.setAll(y),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(u,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(r,e,i,s){return r instanceof au?(function(f,d,y,v){if(!Yo(f.precondition,d))return y;const _=f.value.clone(),b=s_(f.fieldTransforms,v,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ua?(function(f,d,y,v){if(!Yo(f.precondition,d))return y;const _=s_(f.fieldTransforms,v,d),b=d.data;return b.setAll(Vv(f)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((D=>D.field)))})(r,e,i,s):(function(f,d,y){return Yo(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function WA(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),f=bv(s.transform,u||null);f!=null&&(i===null&&(i=ln.empty()),i.set(s.field,f))}return i||null}function i_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Tr(s,u,((f,d)=>ZA(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends yc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ua extends yc{constructor(e,i,s,u,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Vv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function a_(r,e,i){const s=new Map;Pt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let u=0;u<i.length;u++){const f=r[u],d=f.transform,y=e.data.field(f.field);s.set(f.field,XA(d,y,i[u]))}return s}function s_(r,e,i){const s=new Map;for(const u of r){const f=u.transform,d=i.data.field(u.field);s.set(u.field,FA(f,d,e))}return s}class Cd extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tS extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&$A(f,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Av();return this.mutations.forEach((u=>{const f=e.get(u.key),d=f.overlayedDocument;let y=this.applyToLocalView(d,f.mutatedFields);y=i.has(u.key)?null:y;const v=Dv(d,y);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(gt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&Tr(this.mutations,e.mutations,((i,s)=>i_(i,s)))&&Tr(this.baseMutations,e.baseMutations,((i,s)=>i_(i,s)))}}class wd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Pt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return kA})();const f=e.mutations;for(let d=0;d<f.length;d++)u=u.insert(f[d].key,s[d].version);return new wd(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Mt;function aS(r){switch(r){case K.OK:return ft(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ft(15467,{code:r})}}function Nv(r){if(r===void 0)return ki("GRPC error has no .code"),K.UNKNOWN;switch(r){case Se.OK:return K.OK;case Se.CANCELLED:return K.CANCELLED;case Se.UNKNOWN:return K.UNKNOWN;case Se.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Se.INTERNAL:return K.INTERNAL;case Se.UNAVAILABLE:return K.UNAVAILABLE;case Se.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Se.NOT_FOUND:return K.NOT_FOUND;case Se.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Se.ABORTED:return K.ABORTED;case Se.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Se.DATA_LOSS:return K.DATA_LOSS;default:return ft(39323,{code:r})}}(Mt=Se||(Se={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new Ca([4294967295,4294967295],0);function r_(r){const e=sS().encode(r),i=new Y_;return i.update(e),new Uint8Array(i.digest())}function l_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Ca([i,s],0),new Ca([u,f],0)]}class Dd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Pl(`Invalid padding: ${i}`);if(s<0)throw new Pl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ca.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(Ca.fromNumber(s)));return u.compare(rS)===1&&(u=new Ca([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=r_(e),[s,u]=l_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,u,f);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Dd(f,u,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=r_(e),[s,u]=l_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,u,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i,s,u,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new _c(gt.min(),u,new re(wt),Hi(),Dt())}}class su{constructor(e,i,s,u,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new su(s,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class Iv{constructor(e,i){this.targetId=e,this.Ce=i}}class Mv{constructor(e,i,s=Ge.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class u_{constructor(){this.ve=0,this.Fe=o_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),i=Dt(),s=Dt();return this.Fe.forEach(((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:ft(38017,{changeType:f})}})),new su(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=o_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=jo(),this.He=jo(),this.Ye=new re(wt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:ft(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const f=u.target;if(Wf(f))if(s===0){const d=new ot(f.path);this.et(i,d,Xe.newNoDocument(d,gt.min()))}else Pt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let d,y;try{d=Ia(s).toUint8Array()}catch(v){if(v instanceof av)return Er("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Dd(d,u,f)}catch(v){return Er(v instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((f=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(y)||(this.et(i,f,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const y=this.ot(d);if(y){if(f.current&&Wf(y.target)){const v=new ot(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.qe())}}));let s=Dt();this.He.forEach(((f,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const u=new _c(e,i,this.Ye,this.je,s);return this.je=Hi(),this.Je=jo(),this.He=jo(),this.Ye=new re(wt),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new u_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ie(wt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ie(wt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jo(){return new re(ot.comparator)}function o_(){return new re(ot.comparator)}const uS={asc:"ASCENDING",desc:"DESCENDING"},oS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cS={and:"AND",or:"OR"};class hS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ed(r,e){return r.useProto3Json||hc(e)?e:{value:e}}function sc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ov(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function fS(r,e){return sc(r,e.toTimestamp())}function pi(r){return Pt(!!r,49232),gt.fromTimestamp((function(i){const s=Na(i);return new ee(s.seconds,s.nanos)})(r))}function Vd(r,e){return nd(r,e).canonicalString()}function nd(r,e){const i=(function(u){return new te(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function xv(r){const e=te.fromString(r);return Pt(qv(e),10190,{key:e.toString()}),e}function id(r,e){return Vd(r.databaseId,e.path)}function Bf(r,e){const i=xv(e);if(i.get(1)!==r.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ot(Uv(i))}function zv(r,e){return Vd(r.databaseId,e)}function dS(r){const e=xv(r);return e.length===4?te.emptyPath():Uv(e)}function ad(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Uv(r){return Pt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function c_(r,e,i){return{name:id(r,e),fields:i.value.mapValue.fields}}function mS(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ft(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],f=(function(_,b){return _.useProto3Json?(Pt(b===void 0||typeof b=="string",58123),Ge.fromBase64String(b||"")):(Pt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ge.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const b=_.code===void 0?K.UNKNOWN:Nv(_.code);return new rt(b,_.message||"")})(d);i=new Mv(s,u,f,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Bf(r,s.document.name),f=pi(s.document.updateTime),d=s.document.createTime?pi(s.document.createTime):gt.min(),y=new ln({mapValue:{fields:s.document.fields}}),v=Xe.newFoundDocument(u,f,d,y),_=s.targetIds||[],b=s.removedTargetIds||[];i=new Fo(_,b,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Bf(r,s.document),f=s.readTime?pi(s.readTime):gt.min(),d=Xe.newNoDocument(u,f),y=s.removedTargetIds||[];i=new Fo([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Bf(r,s.document),f=s.removedTargetIds||[];i=new Fo([],f,u,null)}else{if(!("filter"in e))return ft(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:f}=s,d=new iS(u,f),y=s.targetId;i=new Iv(y,d)}}return i}function gS(r,e){let i;if(e instanceof au)i={update:c_(r,e.key,e.value)};else if(e instanceof Cd)i={delete:id(r,e.key)};else if(e instanceof Ua)i={update:c_(r,e.key,e.data),updateMask:bS(e.fieldMask)};else{if(!(e instanceof tS))return ft(16599,{Vt:e.type});i={verify:id(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const y=d.transform;if(y instanceof tu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ac)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw ft(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,f){return f.updateTime!==void 0?{updateTime:fS(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:ft(27497)})(r,e.precondition)),i}function pS(r,e){return r&&r.length>0?(Pt(e!==void 0,14353),r.map((i=>(function(u,f){let d=u.updateTime?pi(u.updateTime):pi(f);return d.isEqual(gt.min())&&(d=pi(f)),new JA(d,u.transformResults||[])})(i,e)))):[]}function yS(r,e){return{documents:[zv(r,e.path)]}}function _S(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=zv(r,u);const f=(function(_){if(_.length!==0)return Bv(Ei.create(_,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(_){if(_.length!==0)return _.map((b=>(function(z){return{field:gr(z.field),direction:TS(z.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=ed(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function vS(r){let e=dS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Pt(s===1,65062);const b=i.from[0];b.allDescendants?u=b.collectionId:e=e.child(b.collectionId)}let f=[];i.where&&(f=(function(D){const z=Lv(D);return z instanceof Ei&&mv(z)?z.getFilters():[z]})(i.where));let d=[];i.orderBy&&(d=(function(D){return D.map((z=>(function($){return new ic(pr($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(z)))})(i.orderBy));let y=null;i.limit&&(y=(function(D){let z;return z=typeof D=="object"?D.value:D,hc(z)?null:z})(i.limit));let v=null;i.startAt&&(v=(function(D){const z=!!D.before,Q=D.values||[];return new nc(Q,z)})(i.startAt));let _=null;return i.endAt&&(_=(function(D){const z=!D.before,Q=D.values||[];return new nc(Q,z)})(i.endAt)),UA(e,u,d,f,y,"F",v,_)}function ES(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Lv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=pr(i.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=pr(i.unaryFilter.field);return Ve.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=pr(i.unaryFilter.field);return Ve.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=pr(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ve.create(pr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ei.create(i.compositeFilter.filters.map((s=>Lv(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(r):ft(30097,{filter:r})}function TS(r){return uS[r]}function AS(r){return oS[r]}function SS(r){return cS[r]}function gr(r){return{fieldPath:r.canonicalString()}}function pr(r){return He.fromServerFormat(r.fieldPath)}function Bv(r){return r instanceof Ve?(function(i){if(i.op==="=="){if(Jy(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NAN"}};if(Zy(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Jy(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NOT_NAN"}};if(Zy(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(i.field),op:AS(i.op),value:i.value}}})(r):r instanceof Ei?(function(i){const s=i.getFilters().map((u=>Bv(u)));return s.length===1?s[0]:{compositeFilter:{op:SS(i.op),filters:s}}})(r):ft(54877,{filter:r})}function bS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function qv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i,s,u,f=gt.min(),d=gt.min(),y=Ge.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.yt=e}}function CS(r){const e=vS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?td(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.Cn=new DS}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Va.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class DS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Ie(te.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ie(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pv=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Pv,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new br(0)}static cr(){return new br(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="LruGarbageCollector",VS=1048576;function d_([r,e],[i,s]){const u=wt(r,i);return u===0?wt(e,s):u}class NS{constructor(e){this.Ir=e,this.buffer=new Ie(d_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();d_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class IS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){nt(f_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Nr(i)?nt(f_,"Ignoring IndexedDB error during garbage collection: ",i):await Vr(i)}await this.Vr(3e5)}))}}class MS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(cc.ce);const s=new NS(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(h_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,f,d,y,v,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((D=>(D>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),u=this.params.maximumSequenceNumbersToCollect):u=D,d=Date.now(),this.nthSequenceNumber(e,u)))).next((D=>(s=D,y=Date.now(),this.removeTargets(e,s,i)))).next((D=>(f=D,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((D=>(_=Date.now(),dr()<=Ot.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${D} documents in `+(_-v)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:D}))))}}function OS(r,e){return new MS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.changes=new Es((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&Fl(s.mutation,u,_n.empty(),ee.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Dt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Dt()){const u=gs();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((f=>{let d=ql();return f.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=gs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Dt())))}populateOverlays(e,i,s){const u=[];return s.forEach((f=>{i.has(f)||u.push(f)})),this.documentOverlayCache.getOverlays(e,u).next((f=>{f.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,u){let f=Hi();const d=Yl(),y=(function(){return Yl()})();return i.forEach(((v,_)=>{const b=s.get(_.key);u.has(_.key)&&(b===void 0||b.mutation instanceof Ua)?f=f.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Fl(b.mutation,_,b.mutation.getFieldMask(),ee.now())):d.set(_.key,_n.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>y.set(_,new zS(b,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Yl();let u=new re(((d,y)=>d-y)),f=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let b=s.get(v)||_n.empty();b=y.applyToLocalView(_,b),s.set(v,b);const D=(u.get(y.batchId)||Dt()).add(v);u=u.insert(y.batchId,D)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,b=v.value,D=Av();b.forEach((z=>{if(!f.has(z)){const Q=Dv(i.get(z),s.get(z));Q!==null&&D.set(z,Q),f=f.add(z)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):LA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((f=>{const d=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-f.size):X.resolve(gs());let y=Zl,v=f;return d.next((_=>X.forEach(_,((b,D)=>(y<D.largestBatchId&&(y=D.largestBatchId),f.get(b)?X.resolve():this.remoteDocumentCache.getEntry(e,b).next((z=>{v=v.insert(b,z)}))))).next((()=>this.populateOverlays(e,_,f))).next((()=>this.computeViews(e,v,_,Dt()))).next((b=>({batchId:y,changes:Tv(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next((s=>{let u=ql();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const f=i.collectionGroup;let d=ql();return this.indexManager.getCollectionParents(e,f).next((y=>X.forEach(y,(v=>{const _=(function(D,z){return new dc(z,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)})(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next((b=>{b.forEach(((D,z)=>{d=d.insert(D,z)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,u)))).next((d=>{f.forEach(((v,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Xe.newInvalidDocument(b)))}));let y=ql();return d.forEach(((v,_)=>{const b=f.get(v);b!==void 0&&Fl(b.mutation,_,_n.empty(),ee.now()),gc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:pi(u.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:CS(u.bundledQuery),readTime:pi(u.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.overlays=new re(ot.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=gs();return X.forEach(i,(u=>this.getOverlay(e,u).next((f=>{f!==null&&s.set(u,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,f)=>{this.St(e,i,f)})),X.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const u=gs(),f=i.length+1,d=new ot(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>s&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let f=new re(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=f.get(_.largestBatchId);b===null&&(b=gs(),f=f.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const y=gs(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,b)=>y.set(_,b))),!(y.size()>=u)););return X.resolve(y)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new nS(i,s));let f=this.qr.get(i);f===void 0&&(f=Dt(),this.qr.set(i,f)),this.qr.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this.Qr=new Ie(ze.$r),this.Ur=new Ie(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new ze(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new ze(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ot(new te([])),s=new ze(i,e),u=new ze(i,e+1),f=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ot(new te([])),s=new ze(i,e),u=new ze(i,e+1);let f=Dt();return this.Ur.forEachInRange([s,u],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new ze(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ze{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ot.comparator(e.key,i.key)||wt(e.Yr,i.Yr)}static Kr(e,i){return wt(e.Yr,i.Yr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(ze.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new eS(f,i,s,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new ze(y.key,f)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),f=u<0?0:u;return X.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?vd:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ze(i,0),u=new ze(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([s,u],(d=>{const y=this.Xr(d.Yr);f.push(y)})),X.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(wt);return i.forEach((u=>{const f=new ze(u,0),d=new ze(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(y=>{s=s.add(y.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let f=s;ot.isDocumentKey(f)||(f=f.child(""));const d=new ze(new ot(f),0);let y=new Ie(wt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){Pt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(u=>{const f=new ze(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new ze(i,0),u=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.ri=e,this.docs=(function(){return new re(ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Hi();return i.forEach((u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Xe.newInvalidDocument(u))})),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let f=Hi();const d=i.path,y=new ot(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:b}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||mA(dA(b),s)<=0||(u.has(b.key)||gc(i,b))&&(f=f.insert(b.key,b.mutableCopy()))}return X.resolve(f)}getAllFromCollectionGroup(e,i,s,u){ft(9500)}ii(e,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new kS(this)}getSize(e){return X.resolve(this.size)}}class kS extends xS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.persistence=e,this.si=new Es((i=>Ad(i)),Sd),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.oi=0,this._i=new Nd,this.targetCount=0,this.ai=br.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new br(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let u=0;const f=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),X.waitFor(f).next((()=>u))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach((d=>{f.push(u.markPotentiallyOrphaned(e,d))})),X.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,i){this.ui={},this.overlays={},this.ci=new cc(0),this.li=!1,this.li=!0,this.hi=new qS,this.referenceDelegate=e(this),this.Pi=new HS(this),this.indexManager=new wS,this.remoteDocumentCache=(function(u){return new jS(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new RS(i),this.Ii=new LS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new BS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new PS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){nt("MemoryPersistence","Starting transaction:",e);const u=new GS(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((f=>this.referenceDelegate.di(u).next((()=>f)))).toPromise().then((f=>(u.raiseOnCommittedEvent(),f)))}Ai(e,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class GS extends pA{constructor(e){super(),this.currentSequenceNumber=e}}class Id{constructor(e){this.persistence=e,this.Ri=new Nd,this.Vi=null}static mi(e){return new Id(e)}get fi(){if(this.Vi)return this.Vi;throw ft(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((f=>this.fi.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const u=ot.fromPath(s);return this.gi(e,u).next((f=>{f||i.removeEntry(u,gt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rc{constructor(e,i){this.persistence=e,this.pi=new Es((s=>vA(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=OS(this,i)}static mi(e,i){return new rc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((s,u)=>this.br(e,s,u).next((f=>f?X.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,f.removeEntry(d,gt.min()))})))).next((()=>f.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Go(e.data.value)),i}br(e,i,s){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return X.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=Dt(),u=Dt();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Md(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zT()?8:yA(OT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const f={result:null};return this.ys(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(e,i,u,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new QS;return this.Ss(e,i,d).next((y=>{if(f.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>f.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(dr()<=Ot.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",mr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(dr()<=Ot.DEBUG&&nt("QueryEngine","Query:",mr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(dr()<=Ot.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",mr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(i))):X.resolve())}ys(e,i){if(e_(i))return X.resolve(null);let s=gi(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=td(i,null,"F"),s=gi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=Dt(...f);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,td(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,u){return e_(i)||u.isEqual(gt.min())?X.resolve(null):this.ps.getDocuments(e,s).next((f=>{const d=this.Ds(i,f);return this.Cs(i,d,s,u)?X.resolve(null):(dr()<=Ot.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),mr(i)),this.vs(e,d,i,fA(u,Zl)).next((y=>y)))}))}Ds(e,i){let s=new Ie(vv(e));return i.forEach(((u,f)=>{gc(e,f)&&(s=s.add(f))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ss(e,i,s){return dr()<=Ot.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",mr(i)),this.ps.getDocumentsMatchingQuery(e,i,Va.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="LocalStore",FS=3e8;class XS{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new re(wt),this.xs=new Es((f=>Ad(f)),Sd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new US(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function KS(r,e,i,s){return new XS(r,e,i,s)}async function kv(r,e){const i=yt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((f=>(u=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],y=[];let v=Dt();for(const _ of u){d.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}for(const _ of f){y.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function ZS(r,e){const i=yt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,b){const D=_.batch,z=D.keys();let Q=X.resolve();return z.forEach(($=>{Q=Q.next((()=>b.getEntry(v,$))).next((et=>{const Z=_.docVersions.get($);Pt(Z!==null,48541),et.version.compareTo(Z)<0&&(D.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),b.addEntry(et)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(v,D)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Dt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function Hv(r){const e=yt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function JS(r,e){const i=yt(r),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((b,D)=>{const z=u.get(D);if(!z)return;y.push(i.Pi.removeMatchingKeys(f,b.removedDocuments,D).next((()=>i.Pi.addMatchingKeys(f,b.addedDocuments,D))));let Q=z.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(D)!==null?Q=Q.withResumeToken(Ge.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,s)),u=u.insert(D,Q),(function(et,Z,dt){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=FS?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(z,Q,b)&&y.push(i.Pi.updateTargetData(f,Q))}));let v=Hi(),_=Dt();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(f,b))})),y.push($S(f,d,e.documentUpdates).next((b=>{v=b.ks,_=b.qs}))),!s.isEqual(gt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(f).next((D=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,s)));y.push(b)}return X.waitFor(y).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,v,_))).next((()=>v))})).then((f=>(i.Ms=u,f)))}function $S(r,e,i){let s=Dt(),u=Dt();return i.forEach((f=>s=s.add(f))),e.getEntries(r,s).next((f=>{let d=Hi();return i.forEach(((y,v)=>{const _=f.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(gt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):nt(Od,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function WS(r,e){const i=yt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=vd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function t2(r,e){const i=yt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((f=>f?(u=f,X.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new Sa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function sd(r,e,i){const s=yt(r),u=s.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Nr(d))throw d;nt(Od,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function m_(r,e,i){const s=yt(r);let u=gt.min(),f=Dt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,b){const D=yt(v),z=D.xs.get(b);return z!==void 0?X.resolve(D.Ms.get(z)):D.Pi.getTargetData(_,b)})(s,d,gi(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{f=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:gt.min(),i?f:Dt()))).next((y=>(e2(s,qA(e),y),{documents:y,Qs:f})))))}function e2(r,e,i){let s=r.Os.get(e)||gt.min();i.forEach(((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),r.Os.set(e,s)}class g_{constructor(){this.activeTargetIds=QA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n2{constructor(){this.Mo=new g_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new g_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="ConnectivityMonitor";class y_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(p_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){nt(p_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko=null;function rd(){return ko===null?ko=(function(){return 268435456+Math.round(2147483648*Math.random())})():ko++,"0x"+ko.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="RestConnection",a2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===tc?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,f){const d=rd(),y=this.zo(e,i.toUriEncodedString());nt(qf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,f);const{host:_}=new URL(y),b=md(_);return this.Jo(e,y,v,s,b).then((D=>(nt(qf,`Received RPC '${e}' ${d}: `,D),D)),(D=>{throw Er(qf,`RPC '${e}' ${d} failed with error: `,D,"url: ",y,"request:",s),D}))}Ho(e,i,s,u,f,d){return this.Go(e,i,s,u,f)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,f)=>e[f]=u)),s&&s.headers.forEach(((u,f)=>e[f]=u))}zo(e,i){const s=a2[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class l2 extends s2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,f){const d=rd();return new Promise(((y,v)=>{const _=new F_;_.setWithCredentials(!0),_.listenOnce(X_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Ho.NO_ERROR:const D=_.getResponseJson();nt(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),y(D);break;case Ho.TIMEOUT:nt(Ye,`RPC '${e}' ${d} timed out`),v(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ho.HTTP_ERROR:const z=_.getStatus();if(nt(Ye,`RPC '${e}' ${d} failed with status:`,z,"response text:",_.getResponseText()),z>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const $=Q?.error;if($&&$.status&&$.message){const et=(function(dt){const _t=dt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(_t)>=0?_t:K.UNKNOWN})($.status);v(new rt(et,$.message))}else v(new rt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new rt(K.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{nt(Ye,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(u);nt(Ye,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",b,s,15)}))}T_(e,i,s){const u=rd(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=J_(),y=Z_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const b=f.join("");nt(Ye,`Creating RPC '${e}' stream ${u}: ${b}`,v);const D=d.createWebChannel(b,v);this.I_(D);let z=!1,Q=!1;const $=new r2({Yo:Z=>{Q?nt(Ye,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(z||(nt(Ye,`Opening RPC '${e}' stream ${u} transport.`),D.open(),z=!0),nt(Ye,`RPC '${e}' stream ${u} sending:`,Z),D.send(Z))},Zo:()=>D.close()}),et=(Z,dt,_t)=>{Z.listen(dt,(ht=>{try{_t(ht)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return et(D,Bl.EventType.OPEN,(()=>{Q||(nt(Ye,`RPC '${e}' stream ${u} transport opened.`),$.o_())})),et(D,Bl.EventType.CLOSE,(()=>{Q||(Q=!0,nt(Ye,`RPC '${e}' stream ${u} transport closed`),$.a_(),this.E_(D))})),et(D,Bl.EventType.ERROR,(Z=>{Q||(Q=!0,Er(Ye,`RPC '${e}' stream ${u} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new rt(K.UNAVAILABLE,"The operation could not be completed")))})),et(D,Bl.EventType.MESSAGE,(Z=>{if(!Q){const dt=Z.data[0];Pt(!!dt,16349);const _t=dt,ht=_t?.error||_t[0]?.error;if(ht){nt(Ye,`RPC '${e}' stream ${u} received error:`,ht);const qt=ht.status;let Zt=(function(A){const R=Se[A];if(R!==void 0)return Nv(R)})(qt),Vt=ht.message;Zt===void 0&&(Zt=K.INTERNAL,Vt="Unknown error status: "+qt+" with message "+ht.message),Q=!0,$.a_(new rt(Zt,Vt)),D.close()}else nt(Ye,`RPC '${e}' stream ${u} received:`,dt),$.u_(dt)}})),et(y,K_.STAT_EVENT,(Z=>{Z.stat===Xf.PROXY?nt(Ye,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Xf.NOPROXY&&nt(Ye,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(r){return new hS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,i,s=1e3,u=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="PersistentStream";class Qv{constructor(e,i,s,u,f,d,y,v){this.Mi=e,this.S_=s,this.b_=u,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Gv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new rt(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return nt(__,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(nt(__,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u2 extends Qv{constructor(e,i,s,u,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=mS(this.serializer,e),s=(function(f){if(!("targetChange"in f))return gt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?gt.min():d.readTime?pi(d.readTime):gt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ad(this.serializer),i.addTarget=(function(f,d){let y;const v=d.target;if(y=Wf(v)?{documents:yS(f,v)}:{query:_S(f,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Ov(f,d.resumeToken);const _=ed(f,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(gt.min())>0){y.readTime=sc(f,d.snapshotVersion.toTimestamp());const _=ed(f,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=ES(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ad(this.serializer),i.removeTarget=e,this.q_(i)}}class o2 extends Qv{constructor(e,i,s,u,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=pS(e.writeResults,e.commitTime),s=pi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ad(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>gS(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{}class h2 extends c2{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(e,nd(i,s),u,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(K.UNKNOWN,f.toString())}))}Ho(e,i,s,u,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,nd(i,s),u,d,y,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class f2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="RemoteStore";class d2{constructor(e,i,s,u,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ts(this)&&(nt(vs,"Restarting streams for network reachability change."),await(async function(v){const _=yt(v);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ec(_)})(this))}))})),this.Ra=new f2(s,u)}}async function Ec(r){if(Ts(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function Yv(r,e){const i=yt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ld(i)?Ud(i):Ir(i).O_()&&zd(i,e))}function xd(r,e){const i=yt(r),s=Ir(i);i.Ia.delete(e),s.O_()&&Fv(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ts(i)&&i.Ra.set("Unknown"))}function zd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ir(r).Y_(e)}function Fv(r,e){r.Va.Ue(e),Ir(r).Z_(e)}function Ud(r){r.Va=new lS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ir(r).start(),r.Ra.ua()}function Ld(r){return Ts(r)&&!Ir(r).x_()&&r.Ia.size>0}function Ts(r){return yt(r).Ea.size===0}function Xv(r){r.Va=void 0}async function m2(r){r.Ra.set("Online")}async function g2(r){r.Ia.forEach(((e,i)=>{zd(r,e)}))}async function p2(r,e){Xv(r),Ld(r)?(r.Ra.ha(e),Ud(r)):r.Ra.set("Unknown")}async function y2(r,e,i){if(r.Ra.set("Online"),e instanceof Mv&&e.state===2&&e.cause)try{await(async function(u,f){const d=f.cause;for(const y of f.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(r,e)}catch(s){nt(vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lc(r,s)}else if(e instanceof Fo?r.Va.Ze(e):e instanceof Iv?r.Va.st(e):r.Va.tt(e),!i.isEqual(gt.min()))try{const s=await Hv(r.localStore);i.compareTo(s)>=0&&await(function(f,d){const y=f.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const b=f.Ia.get(_);b&&f.Ia.set(_,b.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const b=f.Ia.get(v);if(!b)return;f.Ia.set(v,b.withResumeToken(Ge.EMPTY_BYTE_STRING,b.snapshotVersion)),Fv(f,v);const D=new Sa(b.target,v,_,b.sequenceNumber);zd(f,D)})),f.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){nt(vs,"Failed to raise snapshot:",s),await lc(r,s)}}async function lc(r,e,i){if(!Nr(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),i||(i=()=>Hv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{nt(vs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ec(r)}))}function Kv(r,e){return e().catch((i=>lc(r,i,e)))}async function Tc(r){const e=yt(r),i=Oa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vd;for(;_2(e);)try{const u=await WS(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,v2(e,u)}catch(u){await lc(e,u)}Zv(e)&&Jv(e)}function _2(r){return Ts(r)&&r.Ta.length<10}function v2(r,e){r.Ta.push(e);const i=Oa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Zv(r){return Ts(r)&&!Oa(r).x_()&&r.Ta.length>0}function Jv(r){Oa(r).start()}async function E2(r){Oa(r).ra()}async function T2(r){const e=Oa(r);for(const i of r.Ta)e.ea(i.mutations)}async function A2(r,e,i){const s=r.Ta.shift(),u=wd.from(s,e,i);await Kv(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await Tc(r)}async function S2(r,e){e&&Oa(r).X_&&await(async function(s,u){if((function(d){return aS(d)&&d!==K.ABORTED})(u.code)){const f=s.Ta.shift();Oa(s).B_(),await Kv(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,u))),await Tc(s)}})(r,e),Zv(r)&&Jv(r)}async function v_(r,e){const i=yt(r);i.asyncQueue.verifyOperationInProgress(),nt(vs,"RemoteStore received new credentials");const s=Ts(i);i.Ea.add(3),await ru(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ec(i)}async function b2(r,e){const i=yt(r);e?(i.Ea.delete(2),await Ec(i)):e||(i.Ea.add(2),await ru(i),i.Ra.set("Unknown"))}function Ir(r){return r.ma||(r.ma=(function(i,s,u){const f=yt(i);return f.sa(),new u2(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)})(r.datastore,r.asyncQueue,{Xo:m2.bind(null,r),t_:g2.bind(null,r),r_:p2.bind(null,r),H_:y2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ld(r)?Ud(r):r.Ra.set("Unknown")):(await r.ma.stop(),Xv(r))}))),r.ma}function Oa(r){return r.fa||(r.fa=(function(i,s,u){const f=yt(i);return f.sa(),new o2(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:E2.bind(null,r),r_:S2.bind(null,r),ta:T2.bind(null,r),na:A2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Tc(r)):(await r.fa.stop(),r.Ta.length>0&&(nt(vs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,s,u,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,f){const d=Date.now()+s,y=new Bd(e,i,d,u,f);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qd(r,e){if(ki("AsyncQueue",`${e}: ${r}`),Nr(r))return new rt(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{static emptySet(e){return new _r(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ot.comparator(i.key,s.key):(i,s)=>ot.comparator(i.key,s.key),this.keyedMap=ql(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new _r;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.ga=new re(ot.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ft(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Rr{constructor(e,i,s,u,f,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,f){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Rr(e,i,_r.emptySet(i),d,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class C2{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=yt(i),f=u.queries;u.queries=T_(),f.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function T_(){return new Es((r=>_v(r)),mc)}async function w2(r,e){const i=yt(r);let s=3;const u=e.query;let f=i.queries.get(u);f?!f.ba()&&e.Da()&&(s=2):(f=new R2,s=e.Da()?0:1);try{switch(s){case 0:f.wa=await i.onListen(u,!0);break;case 1:f.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=qd(d,`Initialization of query '${mr(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&Pd(i)}async function D2(r,e){const i=yt(r),s=e.query;let u=3;const f=i.queries.get(s);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?u=e.Da()?0:1:!f.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function V2(r,e){const i=yt(r);let s=!1;for(const u of e){const f=u.query,d=i.queries.get(f);if(d){for(const y of d.Sa)y.Fa(u)&&(s=!0);d.wa=u}}s&&Pd(i)}function N2(r,e,i){const s=yt(r),u=s.queries.get(e);if(u)for(const f of u.Sa)f.onError(i);s.queries.delete(e)}function Pd(r){r.Ca.forEach((e=>{e.next()}))}var ld,A_;(A_=ld||(ld={})).Ma="default",A_.Cache="cache";class I2{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Rr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Rr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.key=e}}class Wv{constructor(e){this.key=e}}class M2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=vv(e),this.tu=new _r(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new E_,u=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((b,D)=>{const z=u.get(b),Q=gc(this.query,D)?D:null,$=!!z&&this.mutatedKeys.has(z.key),et=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Z=!1;z&&Q?z.data.isEqual(Q.data)?$!==et&&(s.track({type:3,doc:Q}),Z=!0):this.su(z,Q)||(s.track({type:2,doc:Q}),Z=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!z&&Q?(s.track({type:0,doc:Q}),Z=!0):z&&!Q&&(s.track({type:1,doc:z}),Z=!0,(v||_)&&(y=!0)),Z&&(Q?(d=d.add(Q),f=et?f.add(b):f.delete(b)):(d=d.delete(b),f=f.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),f=f.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Cs:y,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,D)=>(function(Q,$){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Rt:Z})}};return et(Q)-et($)})(b.type,D.type)||this.eu(b.doc,D.doc))),this.ou(s),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Rr(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Wv(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new $v(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Dt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Rr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jd="SyncEngine";class O2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class x2{constructor(e){this.key=e,this.hu=!1}}class z2{constructor(e,i,s,u,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Es((y=>_v(y)),mc),this.Iu=new Map,this.Eu=new Set,this.du=new re(ot.comparator),this.Au=new Map,this.Ru=new Nd,this.Vu={},this.mu=new Map,this.fu=br.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function U2(r,e,i=!0){const s=s0(r);let u;const f=s.Tu.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.lu()):u=await t0(s,e,i,!0),u}async function L2(r,e){const i=s0(r);await t0(i,e,!0,!1)}async function t0(r,e,i,s){const u=await t2(r.localStore,gi(e)),f=u.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let y;return s&&(y=await B2(r,e,f,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&Yv(r.remoteStore,u),y}async function B2(r,e,i,s,u){r.pu=(D,z,Q)=>(async function(et,Z,dt,_t){let ht=Z.view.ru(dt);ht.Cs&&(ht=await m_(et.localStore,Z.query,!1).then((({documents:S})=>Z.view.ru(S,ht))));const qt=_t&&_t.targetChanges.get(Z.targetId),Zt=_t&&_t.targetMismatches.get(Z.targetId)!=null,Vt=Z.view.applyChanges(ht,et.isPrimaryClient,qt,Zt);return b_(et,Z.targetId,Vt.au),Vt.snapshot})(r,D,z,Q);const f=await m_(r.localStore,e,!0),d=new M2(e,f.Qs),y=d.ru(f.documents),v=su.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(y,r.isPrimaryClient,v);b_(r,i,_.au);const b=new O2(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function q2(r,e,i){const s=yt(r),u=s.Tu.get(e),f=s.Iu.get(u.targetId);if(f.length>1)return s.Iu.set(u.targetId,f.filter((d=>!mc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await sd(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&xd(s.remoteStore,u.targetId),ud(s,u.targetId)})).catch(Vr)):(ud(s,u.targetId),await sd(s.localStore,u.targetId,!0))}async function P2(r,e){const i=yt(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),xd(i.remoteStore,s.targetId))}async function j2(r,e,i){const s=X2(r);try{const u=await(function(d,y){const v=yt(d),_=ee.now(),b=y.reduce(((Q,$)=>Q.add($.key)),Dt());let D,z;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let $=Hi(),et=Dt();return v.Ns.getEntries(Q,b).next((Z=>{$=Z,$.forEach(((dt,_t)=>{_t.isValidDocument()||(et=et.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,$))).next((Z=>{D=Z;const dt=[];for(const _t of y){const ht=WA(_t,D.get(_t.key).overlayedDocument);ht!=null&&dt.push(new Ua(_t.key,ht,hv(ht.value.mapValue),Qn.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,dt,y)})).next((Z=>{z=Z;const dt=Z.applyToLocalDocumentSet(D,et);return v.documentOverlayCache.saveOverlays(Q,Z.batchId,dt)}))})).then((()=>({batchId:z.batchId,changes:Tv(D)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(wt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,u.batchId,i),await lu(s,u.changes),await Tc(s.remoteStore)}catch(u){const f=qd(u,"Failed to persist write");i.reject(f)}}async function e0(r,e){const i=yt(r);try{const s=await JS(i.localStore,e);e.targetChanges.forEach(((u,f)=>{const d=i.Au.get(f);d&&(Pt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Pt(d.hu,14607):u.removedDocuments.size>0&&(Pt(d.hu,42227),d.hu=!1))})),await lu(i,s,e)}catch(s){await Vr(s)}}function S_(r,e,i){const s=yt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((f,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=yt(d);v.onlineState=y;let _=!1;v.queries.forEach(((b,D)=>{for(const z of D.Sa)z.va(y)&&(_=!0)})),_&&Pd(v)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function k2(r,e,i){const s=yt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),f=u&&u.key;if(f){let d=new re(ot.comparator);d=d.insert(f,Xe.newNoDocument(f,gt.min()));const y=Dt().add(f),v=new _c(gt.min(),new Map,new re(wt),d,y);await e0(s,v),s.du=s.du.remove(f),s.Au.delete(e),kd(s)}else await sd(s.localStore,e,!1).then((()=>ud(s,e,i))).catch(Vr)}async function H2(r,e){const i=yt(r),s=e.batch.batchId;try{const u=await ZS(i.localStore,e);i0(i,s,null),n0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await lu(i,u)}catch(u){await Vr(u)}}async function G2(r,e,i){const s=yt(r);try{const u=await(function(d,y){const v=yt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return v.mutationQueue.lookupMutationBatch(_,y).next((D=>(Pt(D!==null,37113),b=D.keys(),v.mutationQueue.removeMutationBatch(_,D)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,b,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>v.localDocuments.getDocuments(_,b)))}))})(s.localStore,e);i0(s,e,i),n0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await lu(s,u)}catch(u){await Vr(u)}}function n0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function i0(r,e,i){const s=yt(r);let u=s.Vu[s.currentUser.toKey()];if(u){const f=u.get(e);f&&(i?f.reject(i):f.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function ud(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||a0(r,s)}))}function a0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(xd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),kd(r))}function b_(r,e,i){for(const s of i)s instanceof $v?(r.Ru.addReference(s.key,e),Q2(r,s)):s instanceof Wv?(nt(jd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||a0(r,s.key)):ft(19791,{wu:s})}function Q2(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(nt(jd,"New document in limbo: "+i),r.Eu.add(s),kd(r))}function kd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ot(te.fromString(e)),s=r.fu.next();r.Au.set(s,new x2(i)),r.du=r.du.insert(i,s),Yv(r.remoteStore,new Sa(gi(bd(i.path)),s,"TargetPurposeLimboResolution",cc.ce))}}async function lu(r,e,i){const s=yt(r),u=[],f=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(_){u.push(_);const b=Md.As(v.targetId,_);f.push(b)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(v,_){const b=yt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(D=>X.forEach(_,(z=>X.forEach(z.Es,(Q=>b.persistence.referenceDelegate.addReference(D,z.targetId,Q))).next((()=>X.forEach(z.ds,(Q=>b.persistence.referenceDelegate.removeReference(D,z.targetId,Q)))))))))}catch(D){if(!Nr(D))throw D;nt(Od,"Failed to update sequence numbers: "+D)}for(const D of _){const z=D.targetId;if(!D.fromCache){const Q=b.Ms.get(z),$=Q.snapshotVersion,et=Q.withLastLimboFreeSnapshotVersion($);b.Ms=b.Ms.insert(z,et)}}})(s.localStore,f))}async function Y2(r,e){const i=yt(r);if(!i.currentUser.isEqual(e)){nt(jd,"User change. New user:",e.toKey());const s=await kv(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((y=>{y.forEach((v=>{v.reject(new rt(K.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lu(i,s.Ls)}}function F2(r,e){const i=yt(r),s=i.Au.get(e);if(s&&s.hu)return Dt().add(s.key);{let u=Dt();const f=i.Iu.get(e);if(!f)return u;for(const d of f){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function s0(r){const e=yt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=e0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k2.bind(null,e),e.Pu.H_=V2.bind(null,e.eventManager),e.Pu.yu=N2.bind(null,e.eventManager),e}function X2(r){const e=yt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G2.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return KS(this.persistence,new YS,e.initialUser,this.serializer)}Cu(e){return new jv(Id.mi,this.serializer)}Du(e){return new n2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class K2 extends uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Pt(this.persistence.referenceDelegate instanceof rc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new IS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new jv((s=>rc.mi(s,i)),this.serializer)}}class od{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>S_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y2.bind(null,this.syncEngine),await b2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C2})()}createDatastore(e){const i=vc(e.databaseInfo.databaseId),s=(function(f){return new l2(f)})(e.databaseInfo);return(function(f,d,y,v){return new h2(f,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,f,d,y){return new d2(s,u,f,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>S_(this.syncEngine,i,0)),(function(){return y_.v()?new y_:new i2})())}createSyncEngine(e,i){return(function(u,f,d,y,v,_,b){const D=new z2(u,f,d,y,v,_);return b&&(D.gu=!0),D})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=yt(i);nt(vs,"RemoteStore shutting down."),s.Ea.add(5),await ru(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}od.provider={build:()=>new od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="FirestoreClient";class J2{constructor(e,i,s,u,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Fe.UNAUTHENTICATED,this.clientId=yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{nt(xa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(nt(xa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=qd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jf(r,e){r.asyncQueue.verifyOperationInProgress(),nt(xa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await kv(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function R_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await $2(r);nt(xa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>v_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>v_(e.remoteStore,u))),r._onlineComponents=e}async function $2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(xa,"Using user provided OfflineComponentProvider");try{await jf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Er("Error using user provided cache. Falling back to memory cache: "+i),await jf(r,new uc)}}else nt(xa,"Using default OfflineComponentProvider"),await jf(r,new K2(void 0));return r._offlineComponents}async function r0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(xa,"Using user provided OnlineComponentProvider"),await R_(r,r._uninitializedComponentsProvider._online)):(nt(xa,"Using default OnlineComponentProvider"),await R_(r,new od))),r._onlineComponents}function W2(r){return r0(r).then((e=>e.syncEngine))}async function C_(r){const e=await r0(r),i=e.eventManager;return i.onListen=U2.bind(null,e.syncEngine),i.onUnlisten=q2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=L2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=P2.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="firestore.googleapis.com",D_=!0;class V_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u0,this.ssl=D_}else this.host=e.host,this.ssl=e.ssl??D_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VS)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ac{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new eA;switch(s.type){case"firstParty":return new sA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=w_.get(i);s&&(nt("ComponentProvider","Removing Datastore"),w_.delete(i),s.terminate())})(this),Promise.resolve()}}function tb(r,e,i,s={}){r=wa(r,Ac);const u=md(e),f=r._getSettings(),d={...f,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;u&&(DT(`https://${y}`),MT("Firestore",!0)),f.host!==u0&&f.host!==y&&Er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:y,ssl:u,emulatorOptions:s};if(!Zo(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=Fe.MOCK_USER;else{_=VT(s.mockUserToken,r._app?.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Fe(D)}r._authCredentials=new nA(new W_(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sc(this.firestore,e,this._query)}}class Ne{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ne(this.firestore,e,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(iu(i,Ne._jsonSchema))return new Ne(e,s||null,new ot(te.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:be("string",Ne._jsonSchemaVersion),referencePath:be("string")};class Da extends Sc{constructor(e,i,s){super(e,i,bd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ne(this.firestore,null,new ot(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function N_(r,e,...i){if(r=Pi(r),tv("collection","path",e),r instanceof Ac){const s=te.fromString(e,...i);return ky(s),new Da(r,null,s)}{if(!(r instanceof Ne||r instanceof Da))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return ky(s),new Da(r.firestore,null,s)}}function jl(r,e,...i){if(r=Pi(r),arguments.length===1&&(e=yd.newId()),tv("doc","path",e),r instanceof Ac){const s=te.fromString(e,...i);return jy(s),new Ne(r,null,new ot(s))}{if(!(r instanceof Ne||r instanceof Da))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return jy(s),new Ne(r.firestore,r instanceof Da?r.converter:null,new ot(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="AsyncQueue";class M_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gv(this,"async_queue_retry"),this._c=()=>{const s=Pf();s&&nt(I_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Pf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Pf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nr(e))throw e;nt(I_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",O_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Bd.createAndSchedule(this,e,i,s,(f=>this.hc(f)));return this.tc.push(u),u}uc(){this.nc&&ft(47125,{Pc:O_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function O_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const u=i;for(const f of s)if(f in u&&typeof u[f]=="function")return!0;return!1})(r,["next","error","complete"])}class Cr extends Ac{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new M_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M_(e),this._firestoreClient=void 0,await e}}}function eb(r,e){const i=typeof r=="object"?r:k1(),s=typeof r=="string"?r:tc,u=L1(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=CT("firestore");f&&tb(u,...f)}return u}function o0(r){if(r._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||nb(r),r._firestoreClient}function nb(r){const e=r._freezeSettings(),i=(function(u,f,d,y){return new AA(u,f,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,l0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new J2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(u){const f=u?._online.build();return{_offline:u?._offline.build(f),_online:f}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ge.fromBase64String(e))}catch(i){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Mn(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:be("string",Mn._jsonSchemaVersion),bytes:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(e){if(iu(e,yi._jsonSchema))return new yi(e.latitude,e.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:be("string",yi._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,_i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new _i(e.vectorValues);throw new rt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:be("string",_i._jsonSchemaVersion),vectorValues:be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=/^__.*__$/;class ab{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ua(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class c0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ua(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function h0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{Ac:r})}}class Hd{constructor(e,i,s,u,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(h0(this.Ac)&&ib.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sb{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||vc(e)}Cc(e,i,s,u=!1){return new Hd({Ac:e,methodName:i,Dc:s,path:He.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f0(r){const e=r._freezeSettings(),i=vc(r._databaseId);return new sb(r._databaseId,!!e.ignoreUndefinedProperties,i)}function rb(r,e,i,s,u,f={}){const d=r.Cc(f.merge||f.mergeFields?2:0,e,i,u);Qd("Data must be an object, but it was:",d,s);const y=d0(s,d);let v,_;if(f.merge)v=new _n(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const b=[];for(const D of f.mergeFields){const z=cd(e,D,i);if(!d.contains(z))throw new rt(K.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);g0(b,z)||b.push(z)}v=new _n(b),_=d.fieldTransforms.filter((D=>v.covers(D.field)))}else v=null,_=d.fieldTransforms;return new ab(new ln(y),v,_)}class Cc extends Rc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cc}}class Gd extends Rc{_toFieldTransform(e){return new KA(e.path,new tu)}isEqual(e){return e instanceof Gd}}function lb(r,e,i,s){const u=r.Cc(1,e,i);Qd("Data must be an object, but it was:",u,s);const f=[],d=ln.empty();za(s,((v,_)=>{const b=Yd(e,v,i);_=Pi(_);const D=u.yc(b);if(_ instanceof Cc)f.push(b);else{const z=wc(_,D);z!=null&&(f.push(b),d.set(b,z))}}));const y=new _n(f);return new c0(d,y,u.fieldTransforms)}function ub(r,e,i,s,u,f){const d=r.Cc(1,e,i),y=[cd(e,s,i)],v=[u];if(f.length%2!=0)throw new rt(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<f.length;z+=2)y.push(cd(e,f[z])),v.push(f[z+1]);const _=[],b=ln.empty();for(let z=y.length-1;z>=0;--z)if(!g0(_,y[z])){const Q=y[z];let $=v[z];$=Pi($);const et=d.yc(Q);if($ instanceof Cc)_.push(Q);else{const Z=wc($,et);Z!=null&&(_.push(Q),b.set(Q,Z))}}const D=new _n(_);return new c0(b,D,d.fieldTransforms)}function wc(r,e){if(m0(r=Pi(r)))return Qd("Unsupported field value:",e,r),d0(r,e);if(r instanceof Rc)return(function(s,u){if(!h0(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const f=[];let d=0;for(const y of s){let v=wc(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(r,e)}return(function(s,u){if((s=Pi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YA(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=ee.fromDate(s);return{timestampValue:sc(u.serializer,f)}}if(s instanceof ee){const f=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sc(u.serializer,f)}}if(s instanceof yi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:Ov(u.serializer,s._byteString)};if(s instanceof Ne){const f=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Vd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof _i)return(function(d,y){return{mapValue:{fields:{[ov]:{stringValue:cv},[ec]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Rd(y.serializer,_)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${_d(s)}`)})(r,e)}function d0(r,e){const i={};return iv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(r,((s,u)=>{const f=wc(u,e.mc(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function m0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof yi||r instanceof Mn||r instanceof Ne||r instanceof Rc||r instanceof _i)}function Qd(r,e,i){if(!m0(i)||!ev(i)){const s=_d(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function cd(r,e,i){if((e=Pi(e))instanceof bc)return e._internalPath;if(typeof e=="string")return Yd(r,e);throw oc("Field path arguments must be of type string or ",r,!1,void 0,i)}const ob=new RegExp("[~\\*/\\[\\]]");function Yd(r,e,i){if(e.search(ob)>=0)throw oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new bc(...e.split("."))._internalPath}catch{throw oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oc(r,e,i,s,u){const f=s&&!s.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new rt(K.INVALID_ARGUMENT,y+r+v)}function g0(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,i,s,u,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(y0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class cb extends p0{data(){return super.data()}}function y0(r,e){return typeof e=="string"?Yd(r,e):e instanceof bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fb{convertValue(e,i="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return za(e,((u,f)=>{s[u]=this.convertValue(f,i)})),s}convertVectorValue(e){const i=e.fields?.[ec].arrayValue?.values?.map((s=>de(s.doubleValue)));return new _i(i)}convertGeoPoint(e){return new yi(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=fc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=Na(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);Pt(qv(s),9688,{name:e});const u=new $l(s.get(1),s.get(3)),f=new ot(s.popFirst(5));return u.isEqual(i)||ki(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ys extends p0{constructor(e,i,s,u,f,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(y0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ys._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",ys._jsonSchema={type:be("string",ys._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class Xo extends ys{data(e={}){return super.data(e)}}class vr{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new kl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Xo(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,f){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Xo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new kl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>f||y.type!==3)).map((y=>{const v=new Xo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new kl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,b=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),b=d.indexOf(y.doc.key)),{type:mb(y.type),doc:v,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),s.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),u.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mb(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:r})}}vr._jsonSchemaVersion="firestore/querySnapshot/1.0",vr._jsonSchema={type:be("string",vr._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};class _0 extends fb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function kf(r,e,i,...s){r=wa(r,Ne);const u=wa(r.firestore,Cr),f=f0(u);let d;return d=typeof(e=Pi(e))=="string"||e instanceof bc?ub(f,"updateDoc",r._key,e,i,s):lb(f,"updateDoc",r._key,e),Fd(u,[d.toMutation(r._key,Qn.exists(!0))])}function gb(r){return Fd(wa(r.firestore,Cr),[new Cd(r._key,Qn.none())])}function pb(r,e){const i=wa(r.firestore,Cr),s=jl(r),u=db(r.converter,e);return Fd(i,[rb(f0(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then((()=>s))}function yb(r,...e){r=Pi(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||x_(e[s])||(i=e[s++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(x_(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let f,d,y;if(r instanceof Ne)d=wa(r.firestore,Cr),y=bd(r._key.path),f={next:v=>{e[s]&&e[s](_b(d,r,v))},error:e[s+1],complete:e[s+2]};else{const v=wa(r,Sc);d=wa(v.firestore,Cr),y=v._query;const _=new _0(d);f={next:b=>{e[s]&&e[s](new vr(d,_,v,b))},error:e[s+1],complete:e[s+2]},hb(r._query)}return(function(_,b,D,z){const Q=new Z2(z),$=new I2(b,Q,D);return _.asyncQueue.enqueueAndForget((async()=>w2(await C_(_),$))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>D2(await C_(_),$)))}})(o0(d),y,u,f)}function Fd(r,e){return(function(s,u){const f=new ps;return s.asyncQueue.enqueueAndForget((async()=>j2(await W2(s),u,f))),f.promise})(o0(r),e)}function _b(r,e,i){const s=i.docs.get(e._key),u=new _0(r);return new ys(r,u,e._key,s,new kl(i.hasPendingWrites,i.fromCache),e.converter)}function vb(){return new Gd("serverTimestamp")}(function(e,i=!0){(function(u){Dr=u})(j1),$o(new Xl("firestore",((s,{instanceIdentifier:u,options:f})=>{const d=s.getProvider("app").getImmediate(),y=new Cr(new iA(s.getProvider("auth-internal")),new rA(d,s.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,b)})(d,u),d);return f={useFetchStreams:i,...f},y._setSettings(f),y}),"PUBLIC").setMultipleInstances(!0)),yr(Ly,By,e),yr(Ly,By,"esm2020")})();const Eb={apiKey:"AIzaSyCqdqLLyRMO4Oca310Hq4U48pZnJbnH3OU",authDomain:"nth-boulder-407906.firebaseapp.com",projectId:"nth-boulder-407906",storageBucket:"nth-boulder-407906.firebasestorage.app",messagingSenderId:"147764212388",appId:"1:147764212388:web:89145f2aad3cfba08fec31"},Tb=H_(Eb),fr=eb(Tb),Ab=()=>{const[r,e]=yn.useState([]),[i,s]=yn.useState(!0),[u,f]=yn.useState(null),[d,y]=yn.useState({x:0,y:0}),[v,_]=yn.useState(null),[b,D]=yn.useState(""),z={yellow:"bg-yellow-200 border-yellow-300",pink:"bg-pink-200 border-pink-300",blue:"bg-blue-200 border-blue-300",green:"bg-green-200 border-green-300",purple:"bg-purple-200 border-purple-300",orange:"bg-orange-200 border-orange-300"},Q=Object.keys(z);yn.useEffect(()=>{const S=N_(fr,"notes"),A=yb(S,R=>{const M=R.docs.map(V=>({id:V.id,...V.data()}));e(M),s(!1)},R=>{console.error("Erreur lors de la synchronisation:",R),s(!1)});return()=>A()},[]);const $=async()=>{try{await pb(N_(fr,"notes"),{text:"Nouveau post-it",x:Math.random()*400+50,y:Math.random()*300+50,color:Q[Math.floor(Math.random()*Q.length)],createdAt:vb()})}catch(S){console.error("Erreur lors de l'ajout:",S)}},et=async S=>{try{await gb(jl(fr,"notes",S))}catch(A){console.error("Erreur lors de la suppression:",A)}},Z=(S,A)=>{if(v===A.id)return;const R=S.currentTarget.getBoundingClientRect();y({x:S.clientX-R.left,y:S.clientY-R.top}),f(A)},dt=S=>{if(!u)return;const A=S.currentTarget.getBoundingClientRect(),R=S.clientX-A.left-d.x,M=S.clientY-A.top-d.y,V=Math.max(0,Math.min(R,A.width-200)),x=Math.max(0,Math.min(M,A.height-200));e(r.map(C=>C.id===u.id?{...C,x:V,y:x}:C))},_t=async()=>{if(u){const S=r.find(A=>A.id===u.id);if(S)try{await kf(jl(fr,"notes",u.id),{x:S.x,y:S.y})}catch(A){console.error("Erreur lors de la mise  jour de position:",A)}f(null)}},ht=S=>{_(S.id),D(S.text)},qt=async()=>{try{await kf(jl(fr,"notes",v),{text:b}),_(null),D("")}catch(S){console.error("Erreur lors de la sauvegarde:",S)}},Zt=()=>{_(null),D("")},Vt=async(S,A)=>{const M=(Q.indexOf(A)+1)%Q.length;try{await kf(jl(fr,"notes",S),{color:Q[M]})}catch(V){console.error("Erreur lors du changement de couleur:",V)}};return Kt.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[Kt.jsxs("div",{className:"bg-white shadow-md px-6 py-4 flex items-center justify-between",children:[Kt.jsxs("div",{children:[Kt.jsxs("div",{className:"flex items-center gap-3",children:[Kt.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" Tableau de Post-its"}),Kt.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:[Kt.jsx(dT,{size:16}),"Collaboration en direct"]})]}),Kt.jsx("p",{className:"text-sm text-gray-600",children:"Double-clic pour diter  Glisser-dposer pour dplacer  Synchronis en temps rel"})]}),Kt.jsxs("button",{onClick:$,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors shadow-md",children:[Kt.jsx(hT,{size:20}),"Nouveau post-it"]})]}),i?Kt.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:Kt.jsxs("div",{className:"text-center",children:[Kt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),Kt.jsx("p",{className:"text-gray-600",children:"Chargement du tableau..."})]})}):Kt.jsx("div",{className:"relative w-full h-[calc(100vh-80px)] cursor-default",onMouseMove:dt,onMouseUp:_t,onMouseLeave:_t,children:r.map(S=>Kt.jsxs("div",{className:`absolute w-48 h-48 p-4 rounded-lg shadow-lg border-2 ${z[S.color]} ${u?.id===S.id?"cursor-grabbing scale-105":"cursor-grab"} transition-shadow hover:shadow-xl`,style:{left:`${S.x}px`,top:`${S.y}px`,transform:u?.id===S.id?"rotate(2deg)":"rotate(0deg)"},onMouseDown:A=>Z(A,S),onDoubleClick:()=>ht(S),children:[Kt.jsxs("div",{className:"flex justify-between items-start mb-2",children:[Kt.jsx("button",{onClick:A=>{A.stopPropagation(),Vt(S.id,S.color)},className:"w-4 h-4 rounded-full border-2 border-gray-400 hover:scale-110 transition-transform",title:"Changer de couleur"}),Kt.jsx("button",{onClick:A=>{A.stopPropagation(),et(S.id)},className:"text-gray-500 hover:text-red-600 transition-colors",children:Kt.jsx(gT,{size:16})})]}),v===S.id?Kt.jsxs("div",{className:"flex flex-col gap-2 h-[calc(100%-2rem)]",children:[Kt.jsx("textarea",{value:b,onChange:A=>D(A.target.value),className:"w-full h-24 p-2 border border-gray-300 rounded resize-none focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white/80",autoFocus:!0,onClick:A=>A.stopPropagation(),onMouseDown:A=>A.stopPropagation()}),Kt.jsxs("div",{className:"flex gap-2",children:[Kt.jsx("button",{onClick:qt,className:"flex-1 bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded text-sm",children:"Enregistrer"}),Kt.jsx("button",{onClick:Zt,className:"flex-1 bg-gray-400 hover:bg-gray-500 text-white px-2 py-1 rounded text-sm",children:"Annuler"})]})]}):Kt.jsx("p",{className:"text-gray-800 whitespace-pre-wrap break-words text-sm leading-relaxed",children:S.text})]},S.id))})]})};aT.createRoot(document.getElementById("root")).render(Kt.jsx(yn.StrictMode,{children:Kt.jsx(Ab,{})}));
